!function(){function e(t,i,n){function r(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){return r(t[a][1][e]||e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}return e}()({1:[function(e,t,i){!function(e,n){"object"==typeof i&&void 0!==t?n(i):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).VAST={})}(this,function(e){"use strict";function t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function i(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,n=c(e);if(t){var r=c(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return d(this,i)}}function m(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adId:e.adId||null,sequence:e.sequence||null,apiFramework:e.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=[],r=b(e);for(var o in!t.ERRORCODE||i.isCustomCode||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=k(Math.round(1e8*Math.random())),t.TIMESTAMP=(new Date).toISOString(),t.RANDOM=t.random=t.CACHEBUSTING,t)t[o]=x(t[o]);for(var a in r){var s=r[a];"string"==typeof s&&n.push(v(s,t))}return n}function v(e,t){var i=(e=y(e,t)).match(/[^[\]]+(?=])/g);if(!i)return e;var n=i.filter(function(e){return G.indexOf(e)>-1});return 0===n.length?e:y(e,n=n.reduce(function(e,t){return e[t]=-1,e},{}))}function y(e,t){var i=e;for(var n in t){var r=t[n];i=i.replace(new RegExp("(?:\\[|%%)(".concat(n,")(?:\\]|%%)"),"g"),r)}return i}function b(e){return Array.isArray(e)?e.map(function(e){return e&&e.hasOwnProperty("url")?e.url:e}):e}function w(e,t){for(var i=0;i<t.length;i++)if(A(t[i],e))return!0;return!1}function A(e,t){if(e&&t){var i=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);return i.length===n.length&&e.id===t.id&&e.url===t.url}return!1}function x(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16))})}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return e.toString().padStart(t,"0")}function T(e){return-1!==["true","TRUE","True","1"].indexOf(e)}function E(e,t){var i=function(){var e=g(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{id:e.id,adId:e.adId,sequence:e.sequence,apiFramework:e.apiFramework,type:"companion",required:null,variations:[]}}(t);return i.required=e.getAttribute("required")||null,i.variations=J.childrenByName(e,"Companion").map(function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adType:"companionAd",width:e.width||0,height:e.height||0,assetWidth:e.assetWidth||null,assetHeight:e.assetHeight||null,expandedWidth:e.expandedWidth||null,expandedHeight:e.expandedHeight||null,apiFramework:e.apiFramework||null,adSlotID:e.adSlotID||null,pxratio:e.pxratio||"1",renderingMode:e.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,xmlEncoded:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(J.parseAttributes(e));t.htmlResources=J.childrenByName(e,"HTMLResource").reduce(function(e,t){var i=J.parseNodeText(t);return i?e.concat(i):e},[]),t.iframeResources=J.childrenByName(e,"IFrameResource").reduce(function(e,t){var i=J.parseNodeText(t);return i?e.concat(i):e},[]),t.staticResources=J.childrenByName(e,"StaticResource").reduce(function(e,t){var i=J.parseNodeText(t);return i?e.concat({url:i,creativeType:t.getAttribute("creativeType")||null}):e},[]),t.altText=J.parseNodeText(J.childByName(e,"AltText"))||null;var i=J.childByName(e,"TrackingEvents");i&&J.childrenByName(i,"Tracking").forEach(function(e){var i=e.getAttribute("event"),n=J.parseNodeText(e);i&&n&&(Array.isArray(t.trackingEvents[i])||(t.trackingEvents[i]=[]),t.trackingEvents[i].push(n))}),t.companionClickTrackingURLTemplates=J.childrenByName(e,"CompanionClickTracking").map(function(e){return{id:e.getAttribute("id")||null,url:J.parseNodeText(e)}}),t.companionClickThroughURLTemplate=J.parseNodeText(J.childByName(e,"CompanionClickThrough"))||null;var n=J.childByName(e,"AdParameters");return n&&(t.adParameters=J.parseNodeText(n),t.xmlEncoded=n.getAttribute("xmlEncoded")||null),t}),i}function C(e){return"linear"===e.type}function S(e,t){var i,n=function(){var e=g(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{id:e.id,adId:e.adId,sequence:e.sequence,apiFramework:e.apiFramework,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(t);n.duration=J.parseDuration(J.parseNodeText(J.childByName(e,"Duration")));var r=e.getAttribute("skipoffset");if(null==r)n.skipDelay=null;else if("%"===r.charAt(r.length-1)&&-1!==n.duration){var o=parseInt(r,10);n.skipDelay=n.duration*(o/100)}else n.skipDelay=J.parseDuration(r);var a=J.childByName(e,"VideoClicks");if(a){var s=J.childByName(a,"ClickThrough");n.videoClickThroughURLTemplate=s?{id:s.getAttribute("id")||null,url:J.parseNodeText(s)}:null,J.childrenByName(a,"ClickTracking").forEach(function(e){n.videoClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:J.parseNodeText(e)})}),J.childrenByName(a,"CustomClick").forEach(function(e){n.videoCustomClickURLTemplates.push({id:e.getAttribute("id")||null,url:J.parseNodeText(e)})})}var l=J.childByName(e,"AdParameters");l&&(n.adParameters=J.parseNodeText(l)),J.childrenByName(e,"TrackingEvents").forEach(function(e){J.childrenByName(e,"Tracking").forEach(function(e){var t=e.getAttribute("event"),r=J.parseNodeText(e);if(t&&r){if("progress"===t){if(!(i=e.getAttribute("offset")))return;t="progress-".concat("%"===i.charAt(i.length-1)?i:Math.round(J.parseDuration(i)))}Array.isArray(n.trackingEvents[t])||(n.trackingEvents[t]=[]),n.trackingEvents[t].push(r)}})}),J.childrenByName(e,"MediaFiles").forEach(function(e){J.childrenByName(e,"MediaFile").forEach(function(e){n.mediaFiles.push(function(e){var t={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};t.id=e.getAttribute("id"),t.fileURL=J.parseNodeText(e),t.deliveryType=e.getAttribute("delivery"),t.codec=e.getAttribute("codec"),t.mimeType=e.getAttribute("type"),t.mediaType=e.getAttribute("mediaType")||"2D",t.apiFramework=e.getAttribute("apiFramework"),t.fileSize=parseInt(e.getAttribute("fileSize")||0),t.bitrate=parseInt(e.getAttribute("bitrate")||0),t.minBitrate=parseInt(e.getAttribute("minBitrate")||0),t.maxBitrate=parseInt(e.getAttribute("maxBitrate")||0),t.width=parseInt(e.getAttribute("width")||0),t.height=parseInt(e.getAttribute("height")||0);var i=e.getAttribute("scalable");i&&"string"==typeof i&&(t.scalable=J.parseBoolean(i));var n=e.getAttribute("maintainAspectRatio");return n&&"string"==typeof n&&(t.maintainAspectRatio=J.parseBoolean(n)),t}(e))});var t=J.childByName(e,"InteractiveCreativeFile");t&&(n.interactiveCreativeFile=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,apiFramework:e.apiFramework||null,variableDuration:J.parseBoolean(e.variableDuration),fileURL:null}}(J.parseAttributes(e));return t.fileURL=J.parseNodeText(e),t}(t));var i=J.childByName(e,"ClosedCaptionFiles");i&&J.childrenByName(i,"ClosedCaptionFile").forEach(function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,language:e.language||null,fileURL:null}}(J.parseAttributes(e));t.fileURL=J.parseNodeText(e),n.closedCaptionFiles.push(t)});var r,o,a,s=J.childByName(e,"Mezzanine"),l=(r=s,o={},a=!1,["delivery","type","width","height"].forEach(function(e){r&&r.getAttribute(e)?o[e]=r.getAttribute(e):a=!0}),a?null:o);if(l){var c={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};c.id=s.getAttribute("id"),c.fileURL=J.parseNodeText(s),c.delivery=l.delivery,c.codec=s.getAttribute("codec"),c.type=l.type,c.width=parseInt(l.width,10),c.height=parseInt(l.height,10),c.fileSize=parseInt(s.getAttribute("fileSize"),10),c.mediaType=s.getAttribute("mediaType")||"2D",n.mezzanine=c}});var c=J.childByName(e,"Icons");return c&&J.childrenByName(c,"Icon").forEach(function(e){n.icons.push(function(e){var t={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null};t.program=e.getAttribute("program"),t.height=parseInt(e.getAttribute("height")||0),t.width=parseInt(e.getAttribute("width")||0),t.xPosition=function(e){return-1!==["left","right"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("xPosition")),t.yPosition=function(e){return-1!==["top","bottom"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("yPosition")),t.apiFramework=e.getAttribute("apiFramework"),t.pxratio=e.getAttribute("pxratio")||"1",t.offset=J.parseDuration(e.getAttribute("offset")),t.duration=J.parseDuration(e.getAttribute("duration")),J.childrenByName(e,"HTMLResource").forEach(function(e){t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=J.parseNodeText(e)}),J.childrenByName(e,"IFrameResource").forEach(function(e){t.type=e.getAttribute("creativeType")||0,t.iframeResource=J.parseNodeText(e)}),J.childrenByName(e,"StaticResource").forEach(function(e){t.type=e.getAttribute("creativeType")||0,t.staticResource=J.parseNodeText(e)});var i=J.childByName(e,"IconClicks");return i&&(t.iconClickThroughURLTemplate=J.parseNodeText(J.childByName(i,"IconClickThrough")),J.childrenByName(i,"IconClickTracking").forEach(function(e){t.iconClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:J.parseNodeText(e)})})),t.iconViewTrackingURLTemplate=J.parseNodeText(J.childByName(e,"IconViewTracking")),t}(e))}),n}function I(e,t){var i=function(){var e=g(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{id:e.id,adId:e.adId,sequence:e.sequence,apiFramework:e.apiFramework,type:"nonlinear",variations:[],trackingEvents:{}}}(t);return J.childrenByName(e,"TrackingEvents").forEach(function(e){var t,n;J.childrenByName(e,"Tracking").forEach(function(e){t=e.getAttribute("event"),n=J.parseNodeText(e),t&&n&&(Array.isArray(i.trackingEvents[t])||(i.trackingEvents[t]=[]),i.trackingEvents[t].push(n))})}),J.childrenByName(e,"NonLinear").forEach(function(e){var t={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};t.id=e.getAttribute("id")||null,t.width=e.getAttribute("width"),t.height=e.getAttribute("height"),t.expandedWidth=e.getAttribute("expandedWidth"),t.expandedHeight=e.getAttribute("expandedHeight"),t.scalable=J.parseBoolean(e.getAttribute("scalable")),t.maintainAspectRatio=J.parseBoolean(e.getAttribute("maintainAspectRatio")),t.minSuggestedDuration=J.parseDuration(e.getAttribute("minSuggestedDuration")),t.apiFramework=e.getAttribute("apiFramework"),J.childrenByName(e,"HTMLResource").forEach(function(e){t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=J.parseNodeText(e)}),J.childrenByName(e,"IFrameResource").forEach(function(e){t.type=e.getAttribute("creativeType")||0,t.iframeResource=J.parseNodeText(e)}),J.childrenByName(e,"StaticResource").forEach(function(e){t.type=e.getAttribute("creativeType")||0,t.staticResource=J.parseNodeText(e)});var n=J.childByName(e,"AdParameters");n&&(t.adParameters=J.parseNodeText(n)),t.nonlinearClickThroughURLTemplate=J.parseNodeText(J.childByName(e,"NonLinearClickThrough")),J.childrenByName(e,"NonLinearClickTracking").forEach(function(e){t.nonlinearClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:J.parseNodeText(e)})}),i.variations.push(t)}),i}function _(e){var t=[];return e.forEach(function(e){var i=L(e);i&&t.push(i)}),t}function L(e){if("#comment"===e.nodeName)return null;var t,i={name:null,value:null,attributes:{},children:[]},n=e.attributes,r=e.childNodes;if(i.name=e.nodeName,e.attributes)for(var o in n)if(n.hasOwnProperty(o)){var a=n[o];a.nodeName&&a.nodeValue&&(i.attributes[a.nodeName]=a.nodeValue)}for(var s in r)if(r.hasOwnProperty(s)){var l=L(r[s]);l&&i.children.push(l)}if(0===i.children.length||1===i.children.length&&["#cdata-section","#text"].indexOf(i.children[0].name)>=0){var c=J.parseNodeText(e);""!==c&&(i.value=c),i.children=[]}return null===(t=i).value&&0===Object.keys(t.attributes).length&&0===t.children.length?null:i}function M(e){var t=[];return e.forEach(function(e){var i,n={id:e.getAttribute("id")||null,adId:P(e),sequence:e.getAttribute("sequence")||null,apiFramework:e.getAttribute("apiFramework")||null},r=[];J.childrenByName(e,"UniversalAdId").forEach(function(e){var t={idRegistry:e.getAttribute("idRegistry")||"unknown",value:J.parseNodeText(e)};r.push(t)});var o=J.childByName(e,"CreativeExtensions");for(var a in o&&(i=_(J.childrenByName(o,"CreativeExtension"))),e.childNodes){var s=e.childNodes[a],l=void 0;switch(s.nodeName){case"Linear":l=S(s,n);break;case"NonLinearAds":l=I(s,n);break;case"CompanionAds":l=E(s,n)}l&&(r&&(l.universalAdIds=r),i&&(l.creativeExtensions=i),t.push(l))}}),t}function P(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null}function O(e,t){if(Y[e.nodeName]&&Y[e.nodeName].attributes){var i=Y[e.nodeName].attributes.filter(function(t){return!e.getAttribute(t)});i.length>0&&B({name:e.nodeName,parentName:e.parentNode.nodeName,attributes:i},t)}}function N(e,t,i){var n=Y[e.nodeName],r=!i&&"Wrapper"!==e.nodeName;if(n&&!r){if(n.subElements){var o=n.subElements.filter(function(t){return!J.childByName(e,t)});o.length>0&&B({name:e.nodeName,parentName:e.parentNode.nodeName,subElements:o},t)}i&&n.oneOfinLineResources&&(n.oneOfinLineResources.some(function(t){return J.childByName(e,t)})||B({name:e.nodeName,parentName:e.parentNode.nodeName,oneOfResources:n.oneOfinLineResources},t))}}function R(e){return e.children&&0!==e.children.length}function B(e,t){var i=e.name,n=e.parentName,r=e.attributes,o=e.subElements,a=e.oneOfResources,s="Element '".concat(i,"'");t("VAST-warning",{message:s+=r?" missing required attribute(s) '".concat(r.join(", "),"' "):o?" missing required sub element(s) '".concat(o.join(", "),"' "):a?" must provide one of the following '".concat(a.join(", "),"' "):" is empty",parentElement:n,specVersion:4.1})}function D(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.allowMultipleAds,r=i.followAdditionalWrappers,o=e.childNodes;for(var a in o){var s=o[a];if(-1!==["Wrapper","InLine"].indexOf(s.nodeName)&&("Wrapper"!==s.nodeName||!1!==r)){if(J.copyNodeAttribute("id",e,s),J.copyNodeAttribute("sequence",e,s),J.copyNodeAttribute("adType",e,s),"Wrapper"===s.nodeName)return{ad:z(s,t),type:"WRAPPER"};if("InLine"===s.nodeName)return{ad:F(s,t,{allowMultipleAds:n}),type:"INLINE"}}}}function F(e,t){return!1===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allowMultipleAds&&e.getAttribute("sequence")?null:V(e,t)}function V(e,t){var i=[];t&&Q.verifyRequiredValues(e,t);var n=e.childNodes,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,sequence:e.sequence||null,adType:e.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(J.parseAttributes(e));for(var o in n){var a=n[o];switch(a.nodeName){case"Error":r.errorURLTemplates.push(J.parseNodeText(a));break;case"Impression":r.impressionURLTemplates.push({id:a.getAttribute("id")||null,url:J.parseNodeText(a)});break;case"Creatives":r.creatives=M(J.childrenByName(a,"Creative"));break;case"Extensions":var s=J.childrenByName(a,"Extension");r.extensions=_(s),r.adVerifications.length||(i=j(s));break;case"AdVerifications":r.adVerifications=U(J.childrenByName(a,"Verification"));break;case"AdSystem":r.system={value:J.parseNodeText(a),version:a.getAttribute("version")||null};break;case"AdTitle":r.title=J.parseNodeText(a);break;case"AdServingId":r.adServingId=J.parseNodeText(a);break;case"Category":r.categories.push({authority:a.getAttribute("authority")||null,value:J.parseNodeText(a)});break;case"Expires":r.expires=parseInt(J.parseNodeText(a),10);break;case"ViewableImpression":r.viewableImpression.push(H(a));break;case"Description":r.description=J.parseNodeText(a);break;case"Advertiser":r.advertiser={id:a.getAttribute("id")||null,value:J.parseNodeText(a)};break;case"Pricing":r.pricing={value:J.parseNodeText(a),model:a.getAttribute("model")||null,currency:a.getAttribute("currency")||null};break;case"Survey":r.survey=J.parseNodeText(a);break;case"BlockedAdCategories":r.blockedAdCategories.push({authority:a.getAttribute("authority")||null,value:J.parseNodeText(a)})}}return i.length&&(r.adVerifications=r.adVerifications.concat(i)),r}function z(e,t){var i=V(e,t),n=e.getAttribute("followAdditionalWrappers"),r=e.getAttribute("allowMultipleAds"),o=e.getAttribute("fallbackOnNoAd");i.followAdditionalWrappers=!n||J.parseBoolean(n),i.allowMultipleAds=!!r&&J.parseBoolean(r),i.fallbackOnNoAd=o?J.parseBoolean(o):null;var a=J.childByName(e,"VASTAdTagURI");if(a?i.nextWrapperURL=J.parseNodeText(a):(a=J.childByName(e,"VASTAdTagURL"))&&(i.nextWrapperURL=J.parseNodeText(J.childByName(a,"URL"))),i.creatives.forEach(function(e){if(-1!==["linear","nonlinear"].indexOf(e.type)){if(e.trackingEvents){i.trackingEvents||(i.trackingEvents={}),i.trackingEvents[e.type]||(i.trackingEvents[e.type]={});for(var t in e.trackingEvents)!function(t){var n=e.trackingEvents[t];Array.isArray(i.trackingEvents[e.type][t])||(i.trackingEvents[e.type][t]=[]),n.forEach(function(n){i.trackingEvents[e.type][t].push(n)})}(t)}e.videoClickTrackingURLTemplates&&(Array.isArray(i.videoClickTrackingURLTemplates)||(i.videoClickTrackingURLTemplates=[]),e.videoClickTrackingURLTemplates.forEach(function(e){i.videoClickTrackingURLTemplates.push(e)})),e.videoClickThroughURLTemplate&&(i.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate),e.videoCustomClickURLTemplates&&(Array.isArray(i.videoCustomClickURLTemplates)||(i.videoCustomClickURLTemplates=[]),e.videoCustomClickURLTemplates.forEach(function(e){i.videoCustomClickURLTemplates.push(e)}))}}),i.nextWrapperURL)return i}function U(e){var t=[];return e.forEach(function(e){var i={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},n=e.childNodes;for(var r in J.assignAttributes(e.attributes,i),n){var o=n[r];switch(o.nodeName){case"JavaScriptResource":case"ExecutableResource":i.resource=J.parseNodeText(o),J.assignAttributes(o.attributes,i);break;case"VerificationParameters":i.parameters=J.parseNodeText(o)}}var a=J.childByName(e,"TrackingEvents");a&&J.childrenByName(a,"Tracking").forEach(function(e){var t=e.getAttribute("event"),n=J.parseNodeText(e);t&&n&&(Array.isArray(i.trackingEvents[t])||(i.trackingEvents[t]=[]),i.trackingEvents[t].push(n))}),t.push(i)}),t}function j(e){var t=null,i=[];return e.some(function(e){return t=J.childByName(e,"AdVerifications")}),t&&(i=U(J.childrenByName(t,"Verification"))),i}function H(e){var t={};t.id=e.getAttribute("id")||null;var i=e.childNodes;for(var n in i){var r=i[n],o=r.nodeName,a=J.parseNodeText(r);if(("Viewable"===o||"NotViewable"===o||"ViewUndetermined"===o)&&a){var s=o.toLowerCase();Array.isArray(t[s])||(t[s]=[]),t[s].push(a)}}return t}function W(){try{var e=new window.XMLHttpRequest;return"withCredentials"in e?e:null}catch(e){return null}}function q(e,t,i){var n=i?408:e.status,r=i?"XHRURLHandler: Request timed out after ".concat(e.timeout," ms (").concat(n,")"):"XHRURLHandler: ".concat(e.statusText," (").concat(n,")");t(new Error(r),null,{statusCode:n})}var G=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"],K={track:function(e,t,i){h(e,t,i).forEach(function(e){"undefined"!=typeof window&&null!==window&&((new Image).src=e)})},resolveURLTemplates:h,extractURLsFromTemplates:b,containsTemplateObject:w,isTemplateObjectEqual:A,encodeURIComponentRFC3986:x,replaceUrlMacros:v,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},flatten:function e(t){return t.reduce(function(t,i){return t.concat(Array.isArray(i)?e(i):i)},[])},joinArrayOfUniqueTemplateObjs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Array.isArray(e)?e:[],n=Array.isArray(t)?t:[];return i.concat(n).reduce(function(e,t){return w(t,e)||e.push(t),e},[])},isValidTimeValue:function(e){return Number.isFinite(e)&&e>=-2},addLeadingZeros:k},J={childByName:function(e,t){var i=e.childNodes;for(var n in i){var r=i[n];if(r.nodeName===t)return r}},childrenByName:function(e,t){var i=[],n=e.childNodes;for(var r in n){var o=n[r];o.nodeName===t&&i.push(o)}return i},resolveVastAdTagURI:function(e,t){if(!t)return e;if(0===e.indexOf("//")){return"".concat(location.protocol).concat(e)}if(-1===e.indexOf("://")){return"".concat(t.slice(0,t.lastIndexOf("/")),"/").concat(e)}return e},parseBoolean:T,parseNodeText:function(e){return e&&(e.textContent||e.text||"").trim()},copyNodeAttribute:function(e,t,i){var n=t.getAttribute(e);n&&i.setAttribute(e,n)},parseAttributes:function(e){for(var t=e.attributes,i={},n=0;n<t.length;n++)i[t[n].nodeName]=t[n].nodeValue;return i},parseDuration:function(e){if(null==e)return-1;if(K.isNumeric(e))return parseInt(e);var t=e.split(":");if(3!==t.length)return-1;var i=t[2].split("."),n=parseInt(i[0]);2===i.length&&(n+=parseFloat("0.".concat(i[1])));var r=parseInt(60*t[1]),o=parseInt(60*t[0]*60);return isNaN(o)||isNaN(r)||isNaN(n)||r>3600||n>60?-1:o+r+n},splitVAST:function(e){var t=[],i=null;return e.forEach(function(n,r){if(n.sequence&&(n.sequence=parseInt(n.sequence,10)),n.sequence>1){var o=e[r-1];if(o&&o.sequence===n.sequence-1)return void(i&&i.push(n));delete n.sequence}i=[n],t.push(i)}),t},assignAttributes:function(e,t){if(e)for(var i in e){var n=e[i];if(n.nodeName&&n.nodeValue&&t.hasOwnProperty(n.nodeName)){var r=n.nodeValue;"boolean"==typeof t[n.nodeName]&&(r=T(r)),t[n.nodeName]=r}}},mergeWrapperAdData:function(e,t){e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),t.viewableImpression.length>0&&(e.viewableImpression=[].concat(m(e.viewableImpression),m(t.viewableImpression))),e.followAdditionalWrappers=t.followAdditionalWrappers,e.allowMultipleAds=t.allowMultipleAds,e.fallbackOnNoAd=t.fallbackOnNoAd;var i=(t.creatives||[]).filter(function(e){return e&&"companion"===e.type}),n=i.reduce(function(e,t){return(t.variations||[]).forEach(function(t){(t.companionClickTrackingURLTemplates||[]).forEach(function(t){K.containsTemplateObject(t,e)||e.push(t)})}),e},[]);e.creatives=i.concat(e.creatives);var r=t.videoClickTrackingURLTemplates&&t.videoClickTrackingURLTemplates.length,o=t.videoCustomClickURLTemplates&&t.videoCustomClickURLTemplates.length;e.creatives.forEach(function(e){if(t.trackingEvents&&t.trackingEvents[e.type])for(var i in t.trackingEvents[e.type]){var a=t.trackingEvents[e.type][i];Array.isArray(e.trackingEvents[i])||(e.trackingEvents[i]=[]),e.trackingEvents[i]=e.trackingEvents[i].concat(a)}"linear"===e.type&&(r&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)),o&&(e.videoCustomClickURLTemplates=e.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)),!t.videoClickThroughURLTemplate||null!==e.videoClickThroughURLTemplate&&void 0!==e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)),"companion"===e.type&&n.length&&(e.variations||[]).forEach(function(e){e.companionClickTrackingURLTemplates=K.joinArrayOfUniqueTemplateObjs(e.companionClickTrackingURLTemplates,n)})}),t.adVerifications&&(e.adVerifications=e.adVerifications.concat(t.adVerifications)),t.blockedAdCategories&&(e.blockedAdCategories=e.blockedAdCategories.concat(t.blockedAdCategories))}},Y={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}},Q={verifyRequiredValues:function e(t,i,n){if(t&&t.nodeName)if("InLine"===t.nodeName&&(n=!0),O(t,i),R(t)){N(t,i,n);for(var r=0;r<t.children.length;r++)e(t.children[r],i,n)}else 0===J.parseNodeText(t).length&&B({name:t.nodeName,parentName:t.parentNode.nodeName},i)},hasSubElements:R,emitMissingValueWarning:B,verifyRequiredAttributes:O,verifyRequiredSubElements:N},X=function(){function e(){r(this,e),this._handlers=[]}return a(e,[{key:"on",value:function(e,t){if("function"!=typeof t)throw new TypeError("The handler argument must be of type Function. Received type ".concat(n(t)));if(!e)throw new TypeError("The event argument must be of type String. Received type ".concat(n(e)));return this._handlers.push({event:e,handler:t}),this}},{key:"once",value:function(e,t){return this.on(e,function(e,t,i){function n(){r.fired||(e.off(t,r.wrapFn),r.fired=!0,i.bind(e).apply(void 0,arguments))}var r={fired:!1,wrapFn:void 0};return r.wrapFn=n,n}(this,e,t))}},{key:"off",value:function(e,t){return this._handlers=this._handlers.filter(function(i){return i.event!==e||i.handler!==t}),this}},{key:"emit",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r=!1;return this._handlers.forEach(function(t){"*"===t.event&&(r=!0,t.handler.apply(t,[e].concat(i))),t.event===e&&(r=!0,t.handler.apply(t,i))}),r}},{key:"removeAllListeners",value:function(e){return e?(this._handlers=this._handlers.filter(function(t){return t.event!==e}),this):(this._handlers=[],this)}},{key:"listenerCount",value:function(e){return this._handlers.filter(function(t){return t.event===e}).length}},{key:"listeners",value:function(e){return this._handlers.reduce(function(t,i){return i.event===e&&t.push(i.handler),t},[])}},{key:"eventNames",value:function(){return this._handlers.map(function(e){return e.event})}}]),e}(),Z={get:function(e,t,i){i(new Error("Please bundle the library for node to use the node urlHandler"))}},$={get:function(e,t,i){if("https:"===window.location.protocol&&0===e.indexOf("http://"))return i(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{
var n=W();n.open("GET",e),n.timeout=t.timeout||12e4,n.withCredentials=t.withCredentials||!1,n.overrideMimeType&&n.overrideMimeType("text/xml"),n.onload=function(){return function(e,t){200===e.status?t(null,e.responseXML,{byteLength:e.response.length,statusCode:e.status}):q(e,t,!1)}(n,i)},n.onerror=function(){return q(n,i,!1)},n.onabort=function(){return q(n,i,!1)},n.ontimeout=function(){return q(n,i,!0)},n.send()}catch(e){i(new Error("XHRURLHandler: Unexpected error"))}},supported:function(){return!!W()}},ee={get:function(e,t,i){return i||("function"==typeof t&&(i=t),t={}),"undefined"==typeof window||null===window?Z.get(e,t,i):$.supported()?$.get(e,t,i):i(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))}},te=0,ie=0,ne=function(e,t){!e||!t||e<=0||t<=0||(ie=(ie*te+8*e/t)/++te)},re={ERRORCODE:900,extensions:[]},oe=function(e){function t(){var e;return r(this,t),(e=i.call(this)).remainingAds=[],e.parentURLs=[],e.errorURLTemplates=[],e.rootErrorURLTemplates=[],e.maxWrapperDepth=null,e.URLTemplateFilters=[],e.fetchingOptions={},e.parsingOptions={},e}l(t,e);var i=p(t);return a(t,[{key:"addURLTemplateFilter",value:function(e){"function"==typeof e&&this.URLTemplateFilters.push(e)}},{key:"removeURLTemplateFilter",value:function(){this.URLTemplateFilters.pop()}},{key:"countURLTemplateFilters",value:function(){return this.URLTemplateFilters.length}},{key:"clearURLTemplateFilters",value:function(){this.URLTemplateFilters=[]}},{key:"trackVastError",value:function(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];this.emit("VAST-error",Object.assign.apply(Object,[{},re,t].concat(n))),K.track(e,t)}},{key:"getErrorURLTemplates",value:function(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}},{key:"getEstimatedBitrate",value:function(){return ie}},{key:"fetchVAST",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(function(o,a){t.URLTemplateFilters.forEach(function(t){e=t(e)}),t.parentURLs.push(e);var s=Date.now();t.emit("VAST-resolving",{url:e,previousUrl:n,wrapperDepth:i,maxWrapperDepth:t.maxWrapperDepth,timeout:t.fetchingOptions.timeout,wrapperAd:r}),t.urlHandler.get(e,t.fetchingOptions,function(r,l){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=Math.round(Date.now()-s),d=Object.assign({url:e,previousUrl:n,wrapperDepth:i,error:r,duration:u},c);t.emit("VAST-resolved",d),ne(c.byteLength,u),r?a(r):o(l)})})}},{key:"initParsingStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.errorURLTemplates=[],this.fetchingOptions={timeout:e.timeout||12e4,withCredentials:e.withCredentials},this.maxWrapperDepth=e.wrapperLimit||10,this.parentURLs=[],this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.remainingAds=[],this.rootErrorURLTemplates=[],this.rootURL="",this.urlHandler=e.urlHandler||e.urlhandler||ee,this.vastVersion=null,ne(e.byteLength,e.requestDuration)}},{key:"getRemainingAds",value:function(e){var t=this;if(0===this.remainingAds.length)return Promise.reject(new Error("No more ads are available for the given VAST"));var i=e?K.flatten(this.remainingAds):this.remainingAds.shift();return this.errorURLTemplates=[],this.parentURLs=[],this.resolveAds(i,{wrapperDepth:0,url:this.rootURL}).then(function(e){return t.buildVASTResponse(e)})}},{key:"getAndParseVAST",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(i),this.URLTemplateFilters.forEach(function(t){e=t(e)}),this.rootURL=e,this.fetchVAST(e).then(function(n){return i.previousUrl=e,i.isRootVAST=!0,i.url=e,t.parse(n,i).then(function(e){return t.buildVASTResponse(e)})})}},{key:"parseVAST",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(i),i.isRootVAST=!0,this.parse(e,i).then(function(e){return t.buildVASTResponse(e)})}},{key:"buildVASTResponse",value:function(e){var t,i={ads:(t={ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion}).ads||[],errorURLTemplates:t.errorURLTemplates||[],version:t.version||null};return this.completeWrapperResolving(i),i}},{key:"parseVastXml",value:function(e,t){var i=t.isRootVAST,n=void 0!==i&&i,r=t.url,o=void 0===r?null:r,a=t.wrapperDepth,s=void 0===a?0:a,l=t.allowMultipleAds,c=t.followAdditionalWrappers;if(!e||!e.documentElement||"VAST"!==e.documentElement.nodeName)throw this.emit("VAST-ad-parsed",{type:"ERROR",url:o,wrapperDepth:s}),new Error("Invalid VAST XMLDocument");var u=[],d=e.documentElement.childNodes,p=e.documentElement.getAttribute("version");for(var m in n&&p&&(this.vastVersion=p),d){var f=d[m];if("Error"===f.nodeName){var g=J.parseNodeText(f);n?this.rootErrorURLTemplates.push(g):this.errorURLTemplates.push(g)}else if("Ad"===f.nodeName){if(this.vastVersion&&parseFloat(this.vastVersion)<3)l=!0;else if(!1===l&&u.length>1)break;var h=D(f,this.emit.bind(this),{allowMultipleAds:l,followAdditionalWrappers:c});h.ad?(u.push(h.ad),this.emit("VAST-ad-parsed",{type:h.type,url:o,wrapperDepth:s,adIndex:u.length-1,vastVersion:p})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return u}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.url,n=void 0===i?null:i,r=t.resolveAll,o=void 0===r||r,a=t.wrapperSequence,s=void 0===a?null:a,l=t.previousUrl,c=void 0===l?null:l,u=t.wrapperDepth,d=void 0===u?0:u,p=t.isRootVAST,m=void 0!==p&&p,f=t.followAdditionalWrappers,g=t.allowMultipleAds,h=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&m&&(g=!0);try{h=this.parseVastXml(e,{isRootVAST:m,url:n,wrapperDepth:d,allowMultipleAds:g,followAdditionalWrappers:f})}catch(e){return Promise.reject(e)}return 1===h.length&&null!=s&&(h[0].sequence=s),!1===o&&(this.remainingAds=J.splitVAST(h),h=this.remainingAds.shift()),this.resolveAds(h,{wrapperDepth:d,previousUrl:c,url:n})}},{key:"resolveAds",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,n=i.wrapperDepth,r=i.previousUrl,o=i.url,a=[];return r=o,t.forEach(function(t){var i=e.resolveWrappers(t,n,r);a.push(i)}),Promise.all(a).then(function(t){var i=K.flatten(t);if(!i&&e.remainingAds.length>0){var a=e.remainingAds.shift();return e.resolveAds(a,{wrapperDepth:n,previousUrl:r,url:o})}return i})}},{key:"resolveWrappers",value:function(e,t,i){var n=this;return new Promise(function(r){var o;if(t++,!e.nextWrapperURL)return delete e.nextWrapperURL,r(e);if(t>=n.maxWrapperDepth||-1!==n.parentURLs.indexOf(e.nextWrapperURL))return e.errorCode=302,delete e.nextWrapperURL,r(e);e.nextWrapperURL=J.resolveVastAdTagURI(e.nextWrapperURL,i),n.URLTemplateFilters.forEach(function(t){e.nextWrapperURL=t(e.nextWrapperURL)});var a=null!==(o=n.parsingOptions.allowMultipleAds)&&void 0!==o?o:e.allowMultipleAds,s=e.sequence;n.fetchVAST(e.nextWrapperURL,t,i,e).then(function(o){return n.parse(o,{url:e.nextWrapperURL,previousUrl:i,wrapperSequence:s,wrapperDepth:t,followAdditionalWrappers:e.followAdditionalWrappers,allowMultipleAds:a}).then(function(t){if(delete e.nextWrapperURL,0===t.length)return e.creatives=[],r(e);t.forEach(function(t){t&&J.mergeWrapperAdData(t,e)}),r(t)})}).catch(function(t){e.errorCode=301,e.errorMessage=t.message,r(e)})})}},{key:"completeWrapperResolving",value:function(e){if(0===e.ads.length)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(var t=e.ads.length-1;t>=0;t--){var i=e.ads[t];(i.errorCode||0===i.creatives.length)&&(this.trackVastError(i.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:i.errorCode||303},{ERRORMESSAGE:i.errorMessage||""},{extensions:i.extensions},{system:i.system}),e.ads.splice(t,1))}}}]),t}(X),ae=null,se={data:{},length:0,getItem:function(e){return this.data[e]},setItem:function(e,t){this.data[e]=t,this.length=Object.keys(this.data).length},removeItem:function(e){delete this.data[e],this.length=Object.keys(this.data).length},clear:function(){this.data={},this.length=0}},le=function(){function e(){r(this,e),this.storage=this.initStorage()}return a(e,[{key:"initStorage",value:function(){if(ae)return ae;try{ae="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){ae=null}return ae&&!this.isStorageDisabled(ae)||(ae=se).clear(),ae}},{key:"isStorageDisabled",value:function(e){var t="__VASTStorage__";try{if(e.setItem(t,t),e.getItem(t)!==t)return e.removeItem(t),!0}catch(e){return!0}return e.removeItem(t),!1}},{key:"getItem",value:function(e){return this.storage.getItem(e)}},{key:"setItem",value:function(e,t){return this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){return this.storage.removeItem(e)}},{key:"clear",value:function(){return this.storage.clear()}}]),e}(),ce=function(){function e(t,i,n){r(this,e),this.cappingFreeLunch=t||0,this.cappingMinimumTimeInterval=i||0,this.defaultOptions={withCredentials:!1,timeout:0},this.vastParser=new oe,this.storage=n||new le,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}return a(e,[{key:"getParser",value:function(){return this.vastParser}},{key:"lastSuccessfulAd",get:function(){return this.storage.getItem("vast-client-last-successful-ad")},set:function(e){this.storage.setItem("vast-client-last-successful-ad",e)}},{key:"totalCalls",get:function(){return this.storage.getItem("vast-client-total-calls")},set:function(e){this.storage.setItem("vast-client-total-calls",e)}},{key:"totalCallsTimeout",get:function(){return this.storage.getItem("vast-client-total-calls-timeout")},set:function(e){this.storage.setItem("vast-client-total-calls-timeout",e)}},{key:"hasRemainingAds",value:function(){return this.vastParser.remainingAds.length>0}},{key:"getNextAds",value:function(e){return this.vastParser.getRemainingAds(e)}},{key:"get",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Date.now();return(i=Object.assign({},this.defaultOptions,i)).hasOwnProperty("resolveAll")||(i.resolveAll=!1),this.totalCallsTimeout<n?(this.totalCalls=1,this.totalCallsTimeout=n+36e5):this.totalCalls++,new Promise(function(r,o){if(t.cappingFreeLunch>=t.totalCalls)return o(new Error("VAST call canceled – FreeLunch capping not reached yet ".concat(t.totalCalls,"/").concat(t.cappingFreeLunch)));var a=n-t.lastSuccessfulAd;if(a<0)t.lastSuccessfulAd=0;else if(a<t.cappingMinimumTimeInterval)return o(new Error("VAST call canceled – (".concat(t.cappingMinimumTimeInterval,")ms minimum interval reached")));t.vastParser.getAndParseVAST(e,i).then(function(e){return r(e)}).catch(function(e){return o(e)})})}}]),e}(),ue=function(e){function t(e,i,n){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var l in r(this,t),(a=o.call(this)).ad=i,a.creative=n,a.variation=s,a.muted=!1,a.impressed=!1,a.skippable=!1,a.trackingEvents={},a.lastPercentage=0,a._alreadyTriggeredQuartiles={},a.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],a.creative.trackingEvents){var c=a.creative.trackingEvents[l];a.trackingEvents[l]=c.slice(0)}return C(a.creative)?a._initLinearTracking():a._initVariationTracking(),e&&a.on("start",function(){e.lastSuccessfulAd=Date.now()}),a}l(t,e);var o=p(t);return a(t,[{key:"_initLinearTracking",value:function(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}},{key:"_initVariationTracking",value:function(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(var e in this.variation.trackingEvents){var t=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(t.slice(0)):this.trackingEvents[e]=t.slice(0)}"nonLinearAd"===this.variation.adType?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(e){return"companionAd"===e.adType}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}},{key:"setDuration",value:function(e){K.isValidTimeValue(e)&&(this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100})}},{key:"setProgress",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(K.isValidTimeValue(e)&&"object"===n(i)){var r=this.skipDelay||-1;if(-1===r||this.skippable||(r>e?this.emit("skip-countdown",r-e):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){var o=Math.round(e/this.assetDuration*100),a=[];if(e>0){a.push("start");for(var s=this.lastPercentage;s<o;s++)a.push("progress-".concat(s+1,"%"));for(var l in a.push("progress-".concat(Math.round(e))),this.quartiles)this.isQuartileReached(l,this.quartiles[l],e)&&(a.push(l),this._alreadyTriggeredQuartiles[l]=!0);this.lastPercentage=o}a.forEach(function(e){t.track(e,{macros:i,once:!0})}),e<this.progress&&this.track("rewind",{macros:i})}this.progress=e}}},{key:"isQuartileReached",value:function(e,t,i){var n=!1;return t<=i&&!this._alreadyTriggeredQuartiles[e]&&(n=!0),n}},{key:"setMuted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"===n(t)&&(this.muted!==e&&this.track(e?"mute":"unmute",{macros:t}),this.muted=e)}},{key:"setPaused",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"===n(t)&&(this.paused!==e&&this.track(e?"pause":"resume",{macros:t}),this.paused=e)}},{key:"setFullscreen",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"===n(t)&&(this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen",{macros:t}),this.fullscreen=e)}},{key:"setExpand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"===n(t)&&(this.expanded!==e&&(this.track(e?"expand":"collapse",{macros:t}),this.track(e?"playerExpand":"playerCollapse",{macros:t})),this.expanded=e)}},{key:"setSkipDelay",value:function(e){K.isValidTimeValue(e)&&(this.skipDelay=e)}},{key:"trackImpression",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&(this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track("creativeView",{macros:e})))}},{key:"error",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"object"===n(e)&&"boolean"==typeof t&&this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:t})}},{key:"errorWithCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"string"==typeof e&&"boolean"==typeof t&&(this.error({ERRORCODE:e},t),console.log("The method errorWithCode is deprecated, please use vast tracker error method instead"))}},{key:"complete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("complete",{macros:e})}},{key:"notUsed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&(this.track("notUsed",{macros:e}),this.trackingEvents=[])}},{key:"otherAdInteraction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("otherAdInteraction",{macros:e})}},{key:"acceptInvitation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("acceptInvitation",{macros:e})}},{key:"adExpand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("adExpand",{macros:e})}},{key:"adCollapse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("adCollapse",{macros:e})}},{key:"minimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("minimize",{macros:e})}},{key:"verificationNotExecuted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e&&"object"===n(t)){if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!e)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");var i=this.ad.adVerifications.find(function(t){return t.vendor===e});if(!i)throw new Error("No associated verification element found for vendor: ".concat(e));var r=i.trackingEvents;if(r&&r.verificationNotExecuted){var o=r.verificationNotExecuted;this.trackURLs(o,t),this.emit("verificationNotExecuted",{trackingURLTemplates:o})}}}},{key:"overlayViewDuration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&"object"===n(t)&&(t.ADPLAYHEAD=e,this.track("overlayViewDuration",{macros:t}))}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track(this.linear?"closeLinear":"close",{macros:e})}},{key:"skip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("skip",{macros:e})}},{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"===n(e)&&this.track("loaded",{macros:e})}},{key:"click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((null===e||"string"==typeof e)&&"object"===n(t)){this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,t);var r=this.clickThroughURLTemplate||e,o=i({},t);if(r){this.progress&&(o.ADPLAYHEAD=this.progressFormatted());var a=K.resolveURLTemplates([r],o)[0];this.emit("clickthrough",a)}}}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.macros,r=void 0===i?{}:i,o=t.once,a=void 0!==o&&o;if("object"===n(r)){"closeLinear"===e&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e="close");var s=this.trackingEvents[e],l=this.emitAlwaysEvents.indexOf(e)>-1;s?(this.emit(e,{trackingURLTemplates:s}),this.trackURLs(s,r)):l&&this.emit(e,null),a&&(delete this.trackingEvents[e],l&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}}},{key:"trackURLs",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i({},r);this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(a.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(a.ADPLAYHEAD=this.progressFormatted())),null!==(t=this.creative)&&void 0!==t&&null!==(n=t.universalAdIds)&&void 0!==n&&n.length&&(a.UNIVERSALADID=this.creative.universalAdIds.map(function(e){return e.idRegistry.concat(" ",e.value)}).join(",")),this.ad&&(this.ad.sequence&&(a.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(a.ADTYPE=this.ad.adType),this.ad.adServingId&&(a.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(a.ADCATEGORIES=this.ad.categories.map(function(e){return e.value}).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(a.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories)),K.track(e,a,o)}},{key:"convertToTimecode",value:function(e){if(!K.isValidTimeValue(e))return"";var t=1e3*e,i=Math.floor(t/36e5),n=Math.floor(t/6e4%60),r=Math.floor(t/1e3%60),o=Math.floor(t%1e3);return"".concat(K.addLeadingZeros(i,2),":").concat(K.addLeadingZeros(n,2),":").concat(K.addLeadingZeros(r,2),".").concat(K.addLeadingZeros(o,3))}},{key:"progressFormatted",value:function(){return this.convertToTimecode(this.progress)}}]),t}(X);e.VASTClient=ce,e.VASTParser=oe,e.VASTTracker=ue,Object.defineProperty(e,"__esModule",{value:!0})})},{}],2:[function(e,t,i){var n=function(e,t,i){"use strict";function n(e,t,i){a.addMethod(t,i,e.unbindEvent),a.addMethod(t,i,e.unbindEventWithSelectorOrCallback),a.addMethod(t,i,e.unbindEventWithSelectorAndCallback)}function r(e){e.arrive=d.bindEvent,n(d,e,"unbindArrive"),e.leave=p.bindEvent,n(p,e,"unbindLeave")}if(e.MutationObserver&&"undefined"!=typeof HTMLElement){var o=0,a=function(){var t=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(e,i){return e instanceof HTMLElement&&t.call(e,i)},addMethod:function(e,t,i){var n=e[t];e[t]=function(){return i.length==arguments.length?i.apply(this,arguments):"function"==typeof n?n.apply(this,arguments):void 0}},callCallbacks:function(e,t){t&&t.options.onceOnly&&1==t.firedElems.length&&(e=[e[0]]);for(var i,n=0;i=e[n];n++)i&&i.callback&&i.callback.call(i.elem,i.elem);t&&t.options.onceOnly&&1==t.firedElems.length&&t.me.unbindEventWithSelectorAndCallback.call(t.target,t.selector,t.callback)},checkChildNodesRecursively:function(e,t,i,n){for(var r,o=0;r=e[o];o++)i(r,t,n)&&n.push({callback:t.callback,elem:r}),r.childNodes.length>0&&a.checkChildNodesRecursively(r.childNodes,t,i,n)},mergeArrays:function(e,t){var i,n={};for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},toElementsArray:function(t){return void 0===t||"number"==typeof t.length&&t!==e||(t=[t]),t}}}(),s=function(){var e=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return e.prototype.addEvent=function(e,t,i,n){var r={target:e,selector:t,options:i,callback:n,firedElems:[]};return this._beforeAdding&&this._beforeAdding(r),this._eventsBucket.push(r),r},e.prototype.removeEvent=function(e){for(var t,i=this._eventsBucket.length-1;t=this._eventsBucket[i];i--)if(e(t)){this._beforeRemoving&&this._beforeRemoving(t);var n=this._eventsBucket.splice(i,1);n&&n.length&&(n[0].callback=null)}},e.prototype.beforeAdding=function(e){this._beforeAdding=e},e.prototype.beforeRemoving=function(e){this._beforeRemoving=e},e}(),l=function(t,n){var r=new s,o=this,l={fireOnAttributesModification:!1};return r.beforeAdding(function(i){var r,a=i.target;a!==e.document&&a!==e||(a=document.getElementsByTagName("html")[0]),r=new MutationObserver(function(e){n.call(this,e,i)});var s=t(i.options);r.observe(a,s),i.observer=r,i.me=o}),r.beforeRemoving(function(e){e.observer.disconnect()}),this.bindEvent=function(e,t,i){t=a.mergeArrays(l,t);for(var n=a.toElementsArray(this),o=0;o<n.length;o++)r.addEvent(n[o],e,t,i)},this.unbindEvent=function(){var e=a.toElementsArray(this);r.removeEvent(function(t){for(var n=0;n<e.length;n++)if(this===i||t.target===e[n])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(e){var t,n=a.toElementsArray(this),o=e;t="function"==typeof e?function(e){for(var t=0;t<n.length;t++)if((this===i||e.target===n[t])&&e.callback===o)return!0;return!1}:function(t){for(var r=0;r<n.length;r++)if((this===i||t.target===n[r])&&t.selector===e)return!0;return!1},r.removeEvent(t)},this.unbindEventWithSelectorAndCallback=function(e,t){var n=a.toElementsArray(this);r.removeEvent(function(r){for(var o=0;o<n.length;o++)if((this===i||r.target===n[o])&&r.selector===e&&r.callback===t)return!0;return!1})},this},c=function(){function e(e){var t={attributes:!1,childList:!0,subtree:!0};return e.fireOnAttributesModification&&(t.attributes=!0),t}function t(e,t){e.forEach(function(e){var i=e.addedNodes,r=e.target,o=[];null!==i&&i.length>0?a.checkChildNodesRecursively(i,t,n,o):"attributes"===e.type&&n(r,t,o)&&o.push({callback:t.callback,elem:r}),a.callCallbacks(o,t)})}function n(e,t,n){return!(!a.matchesSelector(e,t.selector)||(e._id===i&&(e._id=o++),-1!=t.firedElems.indexOf(e._id)))&&(t.firedElems.push(e._id),!0)}var r={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};d=new l(e,t);var s=d.bindEvent;return d.bindEvent=function(e,t,i){void 0===i?(i=t,t=r):t=a.mergeArrays(r,t);var n=a.toElementsArray(this);if(t.existing){for(var o=[],l=0;l<n.length;l++)for(var c=n[l].querySelectorAll(e),u=0;u<c.length;u++)o.push({callback:i,elem:c[u]});if(t.onceOnly&&o.length)return i.call(o[0].elem,o[0].elem);setTimeout(a.callCallbacks,1,o)}s.call(this,e,t,i)},d},u=function(){function e(){return{childList:!0,subtree:!0}}function t(e,t){e.forEach(function(e){var n=e.removedNodes,r=[];null!==n&&n.length>0&&a.checkChildNodesRecursively(n,t,i,r),a.callCallbacks(r,t)})}function i(e,t){return a.matchesSelector(e,t.selector)}var n={};p=new l(e,t);var r=p.bindEvent;return p.bindEvent=function(e,t,i){void 0===i?(i=t,t=n):t=a.mergeArrays(n,t),r.call(this,e,t,i)},p},d=new c,p=new u;t&&r(t.fn),r(HTMLElement.prototype),r(NodeList.prototype),r(HTMLCollection.prototype),r(HTMLDocument.prototype),-1!==document.location.hostname.indexOf("monopoli.gr")?r(e.__proto__):"www.happyparenting.gr"!==document.location.hostname&&r(Window.prototype);var m={};return n(d,m,"unbindAllArrive"),n(p,m,"unbindAllLeave"),m}}(window,"undefined"==typeof jQuery?null:jQuery,void 0);t.exports={arrive:n}},{}],3:[function(e,t,i){function n(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(e,t,i){e.addEventListener(t,i,!1)}function o(e,t,i){e.removeEventListener(t,i,!1)}function a(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!j;e+=1)j=window[t[e]+"RequestAnimationFrame"];j?j=j.bind(window):u("setup","RequestAnimationFrame not supported")}function s(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}function l(e){return V+"["+s(e)+"]"}function c(e){return W[e]?W[e].log:B}function u(e,t){m("log",e,t,c(e))}function d(e,t){m("info",e,t,c(e))}function p(e,t){m("warn",e,t,!0)}function m(e,t,i,n){!0===n&&"object"==typeof window.console&&console[e](l(t),i)}function f(e){function t(){function e(){x(N),b(R),M("onResized",N)}a("Height"),a("Width"),k(e,N,"init")}function i(e){return"border-box"!==e.boxSizing?0:(e.paddingTop?parseInt(e.paddingTop,10):0)+(e.paddingBottom?parseInt(e.paddingBottom,10):0)}function n(e){return"border-box"!==e.boxSizing?0:(e.borderTopWidth?parseInt(e.borderTopWidth,10):0)+(e.borderBottomWidth?parseInt(e.borderBottomWidth,10):0)}function a(e){var t=Number(W[R]["max"+e]),i=Number(W[R]["min"+e]),n=e.toLowerCase(),r=Number(N[n]);u(R,"Checking "+n+" is in range "+i+"-"+t),r<i&&(r=i,u(R,"Set "+n+" to min value")),r>t&&(r=t,u(R,"Set "+n+" to max value")),N[n]=""+r}function s(e){return O.substr(O.indexOf(":")+F+e)}function l(e){u(R,"onMessage passed: {iframe: "+N.iframe.id+", message: "+e+"}"),M("onMessage",{iframe:N.iframe,message:JSON.parse(e)}),u(R,"--")}function c(){var e=document.body.getBoundingClientRect(),t=N.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}function m(e,t){function i(){T("Send Page Info","pageInfo:"+c(),e,t)}I(i,32,t)}function f(){function e(e,n){function r(){W[i]?m(W[i].iframe,i):t()}["scroll","resize"].forEach(function(t){u(i,e+t+" listener for sendPageInfo"),n(window,t,r)})}function t(){e("Remove ",o)}var i=R;!function(){e("Add ",r)}(),W[i]&&(W[i].stopPageInfo=t)}function h(){W[R]&&W[R].stopPageInfo&&(W[R].stopPageInfo(),delete W[R].stopPageInfo)}function C(e){var t=e.getBoundingClientRect();return y(R),{x:Math.floor(Number(t.left)+Number(U.x)),y:Math.floor(Number(t.top)+Number(U.y))}}function S(e){var t=e?C(N.iframe):{x:0,y:0},i=function(){return{x:Number(N.width)+t.x,y:Number(N.height)+t.y}}();u(R,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?function(){window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](i.x,i.y):p(R,"Unable to scroll to requested position, window.parentIFrame not found")}():function(){U=i,_(),u(R,"--")}()}function _(){!1!==M("onScroll",U)?b(R):w()}function L(e){var t=e.split("#")[1]||"",i=decodeURIComponent(t),n=document.getElementById(i)||document.getElementsByName(i)[0];n?function(){var e=C(n);u(R,"Moving to in page link (#"+t+") at x: "+e.x+" y: "+e.y),U={x:e.x,y:e.y},_(),u(R,"--")}():window.top!==window.self?function(){window.parentIFrame?window.parentIFrame.moveToAnchor(t):u(R,"In page link #"+t+" not found and window.parentIFrame not found")}():u(R,"In page link #"+t+" not found")}function M(e,t){return g(R,e,t)}function P(){W[R]&&(W[R].firstRun=!1)}var O=e.data,N={},R=null;"[iFrameResizerChild]Ready"===O?function(){for(var e in W)T("iFrame requested init",E(e),W[e].iframe,e)}():function(){return V===(""+O).substr(0,z)&&O.substr(z).split(":")[0]in W}()?(N=function(){var e=O.substr(z).split(":"),t=e[1]?parseInt(e[1],10):0,r=W[e[0]]&&W[e[0]].iframe,o=getComputedStyle(r);return{iframe:r,id:e[0],height:t+i(o)+n(o),width:e[2],type:e[3]}}(),R=N.id,W[R]&&(W[R].loaded=!0),!function(){var e=N.type in{true:1,false:1,undefined:1};return e&&u(R,"Ignoring init message from meta parent page"),e}()&&function(e){var t=!0;return W[e]||(t=!1,p(N.type+" No settings for "+e+". Message was: "+O)),t}(R)&&(u(R,"Received: "+O),function(){var e=!0;return null===N.iframe&&(p(R,"IFrame ("+N.id+") not found"),e=!1),e}()&&function(){var t=e.origin,i=W[R]&&W[R].checkOrigin;if(i&&""+t!="null"&&!function(){return i.constructor===Array?function(){var e=0,n=!1;for(u(R,"Checking connection is from allowed list of origins: "+i);e<i.length;e++)if(i[e]===t){n=!0;break}return n}():function(){var e=W[R]&&W[R].remoteHost;return u(R,"Checking connection is from: "+e),t===e}()}())throw new Error("Unexpected message received from: "+t+" for "+N.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(W[R]&&W[R].firstRun&&P(),N.type){case"close":v(N.iframe);break;case"message":l(s(6));break;case"autoResize":W[R].autoResize=JSON.parse(s(9));break;case"scrollTo":S(!1);break;case"scrollToOffset":S(!0);break;case"pageInfo":m(W[R]&&W[R].iframe,R),f();break;case"pageInfoStop":h();break;case"inPageLink":L(s(9));break;case"reset":A(N);break;case"init":t(),M("onInit",N.iframe);break;default:t()}}())):d(R,"Ignored: "+O)}function g(e,t,i){var n=null,r=null;if(W[e]){if("function"!=typeof(n=W[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");r=n(i)}return r}function h(e){var t=e.id;delete W[t]}function v(e){var t=e.id;if(!1===g(t,"onClose",t))return void u(t,"Close iframe cancelled by onClose event");u(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){p(e)}g(t,"onClosed",t),u(t,"--"),h(e)}function y(e){null===U&&(U={x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop},
u(e,"Get page position: "+U.x+","+U.y))}function b(e){null!==U&&(window.scrollTo(U.x,U.y),u(e,"Set page position: "+U.x+","+U.y),w())}function w(){U=null}function A(e){function t(){x(e),T("reset","reset",e.iframe,e.id)}u(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),y(e.id),k(t,e,"reset")}function x(e){function t(t){if(!e.id)return void u("undefined","messageData id not set");e.iframe.style[t]=e[t]+"px",u(e.id,"IFrame ("+r+") "+t+" set to "+e[t]+"px")}function i(t){D||"0"!==e[t]||(D=!0,u(r,"Hidden iFrame detected, creating visibility listener"),_())}function n(e){t(e),i(e)}var r=e.iframe.id;W[r]&&(W[r].sizeHeight&&n("height"),W[r].sizeWidth&&n("width"))}function k(e,t,i){i!==t.type&&j&&!window.jasmine?(u(t.id,"Requesting animation frame"),j(e)):e()}function T(e,t,i,n,r){function o(){var r=W[n]&&W[n].targetOrigin;u(n,"["+e+"] Sending msg to iframe["+n+"] ("+t+") targetOrigin: "+r),i.contentWindow.postMessage(V+t,r)}function a(){p(n,"["+e+"] IFrame("+n+") not found")}var s=!1;n=n||i.id,W[n]&&(function(){i&&"contentWindow"in i&&null!==i.contentWindow?o():a()}(),function(){function e(){!W[n]||W[n].loaded||s||(s=!0,p(n,"IFrame has not responded within "+W[n].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}r&&W[n]&&W[n].warningTimeout&&(W[n].msgTimeout=setTimeout(e,W[n].warningTimeout))}())}function E(e){return e+":"+W[e].bodyMarginV1+":"+W[e].sizeWidth+":"+W[e].log+":"+W[e].interval+":"+W[e].enablePublicMethods+":"+W[e].autoResize+":"+W[e].bodyMargin+":"+W[e].heightCalculationMethod+":"+W[e].bodyBackground+":"+W[e].bodyPadding+":"+W[e].tolerance+":"+W[e].inPageLinks+":"+W[e].resizeFrom+":"+W[e].widthCalculationMethod}function C(e,t){function i(){var e=t&&t.id||G.id+R++;return null!==document.getElementById(e)&&(e+=R++),e}function o(){var t=W[d]&&W[d].firstRun,i=W[d]&&W[d].heightCalculationMethod in H;!t&&i&&A({iframe:e,height:0,width:0,type:"init"})}function a(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}function s(e){for(var t in G)Object.prototype.hasOwnProperty.call(G,t)&&(W[d][t]=Object.prototype.hasOwnProperty.call(e,t)?e[t]:G[t])}function l(e){return""===e||null!==e.match(/^(about:blank|javascript:|file:\/\/)/)?"*":e}function c(e){var t=e.split("Callback");if(2===t.length){var i="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[i]=this[e],delete this[e],p(d,"Deprecated: '"+e+"' has been renamed '"+i+"'. The old method will be removed in the next major version.")}}var d=function(n){return""===n&&(e.id=n=i(),B=(t||{}).log,u(n,"Added missing iframe ID: "+n+" ("+e.src+")")),n}(e.id);!function(){return d in W&&"iFrameResizer"in e}()?(function(t){t=t||{},W[d]={firstRun:!0,iframe:e,remoteHost:e.src&&e.src.split("/").slice(0,3).join("/")},a(t),Object.keys(t).forEach(c,t),s(t),W[d]&&(W[d].targetOrigin=!0===W[d].checkOrigin?l(W[d].remoteHost):"*")}(t),function(){switch(u(d,"IFrame scrolling "+(W[d]&&W[d].scrolling?"enabled":"disabled")+" for "+d),e.style.overflow=!1===(W[d]&&W[d].scrolling)?"hidden":"auto",W[d]&&W[d].scrolling){case"omit":break;case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=W[d]?W[d].scrolling:"no"}}(),function(){function t(t){1/0!==W[d][t]&&0!==W[d][t]&&(e.style[t]=W[d][t]+"px",u(d,"Set "+t+" = "+W[d][t]+"px"))}function i(e){if(W[d]["min"+e]>W[d]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}i("Height"),i("Width"),t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}(),function(){"number"!=typeof(W[d]&&W[d].bodyMargin)&&"0"!==(W[d]&&W[d].bodyMargin)||(W[d].bodyMarginV1=W[d].bodyMargin,W[d].bodyMargin=W[d].bodyMargin+"px")}(),function(t){function i(){T("iFrame.onload",t,e,void 0,!0),o()}var a=n();a&&function(t){e.parentNode&&new t(function(t){t.forEach(function(t){Array.prototype.slice.call(t.removedNodes).forEach(function(t){t===e&&v(e)})})}).observe(e.parentNode,{childList:!0})}(a),r(e,"load",i),T("init",t,e,void 0,!0)}(E(d)),function(){W[d]&&(W[d].iframe.iFrameResizer={close:v.bind(null,W[d].iframe),removeListeners:h.bind(null,W[d].iframe),resize:T.bind(null,"Window resize","resize",W[d].iframe),moveToAnchor:function(e){T("Move to anchor","moveToAnchor:"+e,W[d].iframe,d)},sendMessage:function(e){e=JSON.stringify(e),T("Send Message","message:"+e,W[d].iframe,d)}})}()):p(d,"Ignored iFrame, already setup.")}function S(e,t){null===q&&(q=setTimeout(function(){q=null,e()},t))}function I(e,t,i){K[i]||(K[i]=setTimeout(function(){K[i]=null,e()},t))}function _(){function e(){function e(e){function t(t){return"0px"===(W[e]&&W[e].iframe.style[t])}W[e]&&function(e){return null!==e.offsetParent}(W[e].iframe)&&(t("height")||t("width"))&&T("Visibility change","resize",W[e].iframe,e)}Object.keys(W).forEach(function(t){e(t)})}function t(t){u("window","Mutation observed: "+t[0].target+" "+t[0].type),S(e,16)}var i=n();i&&function(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new i(t).observe(e,n)}()}function L(e){function t(){P("Window "+e,"resize")}u("window","Trigger event: "+e),S(t,16)}function M(){function e(){P("Tab Visable","resize")}"hidden"!==document.visibilityState&&(u("document","Trigger event: Visiblity change"),S(e,16))}function P(e,t){function i(e){return W[e]&&"parent"===W[e].resizeFrom&&W[e].autoResize&&!W[e].firstRun}Object.keys(W).forEach(function(n){i(n)&&T(e,t,W[n].iframe,n)})}function O(){r(window,"message",f),r(window,"resize",function(){L("resize")}),r(document,"visibilitychange",M),r(document,"-webkit-visibilitychange",M)}function N(){function e(e,t){t&&(!function(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}(),C(t,e),i.push(t))}function t(e){e&&e.enablePublicMethods&&p("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var i;return a(),O(),function(n,r){switch(i=[],t(n),typeof r){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(r||"iframe"),e.bind(void 0,n));break;case"object":e(n,r);break;default:throw new TypeError("Unexpected data type ("+typeof r+")")}return i}}var R=0,B=!1,D=!1,F="message".length,V="[iFrameSizer]",z=V.length,U=null,j=window.requestAnimationFrame,H={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},W={},q=null,G={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){p("onMessage function not defined")},onResized:function(){},onScroll:function(){return!0}},K={};window.iFrameResize=window.iFrameResize||N(),t.exports=N()},{}],4:[function(e,t,i){function n(e,t){if(!e)return null;var i=t.key,n=t.default;if(!e.resources||!e.resources[i]){var r=void 0!==e.site_name?e.site_name:window.location.hostname;return void 0!==n[r]?n[r]:null}return e.resources[i]}var r={"www.mothersblog.gr":{t:"class",n:"ad-unit in-article",heightTH:[300,321]},"www.elwatannews.com":{t:"class",n:"related-articles"},"sport.elwatannews.com":{t:"class",n:"related-articles"},"www.ramnicuvalceaweek.ro":{t:"class",n:"alignleft"},"www.cnn.gr":{t:"class",n:"ad-unit",heightTH:[300,321]},"www.onsports.gr":{t:"class",n:"ad-unit in-article",heightTH:[300,321]},"lyla.ro":{t:"id",n:"article_side"},"www.romania-insider.com":{t:["querySelector","querySelector"],n:[".clearfix > .field--name-field-read-next",".clearfix > .field--name-field-advert"]},"www.ant1news.gr":{t:"id",n:"relatives"},"www.tothemaonline.com":{t:"class",n:"related-box hidden-xs pull-right"},"www.culturenow.gr":{t:"class",n:"articlePhoto",skipNode:"BR"},"www.newsauto.gr":{t:"class",n:"related"},"ladytimes.com.cy":{t:"class",n:"code-block code-block-1",heightTH:[200,250]},"showbiz.com.cy":{t:"class",n:"code-block code-block-1"},"protathlima.com":{t:"class",n:"code-block code-block-1"},"lifenewscy.com":{t:"class",n:"td-a-rec td-a-rec-id-content_inlineleft"},"www.themasports.com":{t:"class",n:"td-a-rec td-a-rec-id-content_inlineleft"},"24news.com.cy":{t:"id",n:"TextAdIframe"},"www.mediafax.ro":{t:"class",n:"CategoryNews"},"www.one.ro":{t:"class",n:"a-Thumb"},"www.queen.gr":{t:"querySelector",n:".ad-unit.in-article",heightTH:[200,250]},"teen.queen.gr":{t:"querySelector",n:".ad-unit.in-article",heightTH:[200,250]},"www.cnn.gr":{t:["class","class"],n:["fulltext-banner","story-highlights"],heightTH:[600,600]},"www.marketingweek.gr":{t:"querySelector",n:"#articleBody > div.image",skipNode:"BR",checkNodeType:"strong"},"www.capital.ro":{t:"id",n:"div-gpt-ad-1487859615731-11",skipNode:"BR"},"www.eurohoops.net":{t:"class",n:"banner",skipElemText:"info@eurohoops.net"},"www.themamagers.gr":{t:"class",n:"td-a-rec td-a-rec-id-content_inlineright"},"www.topnews.gr":{t:"class",n:"code-block code-block-6 ai-viewport-1"},"www.tvlive.gr":{t:"class",n:"code-block code-block-2 ai-viewport-1"},"www.womentalk.gr":{t:"class",n:"code-block code-block-4 ai-viewport-1"},"www.thebest.gr":{t:"class",n:"ad text-center float-none float-sm-left mb-3 mr-3",heightTH:[300,265]},"www.finances.gr":{t:"class",n:"code-block code-block-3 ai-viewport-1"},"www.corfupost.gr":{t:"class",n:"code-block code-block-8 ai-viewport-1"},"www.cretaday.gr":{t:"class",n:"code-block code-block-8 ai-viewport-1"},"dailystarscy.com":{t:"class",n:"inside-bannerR"},"www.radiounirea.ro":{t:"class",n:"alignleft size-medium"},"www.campeniinfo.ro":{t:"class",n:"alignleft size-medium"},"www.blajinfo.ro":{t:"class",n:"alignleft size-medium"},"www.cugirinfo.ro":{t:"class",n:"alignleft size-medium"},"www.sebesinfo.ro":{t:"class",n:"alignleft size-medium"},"www.aiudinfo.ro":{t:"class",n:"alignleft size-medium"},"www.libertatea.ro":{t:"class",n:"sirc"},"www.ebihoreanul.ro":{t:"class",n:"fr pl10",heightTH:[600,0]},"www.alfavita.gr":{t:"id",n:"ros_inline_a",heightTH:[350,350]},"www.mubasherpulse.com":{t:"class",n:"pl-related"},"www.espressonews.gr":{t:"class",n:"field field-name-banner-000-300x250-start-of-arti field-type-ds field-label-hidden"},"shootandgoal.cyprustimes.com":{t:"class",n:"code-block code-block-1",heightTH:[200,290]},"cyprustimes.com":{t:"class",n:"code-block code-block-2",heightTH:[200,290]},"newpost.gr":{t:"class",n:"float-left mr-4 mb-2"},"www.jurnaldevrancea.ro":{t:"class",n:"td-featured-image-rec"},"www.gustarte.ro":{t:"class",n:"col-1-third ingred"},"www.tayyar.org":{t:"class",n:"advertiseRelocateID"},"www.gds.ro":{t:"querySelector",n:"#td-outer-wrap > div.td-main-content-wrap.td-container-wrap > div > article > div:nth-child(2) > div.td-pb-span8.td-main-content > div > div.td-post-content > div.td-a-rec.td-a-rec-id-content_inlineleft",heightTH:[330,330]},"dailyausaf.com":{t:"querySelector",n:".singleNewsCon .row.article_text > div:first-child"},"www.pentapostagma.gr":{t:["class","class"],n:["penta-content-3","penta-content-4"]},"olaprasina1908.gr":{t:"querySelector",n:"#main > article > div > div.inpostcontentwrap"}};r["www.lyla.ro"]=r["lyla.ro"]=r["lyla.ro"],r["www.newpost.gr"]=r["newpost.gr"];var o={"stirescu.ro":{t:".banner-rel.clearfix"},"www.elwatannews.com":{t:".related-articles"},"sport.elwatannews.com":{t:".related-articles"},"www.arabnews.com":{t:".injected-block"},"ziarulunirea.ro":{t:"#cab-author"},"www.cnn.gr":{t:".story-content > div > div > blockquote"},"www.elle.ro":{t:".single-latest-video"},"promotions.hu":{t:"blockquote, .container-dynamic-content"},"web.gazetakorrekte.com":{t:"#comments"},"gazetakorrekte.com":{t:"#comments"},"blajinfo.ro":{t:"#cab-author"},"nuus.hu":{t:"#taboola-alternating-below-article , .socialShare.clearfix , .interestBox , .likeBoxes.clearfix ,#mc4wp-form-1 ,.commentTop"},"sebesinfo.ro":{t:"#cab-author"},"radiounirea.ro":{t:"#cab-author"},"cugirinfo.ro":{t:"#cab-author"},"aiudinfo.ro":{t:"#cab-author"},"campeniinfo.ro":{t:"#cab-author"},"mercedesblog.com":{t:"blockquote.wp-embedded-content"},"www.botosaninews.ro":{t:".wdca_ad_item.wdca_custom_ad"},"airlinestravel.ro":{t:".bs-irp.right.bs-irp-thumbnail-1"},"www.vrancea24.ro":{t:"#jp-relatedposts"},"www.go4it.ro":{t:".subscribe"},"spynews.ro":{t:"#__content > div.pateneri_new"},"www.wowbiz.ro":{t:"div.text-center"},"www.vasiledale.ro":{t:"div.td-post-content > div.td-a-rec.td-a-rec-id-content_bottom.td_block_template_1"},"www.almowaten.net":{t:"div.post-content-bd > center"},"varosikurir.hu":{t:"blockquote"},"dailyausaf.com":{t:"#taboola-sponsored-below-article"},"www.skai.gr":{t:"#article, div[id^='vid_']"},"mfor.hu":{t:"div.article > blockquote"},"abunawaf.com":{t:"#content > div > div > div.col-sm-8.content-column > div.single-container > article > div.entry-content.clearfix.single-post-content > div.bs-irp.right.bs-irp-thumbnail-2-full"},"www.zeromedia.al":{t:".advert-in"},"www.elconsolto.com":{t:".inBodyRelated, #InterScroller, .allItems"},"www.shift-eg.com":{t:".interScrollerAsync"},"www.yallakora.com":{t:"#InterScroller, .pattern01, section.showcaseDiv"},"www.masrawy.com":{t:"#InterScroller, .interScrollerAsync, .pattern01, section.showcaseDiv"},"m.jurnalul.antena3.ro":{t:"table"},"www.daynight.gr":{t:"blockquote"},"www.zurnal24.si":{t:"blockquote, twitter-widget"},"njena.svet24.si":{t:".instagram-embed"},"www.romania-insider.com":{t:".node--view-mode-read-next"},"starity.hu":{t:"blockquote, .instagram-media-registered"},"motorxpert.ro":{t:"[class='post-nav clearfix']"},"www.turnulsfatului.ro":{t:"[class='col-12 col-sm-6'], .latest-comments, .comment"},"raseef22.com":{t:"blockquote, .relatedArticles, .trending"},"www.t-voice.net":{t:".listing-thumbnail"},"www.marca.com":{t:".aside-comments"},"alba24.ro":{t:"#comments"},"hellasjournal.com":{t:"blockquote"},"nitro.gr":{t:"[class*='adv lg relative inarticle'], [class*='banner psticky']"},"hang.hu":{t:"[class*='widget widget-tamogatas-box'], [class*='cikkblock block_placeholder fleft selected img has-lead has-author'], [class='post-wrap'], [class='banner-wrapper']"},"www.queen.gr":{t:"[class='item-gallery inline-gallery ratio-fat-square carousel slides-carousel']"},"eleftherostypos.gr":{t:".ap-relative-news-wrap"},"www.libertatea.ro":{t:"#comments, .comments, [class*='comments-'], #read-more-aureus-recommendations, .share-buttons"},"provocateur.gr":{t:"blockquote"},"realitatea.net":{t:"[class*='d-flex justify-content-center w-100']"},"www.realitatea.net":{t:"[class*='d-flex justify-content-center w-100']"},"newse.gr":{t:".code-block.code-block-7"}},a={"www.portfolio.hu":{to:15e3},"m.portfolio.hu":{to:15e3}},s=[{name:"oneTag",urls:["onetag-sys.com"],gdpr:!0,replace:!0,add:!0},{name:"pubmatic",urls:["vpaid.pubmatic.com","vid.pubmatic.com"],gdpr:!0,replace:!0,add:!0,default_schain:"&schain=SUPPLYCHAIN_GOES_HERE"},{name:"appNexus",urls:["adnxs.com/ptv","secure.adnxs.com/ttj"],gdpr:!0,replace:!0,add:!0},{name:"freewheel",urls:["ads.stickyadstv.com"],gdpr:!0,replace:!0,add:!0},{name:"union",urls:["www8.smartadserver.com"],gdpr:!0,replace:!0,add:!0},{name:"adform",urls:["adx.adform.net/adx"],gdpr:!0,replace:!0,add:!0},{name:"rubicon",urls:["video-ads.rubiconproject.com","optimized-by.rubiconproject.com"],gdpr:!1,replace:!1,add:!1},{name:"openx",urls:["projectagora-d.openx.net"],gdpr:!0,replace:!0,add:!0}],l=["PA_width","PA_height","PA_timestamp"],c={fadeInAnimationStr:"@keyframes fadeInAnimation {0% {opacity:0;} 100% {opacity:1}}",fadeOutAnimationStr:"@keyframes fadeOutAnimation {0% {opacity:1;} 100% {opacity:0}}",fadeInClassStr:".fade_in {animation: fadeInAnimation 0.4s ease-in; }",fadeOutClassStr:".fade_out {animation: fadeOutAnimation 0.4s ease-in 0s 1 normal forwards;}",videoSliderGreyClassStr:".grey_in {background-color: #f6f6f6;} .grey_out {background-color:unset}",incornerLeft:".incornerLeft {z-index: 999;position: fixed !important; top: initial !important;right: initial !important; left: 0 !important; bottom: 0 !important;}",incornerRight:".incornerRight {z-index: 999; position: fixed !important; top: initial !important;right: 0 !important;left: initial !important; bottom: 0 !important;}",incornerButtons:".incornerButtons {width: 20px!important;height: 20px!important; bottom:5%!important;} .incornerButtons .floatRight {width: 20px!important;height: 20px!important;}  .incornerButtons svg {width: 20px!important;height: 20px!important;} .incornerButtons .button svg {width: 100%!important; height: 100%!important;} .incornerButtons .floatRight .button svg {width: 100%!important; height: 100%!important;}",incornerHeading:".incornerHeading {display: none !important;}"},u={sport24:{sticky:["charlie-bets","bet-corner","live-bet-chat"],inArticle:["apostoli-sto-londino","olympiakoi-agones","tokyo-2020","apostoli-eurobasket","eurobasket-2022"]}},d={"eurohoops.net":{sticky:[{metaProperty:"article:tag",metaContent:"Εθνική"}],inArticle:[{metaProperty:"article:tag",metaContent:"Εθνική"}]}},p={patchFuns:{key:"patchFuns",default:r},ancestorPatchfunc:{key:"ancestorPatchfunc",default:o},maxSiteTimeOut:{key:"maxSiteTimeOut",default:a},bannedTargetingKeywords:{key:"bannedTargetingKeywords",default:u},bannedMetaTags:{key:"bannedMetaTags",default:d}};t.exports={SITES_WITH_STRAWBERRYADS:["www.libertatea.ro","www.libertateapentrufemei.ro","www.viva.ro","www.playtech.ro","www.impact.ro","www.playsport.ro"],STRAWBERRY_EXCLUDE_WORD:"strawberry-ads",SKIP_CLASS_ELEMENTS_FOR_INARTICLE:["teads-inread","featured-video"],GAM_DISPLAY_REGEX:/googletag.display\(\'(.*)\'\)/m,PA_ADTAG_REGEX:/[ads.projectagoraservices.com|paadserver.projectagora.info]\/\?id=(\d+)/m,MIN_DATASAVER_CHROME_V:72,ADMANAGER_ACC_IDS:["1025510","54807669"],PA_AD_TAG_DOMAIN:"//ads.projectagoraservices.com",MAX_INARTICLE_TIMEOUT:7e3,VIDEO_DIV_ID:"videoad",MIN_WIDTH:400,MAX_DESKTOP_WIDTH:800,PASSBACK_FIXED_HEIGHT:300,ADTAG_FIXED_WIDTH:300,INLINE_STYLES:["padding-top:0px","border:none","position:relative","z-index:0","line-height:0"],INARTICLE_IFRAME_STYLES:[{prop:"frameborder",value:0},{prop:"scrolling",value:"no"},{prop:"position",value:"relative"},{prop:"float",value:"left"},{prop:"width",value:0},{prop:"height",value:0},{prop:"id",value:"iFrameMagicInArticle"}],ALIGN_CENTER:"margin:0 auto",IMG_THRESHOLD:3,IMG_THRESHOLD_VIDEO:2,PARGPH_THRESHOLD:2,PATHNAME_STOP_WORDS:["pantelidis","pantelidi","padelidi","padelidi","dolofonia","fonos","nekros","nekrous","opla","narkotika","thanato","viastis","distihima","skotothike","friki","kokkino-limanaki","kaikan","pyrkagies","pyrosvestiki","pyrkagia","mati","pyrosvestes","gkremo","fotia","rafina","kineta"],INVALID_STOP_WORDS:["θάνατος","θανατος","thanatos","death","accident","troxaio","troxeo","atixima","atyxhma","8anatos","paidaki","koritsaki","agoraki","agori","koritsi","nearos","neari","died","car accident","plane crush","drugs","drug","overdose","carcrush","crush","overdoze","thanatiforo","θανατηφορο","8anatiforo","8anathforo","koritsi","drugcocktail","heroin","methadone","ketamine","παιδι","ανήλικος","adolescent","youngster","ατύχημα","τροχαίο ατύχημα","plane accident"],patches:function(e){return n(e,p.patchFuns)},ancestorPatch:function(e){return n(e,p.ancestorPatchfunc)},maxSiteTimeOut:function(e){return n(e,p.maxSiteTimeOut)},bannedTargetingKeywords:function(e){return n(e,p.bannedTargetingKeywords)},bannedMetaTags:function(e){return n(e,p.bannedMetaTags)},platforms:s,placeholderUrl:"%%PA_PAGE_URL%%",paParameters:l,videoSliderAssets:c}},{}],5:[function(e,t,i){t.exports={rchh:"Ay4yIDorOzc3dDIhMTllJCEuKSJwNjYxJmM3NTU5ICorbSw9ICQ1MTkuMWs=",qhpc:"ES9/IDwxPStwOyYnKj83NjdhMC05LTplJy0hPCIgLCo4bSA/NiwiKyRhKypuNzo8cBAKCXE=",bqqm:"FiA2KSsnci0/dDYhLTsgczAuIyBwKDFlPTc7OjstZS05PyQ+Ng==",qgqo:"BjE+LCpjGg0dGGUnMyQgPSdhIjciLi1lISAxLCImICBl",iadr:"BzMwKyljICw8MWUwJj0gczQoMSA+b38VIiYzKjV0Ii0pKGU8PSRnKjZhKy0rYyQ4PD0hZCs0NTYge2clESULJCkjfnkwEwQJP2FlMx0gMywmJBssPTM+OCk0aw==",lhft:"BzMwKyljICw8MWUiMD8oMidhKCtwLDAnJy83d3AEKSE+PiBzMCkiJjthKy0rYzIpPycsMDYiKzNzICkhcCE6KS8zITwPICwpOi1lIyEuNyAiNTYgPW0=",jnpg:"BzMwKyljIjYjPTEtMCNlOj0xMjFwLjFlKiYhMiQ7NWp/HSk2MjIiZTElO2UhLTd5PzJlMDcoZSUyLS4hcDEwNic3OzY+J39kPy8qJycuKho8JDkxLm9yOTI7MTAwIBohOiYvMTBtfyUsLCYtPzkaJzojMTYhIWtlMCw2ISovNwY8MSMwP2FlMz4oIyE8JAA3JyQ6LTB6",kjyl:"FiA2KSsnci0/dCYsOi4uczonZzY5NTplJzByOHAEBGQvPyAlOiQwZTQuMiQnLXw=",graj:"FTMtKjxjITw+MCwqOG0oNiAyJiI1e38=",jhiu:"Ey4qKSpjPDYkdCMtMSllJzskZyk5Iy0kPDpyKjMmLDQrYw==",tgdz:"FiA2KSsnci0/dCQgO20sPQAxLitwJTYzbiY+PD0xKzB/OSpzJykiZRQOEms=",ltnp:"BCAtIis3Nz1wMSkhMigrJ3MjPmUzNCwxIS59OiUmNyExOWUjPDIuMTkuMWUgLCZ5NjswKjtj",ugxx:"BCAtIis3Nz1wMSkhMigrJ3MjPmUzNCwxIS59OiUmNyExOWUjPDIuMTkuMWUnMHI3PyBlMj4hLDd9",ukap:"ACAtJCkxMyk4dAQxKyJlHzosLjFwKCxlKTE3OCQxN2QrJSQ9czcmKTklfyAiJj88PiA2ahEiZSUyLS4hcDEwNic3OzY+J2UwMG01PzI4aQ==",fygr:"FiA2KSsnci0/dDYhLTsgcz4gICwzbw==",brsw:"ES9/MCAoPDYnOmUpOiksMnMkNTc/M38qLSAnKyIxIWo=",omen:"FTMtKjxjOzdwIiwgOiJlMTIiLDAgbX8oITE3eTk6Iytl",dspp:"FTMtKjxjPTdwNSFkNiMsJzogKywqICssIS1oeQ==",hvkk:"HSA4LC1jMDU/Ny4hO20nKnMsIjEx",ouyf:"ADMwJy8hPiBwOipkLTgpNiBhJjc1YTorLyE+PDQ=",ofhf:"Ay4yIDorOzc3dCw3fzo3PD0mZyw+YSstK2MgLDwxNmo=",vhki:"FTMtKjxjMykgMSsgNiMiczUgLCBwFT4nISw+OHAwLDI=",agfw:"HC4sMW4gPTc+MSYwNiIrczEkMzI1JDFlOis3eTU4ICk6IzFzPC9nAR8MfyQgJ3ItODFlJz4uLTY3YSgrNW8=",fivy:"EyAqMScsPHVwPSsyPiEsN3M3LiAnID0sIiomIHAlMCEtNBY2PyQkMT8zfzIvMHI/PyErIHE=",aanc:"BRMTZS0sPC0xPSs3fyQrJTItLiFwFA0MbiA6OCI1JjA6PzZzMi8jZTMgMSshN3I7NXQhITwiITY3b2cVMTIsLCAkcjAkdCQ3fyQxczoyaQ==",lbrt:"AygrIG4zMyojMTZkPDg2JzwsZyY4JDwubiU9K3AXCBR/PjEyJzQ0ZSxhDzchITM7PC1lLTFtCxwdbAABABN/JDwmMw==",zazw:"AygrIGkwcjolJzErMm0mOzYiLGU0Ljo2IGQmeSIxMTEtIzZzdC8yKTxmfyMhMXIaHQRlNyssMSYgYTtlADMwJy8hPiBwPStkGAkVAXMgNSAx",csta:"Ey4qKSotdS1wNTU0OiMhcyA1LiY7OH8jPCI/PA==",mxkc:"GC4wLm4jPTcSMSMrLSgEIyMtPiw+JhwwPTc9NAA7Ni0rJCo9M3tnNiAuLTF8d3w+InhlJzAjMTI6LyI3cC8wMW4lPSw+MGs=",sdyi:"GC4wLm4jPTcSMSMrLSgEIyMtPiw+JhwwPTc9NAA7Ni0rJCo9M3tnNiAuLTF8d3w+InhlND4/JDQhIDctcC02KCc3cjo/OiEtKyQqPXMoNGU+LitlIyYmdw==",gjhs:"GC4wLm4jPTcSMSMrLSgVPzIiIig1LysldGMlLid6KCErKCohPC0oIj8ycSI8b3I5fjIqNjwsNid+JSY8IyF/ICImPzw+IGUiMDgrN39hJTAkYTEqOmMiKzUiLCsqPmUgOiMrLD4mcQ==",dsym:"GC4wLm4jPTcSMSMrLSgVPzIiIig1LysldGMlLid6KCErKCohPC0oIj8ycSI8b3I5fjIqNjwsNid+JSY8IyF/ICImPzw+IGUqMDllNTw0KSFwKDFlPiI1PH4=",pbsh:"GC4wLm4jPTcSMSMrLSgVPzIiIig1LysldGMlLid6Iy0zKioyP28kKj1tfzYhLjctOD0rI386ID0nYTA3Py84aw==",bvue:"GC4wLm4jPTcSMSMrLSgVPzIiIig1LysldGMwNiY1Nz1xKjd/cy8oZTQoLSAtN3IwPnQlAj4+LTo8LydlMyArICksICB+",qxtp:"BjE+LCoLBhQcYQYoNigrJ3MgKzc1IDs8bic3KiQmKj06KWQ=",ibmi:"Ey4qKSpjPDYkdDUlLT4gcyA1LiY7OH8kKjczPnABFwh/Kzc8PmE0MTkiNDxuID09NQ==",qjxq:"FiA2KSsnci0/dCEhKygmJ3MCChVwNjYxJio8eSQ8IGQsPSAwOicuIDRhKywjJj0sJHplBSw+MD46LyBlPi5/BgMTcjAjdDU2Oj4gPSdv"}},{}],6:[function(e,t,i){"use strict";function n(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}t.exports=n},{}],7:[function(e,t,i){"use strict";function n(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(-1!==t.indexOf(n))return!0}return!1}t.exports=n},{}],8:[function(e,t,i){"use strict";function n(e,t){var i=e.match(t);return i?i[1]:null}t.exports=n},{}],9:[function(e,t,i){"use strict";function n(e){for(var t=[],i=e&&e.parentElement;i;i=i.parentElement)t.push(i);return t}t.exports=n},{}],10:[function(e,t,i){"use strict";function n(e,t){return"string"==typeof t?void 0!==e[t]:void 0!==e.Attrib}t.exports=n},{}],11:[function(e,t,i){"use strict";function n(e){if(null===e||void 0===e)return!0;if("number"==typeof e.length)return 0===e.length;if("object"!=typeof e)return!0;for(var t=Object.keys(e),i=0,n=t.length;i<n;i++)if(e.hasOwnProperty(t[i]))return!1;return!0}t.exports=n},{}],12:[function(e,t,i){"use strict";function n(e,t){return e.filter(function(e){if(e)return e.indexOf(t)>=0}).length>0}t.exports=n},{}],13:[function(e,t,i){"use strict";function n(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),t=!!e&&parseInt(e[2],10);if(t)return t;if(-1!==["iphone","ipad","ipod"].indexOf(o)&&"chrome"===a){var i=parseInt((/CriOS\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]);return t=i||!1}return!1}function r(){return navigator.userAgent.match(/SAMSUNG|Samsung|SGH-[I|N|T]|GT-[I|N]|SM-[A|N|P|T|Z|G|J]|SHV-E|SCH-[I|J|R|S]|SPH-L/i)}var o=function(){var e=["Android","iPhone","webOS","iPad","BlackBerry","Windows Phone","iPod","Opera Mini"],t=null;return e.every(function(e){return!(navigator.userAgent.indexOf(e)>-1)||(t=e,!1)}),t?t.toLowerCase():null}(),a=function(){return function(){return window.chrome?window.chrome.webstore||window.chrome.runtime?window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/")>=0?"opera":-1!==navigator.userAgent.indexOf("Edg")?"edge_chromium":"chrome":"chromium":-1!==["iphone","ipad","ipod"].indexOf(o)&&window.navigator.userAgent.indexOf("CriOS")>-1?"crios":void 0}()||function(){if(/iP(ad|od|hone)|Macintosh/i.test(window.navigator.userAgent)&&/WebKit/i.test(window.navigator.userAgent)&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(window.navigator.userAgent))return"safari"}()||function(){if("undefined"!=typeof InstallTrigger)return"firefox"}()||function(){if(-1!==navigator.userAgent.indexOf("SamsungBrowser"))return"samsung_browser"}()}(),s=!!o;t.exports={whichBrowser:a,whichMobileDevice:o,detectSamsungDevice:r,detectChromeVersion:n,isMobileDevice:s}},{}],14:[function(e,t,i){"use strict";function n(e,t,i){var n=e.querySelectorAll("script, img");!function(){e.nodeType===Node.DOCUMENT_NODE?function(){var i=new DOMParser,n=i.parseFromString(t,"text/html"),r=n.querySelector("head").innerHTML,o=n.querySelector("body").innerHTML;e.head.innerHTML=r,e.body.innerHTML=o}():function(){if(""===e.innerHTML)return void(e.innerHTML=t);var i=document.createElement("template");i.innerHTML=t;var n=i.content.cloneNode(!0);e.appendChild(n)}()}();var r=function(t){for(var i=e.querySelectorAll("script, img"),n=[],r=0;r<i.length;r++){for(var o=i[r],a=!1,s=0;s<t.length;s++){if(o===t[s]){a=!0;break}}a||n.push(o)}return n}(n);!function(e){function t(e){for(var t=document.createElement(e.tagName),i=e.attributes,n=0;n<i.length;n++)t.setAttribute(i[n].name,i[n].value);return t.innerHTML=e.innerHTML,t}e.forEach(function(e){var i=t(e);e.parentNode.appendChild(i),e.remove()})}(r),"function"==typeof i&&i()}t.exports=n},{}],15:[function(e,t,i){"use strict";function n(e){"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e,!1)}t.exports=n},{}],16:[function(e,t,i){"use strict";function n(e){var t=document.getElementById(e.id);if(t!==e){r.override(e.id).warn(o.agfw)}return t}var r=e("../../../modules/magic/utilities/logger"),o=e("../../resources/messages");t.exports=n},{"../../../modules/magic/utilities/logger":161,"../../resources/messages":5}],17:[function(e,t,i){"use strict";function n(){var e=document.createElement("iframe"),t=arguments[0];return"object"!=typeof t||r(t)?null:(Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])}),e)}var r=e("../auxiliary/isEmpty");t.exports=n},{"../auxiliary/isEmpty":11}],18:[function(e,t,i){"use strict";var n=function(e,t,i,n,r){var o,a=e.getElementsByTagName(i)[0];e.getElementById(n)||(o=e.createElement(i),o.id=n,o.async=!0,o.type="text/javascript",o.src=t,o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,r())}:o.onload=function(){r()},a.parentNode.insertBefore(o,a))};t.exports=n},{}],19:[function(e,t,i){"use strict";function n(e,t){var i='<!DOCTYPE html> <html><head><meta charset="UTF-8"><style>#adheading{margin:0 auto;font-size:14px!important;height:auto;display:block;text-transform:unset!important;background-color:transparent;vertical-align:bottom;font-family:system-ui, sans-serif!important;font-weight:400;text-align:center;color:#747474!important;margin-top:2px!important;margin-bottom:7px!important}#paheading:hover{color:#d84820!important;padding:unset!important;font-weight:700!important;overflow:unset!important;-webkit-font-smoothing:antialiased;line-height:unset!important;font-size:14px!important;cursor:pointer}</style></head><body style="margin:0;padding:0"><h4 id="adheading">'+e+"</h4></body></html>",n=document.createElement("iframe");return n.id="AgoraHead",n.scrolling="no",n.marginWidth="0",n.marginHeight="0",n.frameBorder="0",n.style.height="25px",n.width="100%",n.onload=function(){r(this,i),void 0!==t&&t(n)},n}var r=e("./setIframeContent");t.exports=n},{"./setIframeContent":21}],20:[function(e,t,i){"use strict";function n(e,t){t.parentNode.insertBefore(e,t.nextSibling)}var r=(e("../logger/genericLogger"),function(e,t,i){switch(i){case"after":n(t,e);break;case"before":e.parentElement.insertBefore(t,e);break;case"inside-first":e.childNodes&&e.childNodes.length>0?e.insertBefore(t,e.childNodes[0]):e.appendChild(t);break;case"inside-after":case"inside-last":e.appendChild(t);break;case"beforebegin":case"afterbegin":case"beforeend":case"afterend":e.insertAdjacentElement(i,t);break;default:e.insertBefore(t,null)}});t.exports=r},{"../logger/genericLogger":33}],21:[function(e,t,i){"use strict";function n(e,t){var i=e.contentWindow&&e.contentWindow.document;return!!i&&(i.open(),i.write(t),i.close(),!0)}t.exports=n},{}],22:[function(e,t,i){"use strict";function n(e,t,i,a){return function(){try{if(0<i.length){var s=i.shift(),l=n(e,t,i,a);if("SCRIPT"===String(s.nodeName).toUpperCase()){var c=document.createElement("script");c.async=s.async||!1,c.type="text/javascript",s.id&&(c.id=s.id),s.className&&(c.className=s.className),c.text=s.text||s.textContent||s.innerHTML||"",s.charset&&(c.charset=s.charset);var u=s.getAttribute("src");u&&(c.src=u,r(c,l)),o(e,c,t),u||l()}else o(e,s,t),l()}else"function"==typeof a&&a()}catch(e){}}}function r(e,t){e.onload=e.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t(),e.onload=e.onreadystatechange=null)}}var o=e("./positionElement");e("../logger/genericLogger");t.exports=n},{"../logger/genericLogger":33,"./positionElement":20}],23:[function(e,t,i){"use strict";function n(e){if(!Array.isArray(e)||0===e.length)return!1;var t=!1;return e.forEach(function(e){var i=e.metaProperty,n=e.metaContent,o=r(i);if(null===o||!Array.isArray(o)||0===o.length)return!1;o.forEach(function(e){if(!e||!e.content)return!1;n===e.content&&(t=!0)})}),t}function r(e){var t=[],i='meta[property="'+e+'"]',n=document.querySelectorAll(i);return null!==n&&(t=Array.prototype.slice.call(n)),0===t.length?null:t}e("../logger/genericLogger");t.exports=n},{"../logger/genericLogger":33}],24:[function(e,t,i){"use strict";function n(e){var t=window.targettingValues;if(void 0===t||void 0===t.keywords)return!1;var i=!1;return t.keywords.forEach(function(t){e.forEach(function(e){if(e===t)return i=!0})}),i}t.exports=n},{}],25:[function(e,t,i){"use strict";function n(){try{var e=window.top.location.hostname;return-1!==e.indexOf("projectagora.com")||-1!==e.indexOf("pamagicassets.s3.eu-central-1.amazonaws.com")||-1!==e.indexOf("localhost")||-1!==e.indexOf("agora.test")}catch(e){return r.error(o.kjyl,e),!1}}var r=e("../logger/genericLogger"),o=e("../../resources/messages");t.exports=n},{"../../resources/messages":5,"../logger/genericLogger":33}],26:[function(e,t,i){"use strict";function n(e){return r(e,o.PA_ADTAG_REGEX)}var r=e("../auxiliary/getMatches"),o=e("../../resources");t.exports=n},{"../../resources":4,"../auxiliary/getMatches":8}],27:[function(e,t,i){"use strict";function n(e,t,i,n){e=r(e),e=e.replace(g.placeholderUrl,encodeURI(location.href)),v(g.paParameters,e)&&(e=p(e));var o=a(e);o&&(e=s(o,e,i)),t.push(o&&o.gdpr?l(o,n,e):e)}function r(e){var t;if(e=e.replace(/\s+/g,""),
o(e,"http://"))t=e.slice(7);else if(o(e,"https://"))t=e.slice(8);else if(o(e,"//"))t=e.slice(2);else{var i=h()?"&dongle=blue&test=1":"";t="secure",t+=".adnxs.com/ptv?id="+e+i}return t="https://"+t}function o(e,t){return 0===e.lastIndexOf(t,0)}function a(e){for(var t,i=g.platforms.length,n=0;n<i;n++){t=g.platforms[n].urls.length;for(var r=0;r<t;r++)if(-1!=e.indexOf(g.platforms[n].urls[r]))return g.platforms[n]}return null}function s(e,t,i){e.default_schain&&(t=u(t,e.default_schain));var n=d(e);return t+(-1===t.indexOf("?")?"?":"&")+n+"="+i}function l(e,t,i){var n=c(e),r=n.gdpr,o=n.gdprCons;if(t&&t.gdpr&&void 0!==t.gdpr.applies){var a=i.indexOf(r)>-1,s=i.indexOf(o)>-1;e.replace&&a?(i=i.replace(r,r+Number(t.gdpr.applies)),t.gdpr.consent&&s&&(i=i.replace(o,o+t.gdpr.consent))):e.add&&!a&&(i+="&"+r+Number(t.gdpr.applies),t.gdpr.consent&&!s&&(i+="&"+o+t.gdpr.consent))}return i}function c(e){switch(e.name){case"freewheel":return{gdpr:"_fw_gdpr=",gdprCons:"_fw_gdpr_consent="};case"oneTag":return{gdpr:"gdpr=",gdprCons:"gdpr_consent_string="};default:return{gdpr:"gdpr=",gdprCons:"gdpr_consent="}}}function u(e,t){return-1!==e.indexOf(t)?e.replace(t,""):e}function d(e){switch(e.name){case"rubicon":return"rp_schain";default:return"schain"}}function p(e){for(var t=m().getBoundingClientRect().width,i=f(t),n=0;n<g.paParameters.length;n++)e=e.replace(g.paParameters[n],i[n]);return e}function m(){return document.getElementById(g.VIDEO_DIV_ID)}function f(e){var t,i,n;return e>0?(t=Math.round(e),i=Math.round(9*e/16),n=Math.floor(9999999999*Math.random()+1)):(t="",i="",n=""),[t,i,n]}var g=e("../../resources"),h=e("./checkIfPreviewDomain"),v=e("../auxiliary/containsAny");t.exports=n},{"../../resources":4,"../auxiliary/containsAny":7,"./checkIfPreviewDomain":25}],28:[function(e,t,i){"use strict";function n(e,t){e?e.hasOwnProperty("paSellerId")||(e.paSellerId=1e5):e=t?{paSellerId:1e5,paOwns:"Operated Only"}:{paSellerId:1e5,paOwns:"Owned & Operated"};var i=r(e.paOwns),n="1.0,"+i,a="!projectagora.com,"+e.paSellerId+",1",s=n+a;if(!i&&Boolean(t)){var l=o(t);s=Boolean(l)?t+a:"1.0,0!projectagora.com,"+e.paSellerId+",1"}return s}function r(e){return"Owned & Operated"===e?1:"Operated Only"===e?0:void 0}function o(e){var t={},i=e.split("!");if(i.length<=1)return!1;var n=i[0].split(",");if(""===n[0]||!function(e){return/^-?[\d]*(\.[\d]+)$/g.test(e)}(n[0]))return!1;if(t.version=n[0],-1===["1","0"].indexOf(n[1]))return!1;t.complete=n[1],t.partners=[];for(var r=i.length,o=1;o<r;o++){var s=i[o].split(","),l=a(s);if(!1===l)return!1;t.partners.push(l)}return t}function a(e){if(e.length<3)return!1;var t={asi:null,sid:null,hp:null,rid:null,name:null,domain:null,ext:null};return!!new RegExp("^((?!://)([a-zA-Z0-9-_]+.)*[a-zA-Z0-9][a-zA-Z0-9-_]+.[a-zA-Z]{2,11}?)$").test(e[0])&&(t.asi=e[0],!!function(e){return/^\d+$/.test(e)}(e[1])&&(t.sid=e[1],"1"===e[2]&&(t.hp=e[2],""!==e[3]&&(t.rid=e[3]),""!==e[4]&&(t.name=e[4]),""!==e[5]&&(t.domain=e[5]),""!==e[6]&&(t.ext=e[6]),t)))}e("../logger/genericLogger");t.exports=n},{"../logger/genericLogger":33}],29:[function(e,t,i){"use strict";function n(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=i.exec(t);if(!n)return null;if(!n[2])return"";try{return decodeURIComponent(n[2].replace(/\+/g," "))}catch(e){return null}}t.exports=n},{}],30:[function(e,t,i){"use strict";function n(e){var t=e.consentManagement,i=e.gdpr&&!0===e.gdpr.applies,n=e.userConsentInfo&&e.userConsentInfo.projectAgoraConsent;return!t||!i||n}e("../logger/genericLogger");t.exports=n},{"../logger/genericLogger":33}],31:[function(e,t,i){"use strict";function n(e){var t=document.createElement("div");t.innerHTML="A<div>"+e+"</div>",t=t.lastChild;for(var i=[];t.firstChild;)i.push(t.removeChild(t.firstChild));return i}t.exports=n},{}],32:[function(e,t,i){var n=e("./auxiliary/containsAny"),r=e("./auxiliary/getParents"),o=e("./auxiliary/getMatches"),a=e("./auxiliary/matchStringInArray"),s=e("./auxiliary/hasAttribute"),l=e("./auxiliary/arraysEqual"),c=e("./domManipulation/positionElement"),u=e("./domManipulation/write_script"),d=e("./domManipulation/loadScript"),p=e("./domManipulation/setIframeContent"),m=e("./domManipulation/createGenericIframe"),f=e("./domManipulation/checkConnectionWithDomAndCachedVideoadElement"),g=e("./extractInfo/parseElementTags"),h=e("./extractInfo/getSchainInfo"),v=e("./extractInfo/checkIfPreviewDomain"),y=e("./extractInfo/getUrlParameterByName"),b=e("./extractInfo/blockAdFunctionality"),w=e("./extractInfo/extractAdTagId"),A=e("./extractInfo/blockAdByMetaTags"),x=e("./extractInfo/getParsedPlatformURL"),k=e("./styleElements/transition"),T=e("./styleElements/addCssStyle"),E=e("./styleElements/addStyleSheet"),C=e("./styleElements/addRemoveClass"),S=e("./styleElements/setIframeDimensions"),I=e("./device");String.prototype.isEmpty=function(){return 0===this.length||!this.trim()};t.exports={arraysEqual:l,containsAny:n,getParents:r,getMatches:o,matchStringInArray:a,hasAttribute:s,positionElement:c,write_script:u,loadScript:d,setIframeContent:p,createGenericIframe:m,checkConnectionWithDomAndCachedVideoadElement:f,parseElementTags:g,getSchainInfo:h,checkIfPreviewDomain:v,getUrlParameterByName:y,blockAdFunctionality:b,extractAdTagId:w,blockAdByMetaTags:A,getParsedPlatformURL:x,transition:k,addCssStyle:T,addStylesheet:E,addRemoveCssClass:C,setIframeDimensions:S,iframeResizerContentWindowCode:'!function(d){if("undefined"!=typeof window){var n=!0,o=10,i="",r=0,a="",t=null,u="",c=!1,s={resize:1,click:1},l=128,f=!0,m=1,h="bodyOffset",g=h,p=!0,v="",y={},b=32,w=null,T=!1,E="[iFrameSizer]",O=E.length,S="",M={max:1,min:1,bodyScroll:1,documentElementScroll:1},I="child",N=!0,A=window.parent,C="*",z=0,k=!1,e=null,R=16,x=1,L="scroll",F=L,P=window,D=function(){re("onMessage function not defined")},j=function(){},q=function(){},H={height:function(){return re("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return re("Custom width calculation function not defined"),document.body.scrollWidth}},W={},B=!1;try{var J=Object.create({},{passive:{get:function(){B=!0}}});window.addEventListener("test",ee,J),window.removeEventListener("test",ee,J)}catch(e){}var U,V,K,Q,X,Y,G=Date.now||function(){return(new Date).getTime()},Z={bodyOffset:function(){return document.body.offsetHeight+pe("marginTop")+pe("marginBottom")},offset:function(){return Z.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return H.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,ye(Z))},min:function(){return Math.min.apply(null,ye(Z))},grow:function(){return Z.max()},lowestElement:function(){return Math.max(Z.bodyOffset()||Z.documentElementOffset(),ve("bottom",we()))},taggedElement:function(){return be("bottom","data-iframe-height")}},$={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return H.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max($.bodyScroll(),$.documentElementScroll())},max:function(){return Math.max.apply(null,ye($))},min:function(){return Math.min.apply(null,ye($))},rightMostElement:function(){return ve("right",we())},taggedElement:function(){return be("right","data-iframe-width")}},_=(U=Te,X=null,Y=0,function(){var e=G(),t=R-(e-(Y=Y||e));return V=this,K=arguments,t<=0||R<t?(X&&(clearTimeout(X),X=null),Y=e,Q=U.apply(V,K),X||(V=K=null)):X=X||setTimeout(Ee,t),Q});te(window,"message",function(t){var n={init:function(){v=t.data,A=t.source,ae(),f=!1,setTimeout(function(){p=!1},l)},reset:function(){p?ie("Page reset ignored by init"):(ie("Page size reset by host page"),Me("resetPage"))},resize:function(){Oe("resizeParent","Parent window requested size check")},moveToAnchor:function(){y.findTarget(i())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var e=i();ie("PageInfoFromParent called from parent: "+e),q(JSON.parse(e)),ie(" --")},message:function(){var e=i();ie("onMessage called from parent: "+e),D(JSON.parse(e)),ie(" --")}};function o(){return t.data.split("]")[1].split(":")[0]}function i(){return t.data.substr(t.data.indexOf(":")+1)}function r(){return t.data.split(":")[2]in{true:1,false:1}}function e(){var e=o();e in n?n[e]():("undefined"==typeof module||!module.exports)&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype||r()||re("Unexpected message ("+t.data+")")}E===(""+t.data).substr(0,O)&&(!1===f?e():r()?n.init():ie(\'Ignored message of type "\'+o()+\'". Received before initialization.\'))}),te(window,"readystatechange",Ae),Ae()}function ee(){}function te(e,t,n,o){e.addEventListener(t,n,!!B&&(o||{}))}function ne(e){return e.charAt(0).toUpperCase()+e.slice(1)}function oe(e){return E+"["+S+"] "+e}function ie(e){T&&"object"==typeof window.console&&console.log(oe(e))}function re(e){"object"==typeof window.console&&console.warn(oe(e))}function ae(){!function(){function e(e){return"true"===e}var t=v.substr(O).split(":");S=t[0],r=d!==t[1]?Number(t[1]):r,c=d!==t[2]?e(t[2]):c,T=d!==t[3]?e(t[3]):T,b=d!==t[4]?Number(t[4]):b,n=d!==t[6]?e(t[6]):n,a=t[7],g=d!==t[8]?t[8]:g,i=t[9],u=t[10],z=d!==t[11]?Number(t[11]):z,y.enable=d!==t[12]&&e(t[12]),I=d!==t[13]?t[13]:I,F=d!==t[14]?t[14]:F}(),ie("Initialising iFrame ("+location.href+")"),function(){function e(e,t){return"function"==typeof e&&(ie("Setup custom "+t+"CalcMethod"),H[t]=e,e="custom"),e}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(function(){var e=window.iFrameResizer;ie("Reading data from page: "+JSON.stringify(e)),Object.keys(e).forEach(ue,e),D="onMessage"in e?e.onMessage:D,j="onReady"in e?e.onReady:j,C="targetOrigin"in e?e.targetOrigin:C,g="heightCalculationMethod"in e?e.heightCalculationMethod:g,F="widthCalculationMethod"in e?e.widthCalculationMethod:F}(),g=e(g,"height"),F=e(F,"width"));ie("TargetOrigin for parent set to: "+C)}(),function(){d===a&&(a=r+"px");ce("margin",function(e,t){-1!==t.indexOf("-")&&(re("Negative CSS value ignored for "+e),t="");return t}("margin",a))}(),ce("background",i),ce("padding",u),function(){var e=document.createElement("div");e.style.clear="both",e.style.display="block",e.style.height="0",document.body.appendChild(e)}(),fe(),me(),document.documentElement.style.height="",document.body.style.height="",ie(\'HTML & body height set to "auto"\'),ie("Enable public methods"),P.parentIFrame={autoResize:function(e){return!0===e&&!1===n?(n=!0,he()):!1===e&&!0===n&&(n=!1,de("remove"),null!==t&&t.disconnect(),clearInterval(w)),Ne(0,0,"autoResize",JSON.stringify(n)),n},close:function(){Ne(0,0,"close")},getId:function(){return S},getPageInfo:function(e){"function"==typeof e?(q=e,Ne(0,0,"pageInfo")):(q=function(){},Ne(0,0,"pageInfoStop"))},moveToAnchor:function(e){y.findTarget(e)},reset:function(){Ie("parentIFrame.reset")},scrollTo:function(e,t){Ne(t,e,"scrollTo")},scrollToOffset:function(e,t){Ne(t,e,"scrollToOffset")},sendMessage:function(e,t){Ne(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){g=e,fe()},setWidthCalculationMethod:function(e){F=e,me()},setTargetOrigin:function(e){ie("Set targetOrigin: "+e),C=e},size:function(e,t){Oe("size","parentIFrame.size("+((e||"")+(t?","+t:""))+")",e,t)}},he(),y=function(){function r(e){var t=e.getBoundingClientRect(),n={x:window.pageXOffset!==d?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==d?window.pageYOffset:document.documentElement.scrollTop};return{x:parseInt(t.left,10)+parseInt(n.x,10),y:parseInt(t.top,10)+parseInt(n.y,10)}}function t(e){var t,n=e.split("#")[1]||e,o=decodeURIComponent(n),i=document.getElementById(o)||document.getElementsByName(o)[0];d!==i?(t=r(i),ie("Moving to in page link (#"+n+") at x: "+t.x+" y: "+t.y),Ne(t.y,t.x,"scrollToOffset")):(ie("In page link (#"+n+") not found in iFrame, so sending to parent"),Ne(0,0,"inPageLink","#"+n))}function e(){""!==location.hash&&"#"!==location.hash&&t(location.href)}function n(){Array.prototype.forEach.call(document.querySelectorAll(\'a[href^="#"]\'),function(e){"#"!==e.getAttribute("href")&&te(e,"click",function(e){e.preventDefault(),t(this.getAttribute("href"))})})}y.enable?Array.prototype.forEach&&document.querySelectorAll?(ie("Setting up location.hash handlers"),n(),te(window,"hashchange",e),setTimeout(e,l)):re("In page linking not fully supported in this browser! (See README.md for IE8 workaround)"):ie("In page linking not enabled");return{findTarget:t}}(),Oe("init","Init message from host page"),j()}function ue(e){var t=e.split("Callback");if(2===t.length){var n="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[n]=this[e],delete this[e],re("Deprecated: \'"+e+"\' has been renamed \'"+n+"\'. The old method will be removed in the next major version.")}}function ce(e,t){d!==t&&""!==t&&"null"!==t&&ie("Body "+e+\' set to "\'+(document.body.style[e]=t)+\'"\')}function se(n){var e={add:function(e){function t(){Oe(n.eventName,n.eventType)}W[e]=t,te(window,e,t,{passive:!0})},remove:function(e){var t=W[e];delete W[e],function(e,t,n){e.removeEventListener(t,n,!1)}(window,e,t)}};n.eventNames&&Array.prototype.map?(n.eventName=n.eventNames[0],n.eventNames.map(e[n.method])):e[n.method](n.eventName),ie(ne(n.method)+" event listener: "+n.eventType)}function de(e){se({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),se({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),se({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),se({method:e,eventType:"Input",eventName:"input"}),se({method:e,eventType:"Mouse Up",eventName:"mouseup"}),se({method:e,eventType:"Mouse Down",eventName:"mousedown"}),se({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),se({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]}),se({method:e,eventType:"Ready State Change",eventName:"readystatechange"}),se({method:e,eventType:"Touch Start",eventName:"touchstart"}),se({method:e,eventType:"Touch End",eventName:"touchend"}),se({method:e,eventType:"Touch Cancel",eventName:"touchcancel"}),se({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),se({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),se({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===I&&se({method:e,eventType:"IFrame Resized",eventName:"resize"})}function le(e,t,n,o){return t!==e&&(e in n||(re(e+" is not a valid option for "+o+"CalculationMethod."),e=t),ie(o+\' calculation method set to "\'+e+\'"\')),e}function fe(){g=le(g,h,Z,"height")}function me(){F=le(F,L,$,"width")}function he(){!0===n?(de("add"),function(){var e=b<0;window.MutationObserver||window.WebKitMutationObserver?e?ge():t=function(){function t(e){function t(e){!1===e.complete&&(ie("Attach listeners to "+e.src),e.addEventListener("load",i,!1),e.addEventListener("error",r,!1),u.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function o(e){ie("Remove listeners from "+e.src),e.removeEventListener("load",i,!1),e.removeEventListener("error",r,!1),function(e){u.splice(u.indexOf(e),1)}(e)}function n(e,t,n){o(e.target),Oe(t,n+": "+e.target.src,d,d)}function i(e){n(e,"imageLoad","Image loaded")}function r(e){n(e,"imageLoadFailed","Image load failed")}function a(e){Oe("mutationObserver","mutationObserver: "+e[0].target+" "+e[0].type),e.forEach(t)}var u=[],c=window.MutationObserver||window.WebKitMutationObserver,s=function(){var e=document.querySelector("body");return s=new c(a),ie("Create body MutationObserver"),s.observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),s}();return{disconnect:function(){"disconnect"in s&&(ie("Disconnect body MutationObserver"),s.disconnect(),u.forEach(o))}}}():(ie("MutationObserver not supported in this browser!"),ge())}()):ie("Auto Resize disabled")}function ge(){0!==b&&(ie("setInterval: "+b+"ms"),w=setInterval(function(){Oe("interval","setInterval: "+b)},Math.abs(b)))}function pe(e,t){var n=0;return t=t||document.body,n=null!==(n=document.defaultView.getComputedStyle(t,null))?n[e]:0,parseInt(n,o)}function ve(e,t){for(var n=t.length,o=0,i=0,r=ne(e),a=G(),u=0;u<n;u++)i<(o=t[u].getBoundingClientRect()[e]+pe("margin"+r,t[u]))&&(i=o);return a=G()-a,ie("Parsed "+n+" HTML elements"),ie("Element position calculated in "+a+"ms"),function(e){R/2<e&&ie("Event throttle increased to "+(R=2*e)+"ms")}(a),i}function ye(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function be(e,t){var n=document.querySelectorAll("["+t+"]");return 0===n.length&&(re("No tagged elements ("+t+") found on page"),document.querySelectorAll("body *")),ve(e,n)}function we(){return document.querySelectorAll("body *")}function Te(e,t,n,o){var i,r;function a(e,t){return!(Math.abs(e-t)<=z)}i=d!==n?n:Z[g](),r=d!==o?o:$[F](),a(m,i)||c&&a(x,r)||"init"===e?(Se(),Ne(m=i,x=r,e)):e in{init:1,interval:1,size:1}||!(g in M||c&&F in M)?e in{interval:1}||ie("No change in size detected"):Ie(t)}function Ee(){Y=G(),X=null,Q=U.apply(V,K),X||(V=K=null)}function Oe(e,t,n,o){k&&e in s?ie("Trigger event cancelled: "+e):(e in{reset:1,resetPage:1,init:1}||ie("Trigger event: "+t),"init"===e?Te(e,t,n,o):_(e,t,n,o))}function Se(){k||(k=!0,ie("Trigger event lock on")),clearTimeout(e),e=setTimeout(function(){k=!1,ie("Trigger event lock off"),ie("--")},l)}function Me(e){m=Z[g](),x=$[F](),Ne(m,x,e)}function Ie(e){var t=g;g=h,ie("Reset trigger event: "+e),Se(),Me("reset"),g=t}function Ne(e,t,n,o,i){var r;!0===N&&(d===i?i=C:ie("Message targetOrigin: "+i),ie("Sending message to host page ("+(r=S+":"+(e+":"+t)+":"+n+(d!==o?":"+o:""))+")"),A.postMessage(E+r,i))}function Ae(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}();',device:I}},{"./auxiliary/arraysEqual":6,"./auxiliary/containsAny":7,"./auxiliary/getMatches":8,"./auxiliary/getParents":9,"./auxiliary/hasAttribute":10,"./auxiliary/matchStringInArray":12,"./device":13,"./domManipulation/checkConnectionWithDomAndCachedVideoadElement":16,"./domManipulation/createGenericIframe":17,"./domManipulation/loadScript":18,"./domManipulation/positionElement":20,"./domManipulation/setIframeContent":21,"./domManipulation/write_script":22,"./extractInfo/blockAdByMetaTags":23,"./extractInfo/blockAdFunctionality":24,"./extractInfo/checkIfPreviewDomain":25,"./extractInfo/extractAdTagId":26,"./extractInfo/getParsedPlatformURL":27,"./extractInfo/getSchainInfo":28,"./extractInfo/getUrlParameterByName":29,"./extractInfo/parseElementTags":31,"./styleElements/addCssStyle":36,"./styleElements/addRemoveClass":37,"./styleElements/addStyleSheet":38,"./styleElements/setIframeDimensions":39,"./styleElements/transition":40}],33:[function(e,t,i){var n=e("./index"),r=n({moduleName:"Generic"});t.exports=r},{"./index":34}],34:[function(e,t,i){"use strict";function n(t){function i(e){var t=e.text,i=e.cssStyle||"",n=e.isTemporary,r="%c "+t+" ",a={text:r,styling:o+i};n?y.push(a):v.push(a)}function n(){var e=Array.prototype.slice.call(arguments);p(void 0,e,function(t){if(g){m(t.concat(e))}})}function a(e,t){s(e),l(),g&&m([e,t]),y=[]}function s(){var e=Array.prototype.slice.call(arguments);p(void 0,e),b=!0}function l(){b=!1}function c(){var e=Array.prototype.slice.call(arguments);p(void 0,e,d)}function u(){var e=Array.prototype.slice.call(arguments);p(void 0,e,d)}function d(t,i){var n=e("../../../core/productDetectorEventGateway"),r=i.map(function(e){try{return e instanceof Error?e.message:e}catch(t){return e}});n.sendErrorMessage(t,r)}function p(e,t,i){var n=r(b,v,y);if(t.forEach(function(e){n.push(e)}),e&&e.apply(null,n),i){i(v.concat(y).map(function(e){return e.text.replace("%c","").trim()}),t)}y=[]}function m(e){f()&&(window.QALog=window.QALog||[],e.unshift(h),window.QALog.push(e))}function f(){return/qa_log=true/.test(window.location.search)}var g=t.isQaModeEnabled||!1,h=t.moduleName,v=[],y=[],b=!1;return i({text:"HT"}),i({text:t.moduleName,cssStyle:t.style}),{log:n,logTable:a,group:s,groupEnd:l,error:c,warn:u,addLabel:i}}var r=e("./utilities/getParameters"),o="border: 1px solid; padding: 2px; font-weight: 900; font-size: 12px;";t.exports=n},{"../../../core/productDetectorEventGateway":84,"./utilities/getParameters":35}],35:[function(e,t,i){function n(e,t,i){if(e)return[];var n=[],r="";return t.concat(i).forEach(function(e){r+=e.text+"%c | ",n.push(e.styling),n.push("")}),n.unshift(r),n}t.exports=n},{}],36:[function(e,t,i){"use strict";function n(e,t){var i="IFRAME"===e.nodeName?e.contentWindow.document.head:e.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.appendChild(document.createTextNode(t)),i.appendChild(n)}t.exports=n},{}],37:[function(e,t,i){function n(e,t,i){i&&e.classList.remove(i),t&&e.classList.add(t)}t.exports=n},{}],38:[function(e,t,i){"use strict";function n(e){var t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.innerHTML=e,t.appendChild(i)}t.exports=n},{}],39:[function(e,t,i){"use strict";function n(e,t,i){e.style.height=i+"px",e.style.width=t+"px",e.contentWindow.document.body.style.margin=0}e("../logger/genericLogger");t.exports=n},{"../logger/genericLogger":33}],40:[function(e,t,i){"use strict";function n(e,t,i,n,o,a,s,l){var c;l=l||0;var u=parseInt(i.clientHeight),d=(new Date).getTime(),p=e-parseInt(i.clientHeight),m=setInterval(function(){var f=(new Date).getTime()-d;if(f<t){var g=Math.floor(p*f/t);c=u+g+l,i.style.height=c+"px",n.style.height=c+"px"}else i.style.height=e+l+"px",n.style.height=e+l+"px",n&&"none"===n.style.display&&r(n)&&(n.style.display="block"),r(n)&&o&&a&&(o.style.display="block",a.style.display="block"),clearInterval(m),s&&s()},1)}function r(e){var t=document.getElementById("videoContainer");if(null===t){var i=e.contentDocument;t=i?i.getElementById("videoContainer"):null,null===t&&(t=document.getElementById("videoad"))}return!("0px"===t.style.height||""===t.style.height)}t.exports=n},{}],41:[function(e,t,i){"use strict";function n(e,t,i){function n(){var e=s(m),t=a();if(0===t.length)return e;var i=u(t);if(!Boolean(i.scenarios&&i.scenarios.length&&i.scenarios.length>0))return e;var n=u(i.scenarios),r=l(n);return c(e,r).concat(r)}function a(){function e(e){return!!e&&new Date>=function(e){var t=e.split("-"),i=t[0],n=t[1],r=t[2];return new Date(+i,n-1,+r)}(e)}var n=[];return m.filter(function(o){var a=!e(o.end_date),s=r.isRuleValid(o,t,i),l=a&&s;return n.push({hasNotPassedEndDate:a,hasValidTargeting:s,result:l}),l})}function s(e){function t(e){return!d(i,function(t){return t===e.name})}var i=function(){var t=[];return e.forEach(function(e){(e.scenarios||[]).forEach(function(e){e.forEach(function(e){-1!==t.indexOf(e)||t.push(e)})})}),t}();return p.filter(t)}function l(e){var t=[];return e.forEach(function(e){var i=d(p,function(t){return t.name===e});i&&t.push(i)}),t}function c(e,t){var i=[],n=[];return e.forEach(function(e){var r=d(t,function(t){return t.type===e.type}),o=void 0!==r;n.push({ruleName:e.name,hasConflictWithRule:o,conflictingRuleName:o?r.name:null}),o||i.push(e)}),i}function u(e){return e[Math.floor(Math.random()*e.length)]}function d(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]}var p=(new o({moduleName:"ABTest",isQaModeEnabled:!0}),JSON.parse(JSON.stringify(e.rules))),m=e.AB.tests;return{run:n}}var r=e("../targeting"),o=e("../../common/utilities/logger");t.exports=n},{"../../common/utilities/logger":34,"../targeting":88}],42:[function(e,t,i){function n(e,t){var i=document.createElement("div");return i.setAttribute("class",e),i.setAttribute("style",t),document.body?(document.body.appendChild(i),i):(d=new MutationObserver(function(e){document.body&&(document.body.appendChild(i),l=i,d.disconnect(),d=null,o())}),d.observe(document.documentElement,{childList:!0}),null)}function r(e){return!e.offsetHeight}function o(){p=r(l),window.document.body.removeChild(l),m()}function a(e){m=e,(l=n(c,u))&&o()}function s(){return p}var l,c=(e("./utilities/logger"),"textads banner-ads banner_ads ad-unit ad-zone ad-space adsbox"),u="height: 1px !important;",d=null,p=null,m=function(){};t.exports={IsDetected:s,run:a}},{"./utilities/logger":43}],43:[function(e,t,i){var n=e("../../../common/utilities/logger"),r=n({moduleName:"AdBlock Detector"});t.exports=r},{"../../../common/utilities/logger":34}],44:[function(e,t,i){var n={consent:{Magic:0,Taboola:1,LO:2,AdBlock:3,CustomScript:4,ExitBee:5,InSpin:6,Outstream:7,VignetteAds:8},nonConsent:{Taboola:0,CustomScript:1,LightAdServer:2,Magic:3,Outstream:4}};t.exports=n},{}],45:[function(e,t,i){function n(e){function t(t){if((b=t||u())&&b.rules){var i=!!w;if(b.AB&&b.AB.enabled){var n=new p(b,i);delete b.rules,b.rules=n.run()}var r=h(i);return o(r,A,b,e,i)}}function i(){return!A.metaTargeting.hasRun&&(c(A.metaTargeting.config)||A.metaTargeting.hasStickyRules)}function n(t){return(c(A.metaTargeting.config)||A.metaTargeting.hasStickyRules)&&a()?void function(){s(A.metaTargeting.config),A.metaTargeting.hasRun=!0;var e=A.metaTargeting.config;t(e),A.metaTargeting.config.rules=[]}():A.metaTargeting.timeWaitingForGoogleTag>A.metaTargeting.maximumTimeWaitingGoogleTag?void function(){A.metaTargeting.hasStickyRules&&function(){var t=v("PAStickyAd",!0);for(var i in t)t[i].targeting&&(t[i].targeting.var_targeting||t[i].targeting.keyvalue_targeting)&&t.splice(i,1);new l(t,e).run()}()}():void function(){setTimeout(function(){A.metaTargeting.timeWaitingForGoogleTag+=A.metaTargeting.intervalToCheckForGoogleTag,n(t)},A.metaTargeting.intervalToCheckForGoogleTag)}()}function f(e){for(var t in e){var i=e[t];i.targeting&&(i.targeting.var_targeting||i.targeting.keyvalue_targeting)&&(A.metaTargeting.hasStickyRules=!0)}return A.metaTargeting.hasStickyRules}function g(e){A.metaTargeting.hasStickyRules=e}function h(e){var t=w?d.consent:d.nonConsent,i={};for(var n in t)if(t.hasOwnProperty(n)){var r=v(n,e);r&&r.length>0&&(i[n]=r)}return i}function v(t,i){return b.rules.filter(function(n){return n.type===t&&m.isRuleValid(n,e,i)})}function y(){return A.metaTargeting.hasRun}var b,w=e&&e.hasAcceptedToConsent,A={probs:[],type:[],format:[],formats:null,isInArticleRuleEnabled:!0,metaTargeting:{hasRun:!1,hasStickyRules:!1,timeWaitingForGoogleTag:0,intervalToCheckForGoogleTag:200,maximumTimeWaitingGoogleTag:1200,config:{}}};return{isMetaTargetingRulesRun:y,isReadyToRunMetaTargetingRules:i,runMetaTargetingRulesAsync:n,getSiteInfo:t,getValidRulesOfType:v,getMaxPriorityRule:r,hasPAStickyMetaTargetingRules:f,setStickyRulesFlag:g}}var r=e("./utilities/getMaxPriorityRule"),o=e("./utilities/getSiteData"),a=e("../targeting/utilities/isGoogleTagDefined"),s=e("../targeting/metaTargeting/validateMetaTargetingRulesAsync"),l=e("../../modules/sticky"),c=e("../targeting/metaTargeting/hasAnyMetaTargetingRules"),u=e("../targeting/utilities/getSiteConfig"),d=e("./constants"),p=e("./../abTesting"),m=e("../targeting");e("./utilities/logger");t.exports=n},{"../../modules/sticky":174,"../targeting":88,"../targeting/metaTargeting/hasAnyMetaTargetingRules":92,"../targeting/metaTargeting/validateMetaTargetingRulesAsync":93,"../targeting/utilities/getSiteConfig":94,"../targeting/utilities/isGoogleTagDefined":95,"./../abTesting":41,"./constants":44,"./utilities/getMaxPriorityRule":46,"./utilities/getSiteData":47,"./utilities/logger":49}],46:[function(e,t,i){function n(e){var t=r(e);return null===t?null:e[t]}var r=e("../../targeting").pickValidRuleIndex;t.exports=n},{"../../targeting":88}],47:[function(e,t,i){function n(e,t,i,n,s){var u={};u=r(i,u),t.metaTargeting.config=r(i,t.metaTargeting.config),t.metaTargeting.config.rules=[];var d,p;for(var m in e)"LightAdServer"===m?p=e[m]:(t.isInArticleRuleEnabled=!1,p=c(e[m])),s&&o(p,t)&&!l()?(t.metaTargeting.config.rules.push(p),d=a(t.metaTargeting.config,m,p,i,t),t.metaTargeting.config[m]=d[m]):(d=a(u,m,p,i,t),u[m]=d[m]);return u}function r(e,t){return t.site_name=e.site_name,t.sco=e.hasOwnProperty("sco")?e.sco:null,t.partnerSco=s(e),t.serve319x49InIframe=e.hasOwnProperty("serve319x49InIframe")?e.serve319x49InIframe:null,t}function o(e,t){return!(!e.targeting||!e.targeting.keyvalue_targeting&&!e.targeting.var_targeting)&&(e.targeting.meta_timeout&&(t.metaTargeting.maximumTimeWaitingGoogleTag=e.targeting.meta_timeout),!0)}var a=e("./modules/getDataPerType"),s=e("./getSitesPartnersSCO"),l=e("../../targeting/utilities/isGoogleTagDefined"),c=e("./getMaxPriorityRule");e("./logger");t.exports=n},{"../../targeting/utilities/isGoogleTagDefined":95,"./getMaxPriorityRule":46,"./getSitesPartnersSCO":48,"./logger":49,"./modules/getDataPerType":50}],48:[function(e,t,i){function n(e){return"undefined"!=typeof TWAGORAINARTICLE&&"function"==typeof TWAGORAINARTICLE.getPartnersSCO?TWAGORAINARTICLE.getPartnersSCO():e&&e.currentScript?r(e.currentScript):null}function r(e){var t=null,i=o(e);return i&&(t=a("schain",i)),t}function o(e){return"?"+e.src.replace(/^[^\?]+\??/,"")}var a=e("../../../common/utilities/extractInfo/getUrlParameterByName");t.exports=n},{"../../../common/utilities/extractInfo/getUrlParameterByName":29}],49:[function(e,t,i){var n=e("../../../common/utilities/logger"),r=n({moduleName:"Applier"});t.exports=r},{"../../../common/utilities/logger":34}],50:[function(e,t,i){function n(e,t,i,n,r){var o=m[t];return o&&o(e,t,i,n,r),e}var r=e("./mappers/magic"),o=e("./mappers/taboola"),a=e("./mappers/exitBee"),s=e("./mappers/inSpin"),l=e("./mappers/vignette"),c=e("./mappers/lo"),u=e("./mappers/adBlock"),d=e("./mappers/customScript"),p=e("./mappers/lightAdServer"),m={Magic:r,Outstream:r,Taboola:o,ExitBee:a,InSpin:s,VignetteAds:l,LO:c,AdBlock:u,CustomScript:d,LightAdServer:p};t.exports=n},{"./mappers/adBlock":51,"./mappers/customScript":52,"./mappers/exitBee":53,"./mappers/inSpin":54,"./mappers/lightAdServer":55,"./mappers/lo":56,"./mappers/magic":57,"./mappers/taboola":58,"./mappers/vignette":59}],51:[function(e,t,i){function n(e,t,i){r(i)&&(e[t]={enabled:i.product.AdBlock.enabled,scripts:i.product.AdBlock.scripts})}var r=e("../utilities/adblockIsEnabled");t.exports=n},{"../utilities/adblockIsEnabled":60}],52:[function(e,t,i){function n(e,t,i){r(i)&&(e[t]={enabled:i.product.CustomScript.enabled,scripts:i.product.CustomScript.scripts,styles:i.product.CustomScript.styles})}var r=e("../utilities/customScriptIsEnabled");t.exports=n},{"../utilities/customScriptIsEnabled":61}],53:[function(e,t,i){function n(e,t,i){e[t]=i.product.ExitBee}t.exports=n},{}],54:[function(e,t,i){function n(e,t,i){e[t]=i.product.Exco}t.exports=n},{}],55:[function(e,t,i){function n(e,t,i){e[t]=i}t.exports=n},{}],56:[function(e,t,i){function n(e,t,i){e[t]=i.product.LO.script}t.exports=n},{}],57:[function(e,t,i){function n(e,t,i,n,l){var c=t;if(l.isInArticleRuleEnabled=r(t,i)||o(t,i),!l.isInArticleRuleEnabled)return void(e[t]={enabled:!1});var u=c.toLowerCase();a(i,u,l);var d=function(){var e,t=l.probs.length,i=Math.floor(100*Math.random()+1),n=null,r=0;for(e=0;e<t;e++){if(i<=r+l.probs[e]){n=e;break}r+=l.probs[e]}return null===n?-1:n}();if(-1!=d){var p=l.formats[l.format[d]][l.type[d]];p.passback=l.formats[l.format[d]].passback,e[t]={enabled:!0,ruleType:i.type,type:l.type[d],priority:i.priority,format:l.format[d],positionType:i.product[u].position?i.product[u].position.type:null,rulePsbk:i.product[u].rulePassback,
adMngrPsbk:i.product[u].adMngrPassback,adheadLabel:i.product[u].adheadLabel,selectorPosition:s(i,u),selector:i.product[u].position?i.product[u].position.selector:null,sco:e.sco,partnerSco:e.partnerSco,serve319x49InIframe:e.serve319x49InIframe,viewabilityGeneric:i.product[u].viewability_height,viewabilityDisplay:i.product[u].height_display,inViewThreshold:l.formats[l.format[d]].hasOwnProperty("inViewThreshold")?l.formats[l.format[d]].inViewThreshold:50,incornerConfig:l.formats[l.format[d]].hasOwnProperty("incorner")?l.formats[l.format[d]].incorner:null,clsOptimization:i.product[u].clsOptimization,psa:i.product[u].psa,_isFramed:n._isFramed,_frmWindow:n._isFramed?n._targetFrameWindow:null,_currentScript:n.currentScript,autoAds:l.formats[l.format[d]].hasOwnProperty("auto_ads")?l.formats[l.format[d]].auto_ads:null};for(var m in p)e[t][m]=p[m]}}var r=e("../utilities/magicIsEnabled"),o=e("../utilities/outstreamIsEnabled"),a=e("../utilities/setInArticleFormats"),s=e("../utilities/selectorPosition");t.exports=n},{"../utilities/magicIsEnabled":62,"../utilities/outstreamIsEnabled":63,"../utilities/selectorPosition":64,"../utilities/setInArticleFormats":65}],58:[function(e,t,i){function n(e,t,i){r(i)&&(e[t]=i.product.Taboola)}var r=e("../utilities/taboolaIsEnabled");t.exports=n},{"../utilities/taboolaIsEnabled":66}],59:[function(e,t,i){function n(e,t,i){e[t]=i.product.VignetteAds}t.exports=n},{}],60:[function(e,t,i){function n(e){return e.product&&e.product.AdBlock&&(void 0===e.product.AdBlock.enabled||!0===e.product.AdBlock.enabled)}t.exports=n},{}],61:[function(e,t,i){function n(e){return e.product&&e.product.CustomScript&&(void 0===e.product.CustomScript.enabled||!0===e.product.CustomScript.enabled)}t.exports=n},{}],62:[function(e,t,i){function n(e,t){return"Magic"===e&&(t.product&&t.product.magic&&t.product.magic.enabled)}t.exports=n},{}],63:[function(e,t,i){function n(e,t){return"Outstream"===e&&(t.product&&t.product.outstream&&t.product.outstream.enabled)}t.exports=n},{}],64:[function(e,t,i){function n(e,t){return void 0==e.product[t].position?null:void 0==e.product[t].position.selector_position?"after":e.product[t].position.selector_position}t.exports=n},{}],65:[function(e,t,i){function n(e,t,i){var n=e.product[t];if(n&&!r(n.formats)){var o=0;i.formats=n.formats,r(i.formats.inarticle)||(r(i.formats.inarticle.pmp)||(i.probs[o]=i.formats.inarticle.pmp.probability,i.type[o]="pmp",i.format[o]="inarticle",o++),r(i.formats.inarticle.direct)||(i.probs[o]=i.formats.inarticle.direct.probability,i.type[o]="direct",i.format[o]="inarticle",o++)),r(i.formats.vast)||(r(i.formats.vast.pmp)||(i.probs[o]=i.formats.vast.pmp.probability,i.type[o]="pmp",i.format[o]="vast",o++),r(i.formats.vast.direct)||(i.probs[o]=i.formats.vast.direct.probability,i.type[o]="direct",i.format[o]="vast"))}}var r=e("../../../../../../common/utilities/auxiliary/isEmpty");t.exports=n},{"../../../../../../common/utilities/auxiliary/isEmpty":11}],66:[function(e,t,i){function n(e){return e.product&&e.product.Taboola&&(void 0===e.product.Taboola.enabled||!0===e.product.Taboola.enabled)}t.exports=n},{}],67:[function(e,t,i){var n={consentManagement:!1,gdpr:{applies:null},hasAcceptedToConsent:!0},r={consentManagement:!1,gdpr:{applies:!0},hasAcceptedToConsent:!0},o={consentManagement:!1,gdpr:{applies:!1},hasAcceptedToConsent:!0};t.exports={defaultConsentManagementApi:"iab",defaultConsentManagementVersion:2,timeoutTime:5e3,intervalTime:400,defaultConsentDataUnclear:n,defaultConsentDataGdpr:r,defaultConsentDataNonGdpr:o}},{}],68:[function(e,t,i){function n(e){function t(e){return d.error(e),l.defaultConsentDataUnclear}var i=e||u(),n=i&&i.timers?i.timers.cmpDelayTimeout:null,o=!1,f=function(e){return new Promise(function(t){a(e).then(function(i){var n=null!==i,a=m===window.top;if(a&&!n)return t(l.defaultConsentDataUnclear);n&&(o=!0),p(e).then(function(e){e&&(o=!0);var i,n=!a;n&&(i=new r(e),i.run()),s().then(function(e){i&&i.clearTcfApiMessageListener(),t(e)})})})})}(Boolean(n)).then(function(e){return o=!0,e});if(!n)return f.catch(t);var g=new Promise(function(e){setTimeout(function(){o||e(t(new Error(c.qjxq)))},n)});return Promise.race([f,g]).catch(t)}var r=e("./modules/setupConsentManagementApi"),o=e("./utilities/getTopMostAccessibleWindow"),a=e("./modules/getTcfApiFromWindow"),s=e("./modules/detectTcData"),l=e("./constants"),c=e("../../common/resources/messages"),u=e("../targeting/utilities/getSiteConfig"),d=e("./utilities/logger"),p=e("./modules/getConsentManagementFrame"),m=o();t.exports={getConsentData:n}},{"../../common/resources/messages":5,"../targeting/utilities/getSiteConfig":94,"./constants":67,"./modules/detectTcData":69,"./modules/getConsentManagementFrame":71,"./modules/getTcfApiFromWindow":72,"./modules/setupConsentManagementApi":75,"./utilities/getTopMostAccessibleWindow":77,"./utilities/logger":78}],69:[function(e,t,i){function n(){return new Promise(function(e){function t(e){f.__tcfapi("ping",c.defaultConsentManagementVersion,e)}function i(e){if(e&&e.cmpLoaded&&"loaded"===e.cmpStatus){if(p)return o();"visible"===e.displayStatus?(a(v,h),g=l(n)):n(e)}}function n(e){if(e&&e.cmpLoaded&&"loaded"===e.cmpStatus){var t=e.displayStatus,i="hidden"===t||"disabled"===t,n="error"===t;return i?o():n?(a(v,h),u({},!1)):void 0}}function o(){a(v,g),f.__tcfapi("addEventListener",c.defaultConsentManagementVersion,u)}function u(t,i){if(!i)return s(v,h,t.listenerId),e(c.defaultConsentDataUnclear);"cmpuishown"===t.eventStatus&&a(v,h),function(){var e="tcloaded"===t.eventStatus,i="useractioncomplete"===t.eventStatus,n=e||i;return n=m.onAfterSuccessfulResponse(n,t)}()&&(s(v,h,t.listenerId),r(t.listenerId),e(d(t)))}var p=f===window.top,g=null,h=l(i),v=setTimeout(function(){a(v,h),t(function(t){if(void 0!==t.gdprApplies||null!==t.gdprApplies)return s(v,h,t.listenerId),e(t.gdprApplies?c.defaultConsentDataGdpr:c.defaultConsentDataNonGdpr);u({},!1)})},c.timeoutTime);t(i)})}function r(e){try{o(e)}catch(e){}}function o(e){f.__tcfapi("removeEventListener",c.defaultConsentManagementVersion,function(){},e)}function a(e,t){clearTimeout(e),clearInterval(t)}function s(e,t,i){a(e,t),r(i)}function l(e){return setInterval(function(){f.__tcfapi("ping",c.defaultConsentManagementVersion,e)},c.intervalTime)}var c=e("../constants"),u=e("../utilities/getTopMostAccessibleWindow"),d=e("./mapTcDataToConsentInfo"),p=e("../../../patches/hooks/gdpr"),m=(e("../utilities/logger"),p()),f=u();t.exports=n},{"../../../patches/hooks/gdpr":221,"../constants":67,"../utilities/getTopMostAccessibleWindow":77,"../utilities/logger":78,"./mapTcDataToConsentInfo":73}],70:[function(e,t,i){function n(e){if(!e)return!1;var t=!1,i=!1,n=!1,a=!1,s=!1,l=!1,c=e.purpose,u=e.vendor?e.vendor.consents:null;return c&&c.consents[1]&&(t=!0),t&&u&&u[755]&&(i=!0,(n=o(c))&&(a=r(c))),u&&u[1032]&&(s=!0),l=Boolean(s)&&Boolean(n),{googleVendorConsent:i,projectAgoraVendorConsent:s,storeAccessConsent:t,nonPersonalizedAdsConsent:n,personalizedAdsConsent:a,projectAgoraConsent:l}}function r(e){var t=e.consents,i=e.legitimateInterests,n=!1,r=!1,o=!1,a=!1;t&&(n=t[3],r=t[4]),i&&(o=i[3],a=i[4]);var s=n||o,l=r||a;return Boolean(s)&&Boolean(l)}function o(e){var t=e.consents,i=e.legitimateInterests,n=!1,r=!1,o=!1,a=!1,s=!1,l=!1,c=!1,u=!1;t&&(n=t[2],r=t[7],o=t[9],a=t[10]),i&&(s=i[2],l=i[7],c=i[9],u=i[10]);var d=n||s,p=r||l,m=o||c,f=a||u;return Boolean(d)&&Boolean(p)&&Boolean(m)&&Boolean(f)}e("../utilities/logger");t.exports=n},{"../utilities/logger":78}],71:[function(e,t,i){function n(e){function t(){for(var e=null,t=window;t;){try{if(t.frames.__tcfapiLocator){e=t;break}}catch(e){}if(t===window.top)break;t=t.parent}return e}return new Promise(function(i){var n=t();if(n||!e)return void i(n);var r=setInterval(function(){(n=t())&&(clearInterval(r),i(n))},50)})}t.exports=n},{}],72:[function(e,t,i){function n(e){function t(){try{var e=i.__tcfapi;return"function"==typeof e?e:null}catch(e){}return null}var i=r(),n=i===window.top;return new Promise(function(i){var r=t();if(r||!e||e&&!n)return void i(r);var o=setInterval(function(){(r=t())&&(clearInterval(o),i(r))},50)})}var r=e("../utilities/getTopMostAccessibleWindow");t.exports=n},{"../utilities/getTopMostAccessibleWindow":77}],73:[function(e,t,i){function n(e){return void 0===e?r.defaultConsentDataUnclear:{consentManagement:!0,consentManagementApi:r.defaultConsentManagementApi,gdpr:{applies:e.gdprApplies,consent:e.tcString},consent:{publisher:e.publisher,purpose:e.purpose,vendor:e.vendor},userGenericConsent:a(e),userConsentInfo:o(e)}}var r=e("../constants"),o=e("./getConsentInfo"),a=e("./userGivenConsent");t.exports=n},{"../constants":67,"./getConsentInfo":70,"./userGivenConsent":76}],74:[function(e,t,i){function n(e,t){var i={};try{i="string"==typeof t.data?JSON.parse(t.data):t.data}catch(e){}var n=i.__tcfapiReturn;n&&"function"==typeof e[n.callId]&&(e[n.callId](n.returnValue,n.success),e[n.callId]=null)}t.exports=n},{}],75:[function(e,t,i){function n(e){function t(){a.__tcfapi=function(t,i,n,r){if(e){var a=Math.random()+"",s={__tcfapiCall:{command:t,parameter:r,version:i,callId:a}};o[a]=n,e.postMessage(s,"*")}else n({msg:"CMP not found"},!1)},a.addEventListener("message",i,!1)}function i(e){r(o,e)}function n(){a.removeEventListener("message",i,!1)}var o={};return{run:t,clearTcfApiMessageListener:n}}var r=e("./parseTcfApiMessage"),o=e("../utilities/getTopMostAccessibleWindow"),a=o();t.exports=n},{"../utilities/getTopMostAccessibleWindow":77,"./parseTcfApiMessage":74}],76:[function(e,t,i){function n(e){return!!e&&0!==[e.publisher?e.publisher.consents:null,e.purpose?e.purpose.consents:null,e.vendor?e.vendor.consents:null].filter(function(e){if(e&&!r(e))return!0}).length}var r=e("../../../common/utilities/auxiliary/isEmpty");t.exports=n},{"../../../common/utilities/auxiliary/isEmpty":11}],77:[function(e,t,i){function n(){var e=window;try{window.top.location.href&&(e=window.top)}catch(e){}return e}t.exports=n},{}],78:[function(e,t,i){var n=e("../../../common/utilities/logger"),r=n({moduleName:"GDPR"});t.exports=r},{"../../../common/utilities/logger":34}],79:[function(e,t,i){function n(e,t){if(!e||0===e.length)return-1;for(var i=-1,n=-1,r=0;r<e.length;r++)e[r]&&"number"==typeof e[r][t]&&e[r][t]>i&&(i=e[r][t],n=r);return n}t.exports=n},{}],80:[function(e,t,i){(function(i){(function(){function n(e,t){function n(){x.setInitiator("HEADER_TAG"),x.sendInitializationEvent(),e.hasAcceptedToConsent?T():E()}function k(){x.setInitiator("AD_SERVING_TAG"),x.sendInitializationEvent(t),M(),L(),C()}function T(e){e&&(D=e),R(),_(),P(),M(),L(),O(),C(),S(),I(),B.isReadyToRunMetaTargetingRules()&&B.runMetaTargetingRulesAsync(T)}function E(){_(),M(),L(),P(),O(),N()}function C(){D&&D.InSpin&&D.InSpin.enabled&&(r.run(D.InSpin,function(){}),x.sendProductDetectedEventWithInitiator("inSpin"))}function S(){D&&D.VignetteAds&&D.VignetteAds.enabled&&(o.run(D,function(){}),x.sendProductDetectedEvent("vignette"))}function I(){D&&D.ExitBee&&(a.run(D.ExitBee,function(){}),x.sendProductDetectedEvent("exitBee"))}function _(){if(D&&D.CustomScript&&(void 0===D.CustomScript.enabled||!0===D.CustomScript.enabled)){new f(D.CustomScript).run(),x.sendProductDetectedEvent("customScript")}}function L(){if(D){if(!(i.ProjectAgora&&i.ProjectAgora.inArticle&&!0===i.ProjectAgora.inArticle)){var t=function(){var e=[];return D.Magic&&D.Magic.enabled&&("inarticle"!==D.Magic.format&&"vast"!==D.Magic.format||e.push(D.Magic)),D.Outstream&&D.Outstream.enabled&&("inarticle"!==D.Outstream.format&&"vast"!==D.Outstream.format||e.push(D.Outstream)),e}(),n=s(t,"priority");if(n>=0){i.ProjectAgora.inArticle=!0;var r=t[n].ruleType;if(l()&&!B.isMetaTargetingRulesRun()){var o=new c(D.Magic,e);i.ProjectAgora.inArticleRunOnDemand=o.run.bind(this)}else{var a=D[r],d=new c(a,e);if(d.run(a,e),a.autoAds&&a.autoAds.enabled){var p=new u(d,a,e);p.waitForVideoAd(function(){p.run()})}var m="Magic"===r?"inarticle":"streamer";x.sendProductDetectedEventWithInitiator(m)}}}}}function M(){function t(t){new w(t,e).run()}var i=B.getValidRulesOfType("PAStickyAd",!1);if(i.length){var n=B.hasPAStickyMetaTargetingRules(i);B.setStickyRulesFlag(n),n?b()&&(i=B.getValidRulesOfType("PAStickyAd",!0),i.length>0&&t(i),B.setStickyRulesFlag(!1)):t(i)}}function P(){document.arrive("#tbl-next-up",{onceOnly:!0},function(e){x.sendProductDetectedEvent("nextUp"),v.isMobileDevice&&!B.isMetaTargetingRulesRun()&&d.run(e)})}function O(){if(D&&D.Taboola&&(void 0===D.Taboola.enabled||!0===D.Taboola.enabled)){var e=function(){};new p(D.Taboola,e).run(),x.sendProductDetectedEvent("contentDiscovery")}}function N(){if(D&&D.LightAdServer){for(var e in D.LightAdServer)D.LightAdServer[e].product.lightadserver.enabled&&m.run(D.LightAdServer[e].product.lightadserver);x.sendProductDetectedEvent("lightAdServer")}}function R(){function e(){g.IsDetected()&&(i.ProjectAgora.ab=!0,D&&D.AdBlock&&(void 0===D.AdBlock.enabled||!0===D.AdBlock.enabled)&&function(e){h(document,"//static.criteo.net/js/ld/publishertag.js","script","scr-ctag",A.run.bind(this,e)),x.sendProductDetectedEvent("criteo")}(D.AdBlock.scripts))}B.isMetaTargetingRulesRun()||g.run(e)}var B=y(e),D=B.getSiteInfo(t);return{run:n,runAdServingTag:k,runMagic:L}}var r=e("../../modules/inSpin"),o=e("../../modules/vignette"),a=e("../../modules/exitBee"),s=e("./getHighestValue"),l=e("./isMubasherpulse"),c=e("../../modules/magic"),u=e("../../modules/magic/modules/autoAds"),d=e("../../modules/nextUp"),p=e("../../modules/contentDiscovery"),m=e("../../modules/lightAdServer"),f=e("../../modules/customScripts"),g=e("../adBlockDetector"),h=e("../../common/utilities/domManipulation/loadScript"),v=e("../../common/utilities").device,y=e("../applier"),b=e("../targeting/utilities/isGoogleTagDefined"),w=e("../../modules/sticky"),A=e("../../modules/criteo"),x=e("../../core/productDetectorEventGateway");e("../../common/libraries/arrive");e("./utilities/logger");t.exports=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../common/libraries/arrive":2,"../../common/utilities":32,"../../common/utilities/domManipulation/loadScript":18,"../../core/productDetectorEventGateway":84,"../../modules/contentDiscovery":98,"../../modules/criteo":103,"../../modules/customScripts":105,"../../modules/exitBee":110,"../../modules/inSpin":111,"../../modules/lightAdServer":113,"../../modules/magic":120,"../../modules/magic/modules/autoAds":121,"../../modules/nextUp":169,"../../modules/sticky":174,"../../modules/vignette":198,"../adBlockDetector":42,"../applier":45,"../targeting/utilities/isGoogleTagDefined":95,"./getHighestValue":79,"./isMubasherpulse":81,"./utilities/logger":82}],81:[function(e,t,i){function n(){return document.location.hostname.indexOf("mubasherpulse")>-1}t.exports=n},{}],82:[function(e,t,i){var n=e("../../../common/utilities/logger"),r=n({moduleName:"Entry Point"});t.exports=r},{"../../../common/utilities/logger":34}],83:[function(e,t,i){function n(e){return function(){if(r())try{e.apply(null,arguments)}catch(e){o.error(a.graj,e)}}}function r(){return!!window.PAProductDetectorAvailable}var o=e("./utilities/logger"),a=e("../../common/resources/messages");t.exports=n},{"../../common/resources/messages":5,"./utilities/logger":87}],84:[function(e,t,i){(function(i){(function(){function n(e){f=e}function r(e){var t=e||u(),n={siteConfig:function(e,t){return Object.keys(e).reduce(function(i,n){return-1!==t.indexOf(n)&&(i[n]=e[n]),i},{})}(t,["rules","sco","site_name"]),hasAcceptedToConsent:i.ProjectAgora.consent.hasAcceptedToConsent,libraryUrl:p(f),domain:window.location.hostname,initiator:f};c(m.INITIALIZATION,n)}function o(e,t){var i={type:"product",product:e};t&&(i.data=t),c(m.PRODUCT_DETECTION,i)}function a(e,t){t=t||{},t.initiator=f,o(e,t)}function s(e,t,i){var n={type:"feature",product:e,feature:t};i&&(n.data=i),c(m.PRODUCT_DETECTION,n)}function l(e,t){var i={moduleTrace:e,messageData:t,date:(new Date).getTime()};c(m.ERROR,i)}var c=e("./sendMessage"),u=e("../targeting/utilities/getSiteConfig"),d=e("./createEvent"),p=e("./utilities/getScriptURL"),m={INITIALIZATION:"0",PRODUCT_DETECTION:"1",ERROR:"2"},f=null;t.exports={types:m,sendMessage:d(c),sendErrorMessage:d(l),sendInitializationEvent:d(r),sendProductDetectedEvent:d(o),sendProductDetectedEventWithInitiator:d(a),sendFeatureDetectedEvent:d(s),setInitiator:n}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../targeting/utilities/getSiteConfig":94,"./createEvent":83,"./sendMessage":85,"./utilities/getScriptURL":86}],85:[function(e,t,i){"use strict";function n(e,t){var i={library:"HEADERTAG",type:e,data:t};window.top.postMessage(JSON.stringify({type:"PAlibMessage",payload:i}),"*")}e("./utilities/logger");t.exports=n},{"./utilities/logger":87}],86:[function(e,t,i){function n(e){var t="AD_SERVING_TAG"===e?document.querySelector('script[src*="projectagoravideo.min.js"]'):document.querySelector('script[src*="projectagora.min.js"]');return t&&t.src?t.src:void o.error(r.jhiu)}var r=e("../../../common/resources/messages"),o=e("./logger");t.exports=n},{"../../../common/resources/messages":5,"./logger":87}],87:[function(e,t,i){var n=e("../../../common/utilities/logger"),r=new n({moduleName:"Product Detector"});t.exports=r},{"../../../common/utilities/logger":34}],88:[function(e,t,i){function n(){return"connection"in navigator&&!0===navigator.connection.saveData}var r=e("./utilities/isGoogleTagDefined"),o=e("./metaTargeting/checkVarTargeting"),a=e("./metaTargeting/checkKeyValueTargeting"),s=e("./utilities/isRuleValid"),l=e("./metaTargeting/checkMetaTargeting"),c=function(e){if(e&&e>=0&&e<=100)return!0},u=function(e){return Math.floor(101*Math.random())<=e},d=function(e){for(var t=-1,i=null,n=e.length,r=null,o=0;o<n;o++){if(!e[o])return;t<e[o].priority&&(t=e[o].priority,i=o),0==e[o].priority&&c(e[o].testing_probabillity)&&(r=o)}return null!=r&&(i=u(e[r].testing_probabillity)?r:i),-1===t?null:i},p=function(){var e="Unknown OS";return-1!=navigator.userAgent.indexOf("Win")&&(e="Windows"),-1!=navigator.userAgent.indexOf("Mac")&&(e="MacOS"),-1!=navigator.userAgent.indexOf("X11")&&(e="UNIX"),-1!=navigator.userAgent.indexOf("Linux")&&(e="Linux"),e};t.exports={getOS:p,isRuleValid:s,pickValidRuleIndex:d,hasDataSaverEnabled:n,isGoogleTagDefined:r,checkVarTargeting:o,checkKeyValueTargeting:a,checkMetaTargeting:l}},{"./metaTargeting/checkKeyValueTargeting":89,"./metaTargeting/checkMetaTargeting":90,"./metaTargeting/checkVarTargeting":91,"./utilities/isGoogleTagDefined":95,"./utilities/isRuleValid":96}],89:[function(e,t,i){function n(e){var t,i,n;if(e.equals)for(t in e.equals)if(i=window.googletag.pubads().getTargeting(e.equals[t][0]),n=e.equals[t][1].split(","),!r(i,n))return!1;if(e.notEquals)for(t in e.notEquals)if(i=window.googletag.pubads().getTargeting(e.notEquals[t][0]),n=e.notEquals[t][1].split(","),0!==i.length&&r(i,n))return!1;return!0}var r=e("../../../common/utilities").arraysEqual;t.exports=n},{"../../../common/utilities":32}],90:[function(e,t,i){function n(e){var t,i,n,r,o=["name","property"];for(n in o){if(e.equals)for(i in e.equals)for(r=document.querySelectorAll("meta["+o[n]+'="'+e.equals[i][0]+'"]'),t=0;t<r.length;t++)if(r[t].content!=e.equals[i][1])return!1;if(e.notEquals)for(i in e.notEquals)for(r=document.querySelectorAll("meta["+o[n]+'="'+e.notEquals[i][0]+'"]'),t=0;t<r.length;t++)if(r[t].content==e.notEquals[i][1])return!1}return!0}t.exports=n},{}],91:[function(e,t,i){function n(e){var t;if(e.equals)for(t in e.equals){if(!window[e.equals[t][0]])return!1;if(window[e.equals[t][0]]!=e.equals[t][1])return!1}if(e.notEquals)for(t in e.notEquals){if(!window[e.notEquals[t][0]])return!0;if(window[e.notEquals[t][0]]==e.notEquals[t][1])return!1}return!0}t.exports=n},{}],92:[function(e,t,i){"use strict";function n(e){return!!(e&&e.rules&&e.rules.length>0)}t.exports=n},{}],93:[function(e,t,i){"use strict";function n(e){if(r()&&o(e)){var t=e.rules,i=!0,n=!0;for(var l in t){var c=e.rules[l];c.targeting&&c.targeting.var_targeting&&(i=a(c.targeting.var_targeting)),c.targeting&&c.targeting.keyvalue_targeting&&(n=s(c.targeting.keyvalue_targeting)),i&&n||delete e[c.type]}}}var r=e("../utilities/isGoogleTagDefined"),o=e("./hasAnyMetaTargetingRules"),a=e("./checkVarTargeting"),s=e("./checkKeyValueTargeting");t.exports=n},{"../utilities/isGoogleTagDefined":95,"./checkKeyValueTargeting":89,"./checkVarTargeting":91,"./hasAnyMetaTargetingRules":92}],94:[function(e,t,i){function n(){return"undefined"!=typeof TWAGORAINARTICLE&&"function"==typeof TWAGORAINARTICLE.getConfig?TWAGORAINARTICLE.getConfig():null}t.exports=n},{}],95:[function(e,t,i){function n(){return!(!window.googletag||!0!==window.googletag.pubadsReady)&&window.googletag.pubadsReady}t.exports=n},{}],96:[function(e,t,i){function n(e,t,i){if(!e.targeting)return!0;var n=e.targeting;if(n.device_targeting){var c=n.device_targeting;if((d?"mobile":"desktop")!==c)return!1}if(n.hasOwnProperty("user_consent")&&t.hasAcceptedToConsent!==n.user_consent)return!1;if(n.url_targeting&&!r(n.url_targeting))return!1;if(n.meta_targeting&&!a(n.meta_targeting))return!1;if(i&&u()&&n.var_targeting&&!s(n.var_targeting))return!1;if(i&&u()&&n.keyvalue_targeting&&!l(n.keyvalue_targeting))return!1;if(n.breakpoints){if(!o(n.breakpoints))return!1}return!0}function r(e){var t={pathname:decodeURI(document.location.pathname),url:decodeURI(document.location.href)};for(var i in e){if(e[i].equals&&-1==e[i].equals.indexOf(t[i]))return!1;if(e[i].notEquals&&-1!=e[i].notEquals.indexOf(t[i]))return!1;if(e[i].contains&&!c(e[i].contains,t[i]))return!1;if(e[i].notContains&&c(e[i].notContains,t[i]))return!1}return!0}function o(e){var t=window.innerWidth,i=e.hasOwnProperty("minWidth")&&e.hasOwnProperty("maxWidth")&&t>=e.minWidth&&t<=e.maxWidth,n=e.hasOwnProperty("minWidth")&&!e.hasOwnProperty("maxWidth")&&t>=e.minWidth,r=!e.hasOwnProperty("minWidth")&&e.hasOwnProperty("maxWidth")&&t<=e.maxWidth;return i||n||r}var a=e("../metaTargeting/checkMetaTargeting"),s=e("../metaTargeting/checkVarTargeting"),l=e("../metaTargeting/checkKeyValueTargeting"),c=e("../../../common/utilities/auxiliary/containsAny"),u=e("./isGoogleTagDefined"),d=e("../../../common/utilities/device").isMobileDevice;t.exports=n},{"../../../common/utilities/auxiliary/containsAny":7,"../../../common/utilities/device":13,"../metaTargeting/checkKeyValueTargeting":89,"../metaTargeting/checkMetaTargeting":90,"../metaTargeting/checkVarTargeting":91,"./isGoogleTagDefined":95}],97:[function(e,t,i){(function(t){(function(){var i=e("./core/initializer"),n=e("./core/gdpr"),r=e("./common/utilities/extractInfo/getUserConsentStatus");t.ProjectAgora={},t.ProjectAgora.ab=!1,t.ProjectAgora.paDtNew=!0,n.getConsentData().then(function(e){e.hasAcceptedToConsent=r(e),t.ProjectAgora.consent=e,i(e).run()})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./common/utilities/extractInfo/getUserConsentStatus":30,"./core/gdpr":68,"./core/initializer":80}],98:[function(e,t,i){"use strict";function n(e,t){function i(){var i=n(),a=i.trackHeaderUTM,s=i.pageLevelTrackingEnabled;r(e,s,a).run(),o(e,s,a).run(t)}function n(){var t,i=e.pageLevelTracking?e.pageLevelTracking.enabled:void 0;return t=e.pageLevelTracking&&void 0!==e.pageLevelTracking.customUTM?e.pageLevelTracking.customUTM:void 0,{trackHeaderUTM:t||a,pageLevelTrackingEnabled:i}}return{run:i}}var r=e("./utilities/addTaboolaHeaderScript"),o=e("./utilities/addTaboolaTags"),a=e("./utilities/constants").defaultPageLevelUTM;t.exports=n},{"./utilities/addTaboolaHeaderScript":99,"./utilities/addTaboolaTags":100,"./utilities/constants":101}],99:[function(e,t,i){function n(e,t,i){function n(){var n=a(e),o=s(e);if(n){window._taboola=window._taboola||[];var l={};l[o]="auto";t&&""!==i&&(l.tracking=i),_taboola.push(l),r(n),window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("tbl_ic")}}function r(e){var t=document.createElement("script"),i=document.getElementsByTagName("script")[0],n=o(e),r="tb_loader_script";document.getElementById(r)||(t.async=1,t.src=n,t.id=r,i.parentNode.insertBefore(t,i))}function o(e){return"file:"===document.location.protocol?"http://cdn.taboola.com/libtrc/"+e+"/loader.js":"//cdn.taboola.com/libtrc/"+e+"/loader.js"}function a(e){return e.name}function s(e){return e.type?e.type:"article"}return{run:n}}e("../logger");t.exports=n},{"../logger":102}],100:[function(e,t,i){function n(e,t,i){function n(t){function i(e,t,i,n){s(a(e.widgets,["sponsored","organic","hybrid"]),t,i),n===l-1&&r()}var n=p(e);if(!n)return void t();var r=o.bind(this,n.length,t),l=n.length;if(0===l)return void r();for(var c=0;c<l;c++){var u=n[c];!function(e,t){var n=e.position,r=document.querySelector(e.selector);r?i(e,r,n,t):document.arrive(e.selector,{onceOnly:!0},function(){var r=document.querySelector(e.selector);i(e,r,n,t)})}(u,c)}}function o(e,t){function i(){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.appendChild(document.createTextNode("window._taboola = window._taboola || []; _taboola.push({flush: true});  ")),document.body.appendChild(e)}!function(){document.body?i():document.arrive(document.body,{onceOnly:!0},function(){i()})}(),t&&t()}function a(e,t){return e.sort(function(e,i){return t.indexOf(e.widgetType)-t.indexOf(i.widgetType)})}function s(e,t,i){for(var n=e.length,r=0;r<n;r++){var o=e[r],a=c(o.mode,o.placement,o.containerId);switch(i){case"after":l(a.container,t);break;case"before":t.parentElement.insertBefore(a.container,t);break;case"inside-first":t.insertBefore(a.container,t.childNodes[0]);break;case"inside-after":case"inside-last":t.appendChild(a.container);break;default:l(a.container,t)}l(a.script,a.container)}}function l(e,t){t.parentNode.insertBefore(e,t.nextElementSibling)}function c(e,t,i){return{script:u(e,t,i),container:d(i)}}function u(e,n,o){var a,s=document.createElement("script");return a=t?"":!1===t?', tracking: "'+i+'"':', tracking: "'+r+'"',s.text="window._taboola = window._taboola || [];_taboola.push({   mode: '"+e+"',   container: '"+o+"',   placement: '"+n+"',   target_type: 'mix'"+a+"});",s}function d(e){var t=document.createElement("div");return t.id=e,t}function p(e){return e.tags}return{run:n}}var r=(e("../logger"),e("../constants").defaultPageLevelUTM);t.exports=n},{"../constants":101,"../logger":102}],101:[function(e,t,i){t.exports={defaultPageLevelUTM:"utm_source=projectagora&utm_medium=contentdiscovery"}},{}],102:[function(e,t,i){var n=e("../../../common/utilities/logger"),r=n({moduleName:"Content Discovery"});t.exports=r},{"../../../common/utilities/logger":34}],103:[function(e,t,i){function n(e,t){var i=t||"below-article-thumbnails";return"<div id='taboola-"+i+"'></div> <script type=\"text/javascript\">  window._taboola = window._taboola || [];  var realURL = top.location.href;  var realReferrer;  if (top.document.referrer) {      realReferrer = top.document.referrer;      _taboola.push({article:'auto', url: realURL, referrer: realReferrer});  } else {  _taboola.push({article:'auto', url: realURL});  }   _taboola.push({mode:'thumbnails-a', container:'taboola-"+i+"', placement:'"+i+"', target_type: 'mix'});   !function (e, f, u, i) { if (!document.getElementById(i)){ e.async = 1; e.src = u; e.id = i; f.parentNode.insertBefore(e, f); } }(document.createElement('script'),  document.getElementsByTagName('script')[0], '//cdn.taboola.com/libtrc/"+e+"/loader.js', 'tb_loader_script'); <\/script>"}function r(e){Criteo&&"function"==typeof Criteo.DisplayAcceptableAdIfAdblocked&&d(e)}var o=e("../../common/utilities/domManipulation/appendHTML"),a=(e("./utilities/logger"),function(e){if("object"!=typeof e.data&&-1!==e.data.indexOf("pa_passbck_adblck")){var t=JSON.parse(e.data);if(t&&"pa_passbck_adblck"===t.type){var i=n(t.wgt_id,t.container),r=document.getElementById(t.criteo_id),a=document.getElementById(t.criteo_id+"_cto_iframe");a&&(a.style.display="none"),o(r,i)}}}),s=function(e){for(var t=!1,i=e.length,n=0;n<i;n++)if(e[n].hasOwnProperty("breakpoints")){t=!0;break}return t},l=function(e){for(var t=[],i=e.length,n=0;n<i;n++){var r=e[n].breakpoints;r&&t.push(r)}return t},c=function(e){for(var t=-1,i=screen.width,n=0;n<e.length;n++)(e[n].hasOwnProperty("minWidth")&&e[n].hasOwnProperty("maxWidth")&&i>=e[n].minWidth&&i<=e[n].maxWidth||e[n].hasOwnProperty("minWidth")&&!e[n].hasOwnProperty("maxWidth")&&i>=e[n].minWidth||!e[n].hasOwnProperty("minWidth")&&e[n].hasOwnProperty("maxWidth")&&i<=e[n].maxWidth)&&(t=n);return t},u=function(e){if(e){if(!s(e))return e;var t=l(e);if(t.length>0){var i=c(t);if(-1!==i)return e[i].tags}}},d=function(e){function t(e,t){o(e,t.code)}var i=u(e);if(i){var n=i.length;window.addEventListener("message",a);for(var r=0;r<n;r++){var s=i[r];!function(e,t){var i=document.querySelector(e.selector);i?t(i,e):document.arrive(e.selector,function(){t(this,e)})}(s,t)}}};t.exports={run:r}},{"../../common/utilities/domManipulation/appendHTML":14,"./utilities/logger":104}],104:[function(e,t,i){var n=e("../../../common/utilities/logger"),r=n({moduleName:"Vignette"});t.exports=r},{"../../../common/utilities/logger":34}],105:[function(e,t,i){function n(e){function t(){e.scripts&&e.scripts.length>0&&i(e.scripts),e.styles&&e.styles.length>0&&n(e.styles)}function i(e){for(var t=0;t<e.length;t++){var i=e[t];i.selector?r(i,t):o(i,t)}}function n(e){for(var t=0;t<e.length;t++){var i=e[t].styleSheet,n="";Object.keys(i).forEach(function(e){var t=i[e];n+=e+" { "+t+" }",n+=" "}),a(document,n)}}return{run:t}}var r=(e("./utilities/logger"),e("./utilities/writeScriptOnSelector")),o=e("./utilities/writeScriptOnHead"),a=e("../../common/utilities").addCssStyle;t.exports=n},{"../../common/utilities":32,"./utilities/logger":106,"./utilities/writeScriptOnHead":108,"./utilities/writeScriptOnSelector":109}],106:[function(e,t,i){var n=e("../../../common/utilities/logger"),r=n({moduleName:"Custom Scripts"});t.exports=r},{"../../../common/utilities/logger":34}],107:[function(e,t,i){function n(e){}e("./logger");t.exports=n},{"./logger":106}],108:[function(e,t,i){function n(e,t){a(document.head,null,o(e.code),r.bind(this,t))()}var r=e("./writeDone"),o=e("../../../common/utilities").parseElementTags,a=e("../../../common/utilities").write_script;t.exports=n},{"../../../common/utilities":32,"./writeDone":107}],109:[function(e,t,i){function n(e,t){var i=e.position,n=document.querySelector(e.selector);n?a(n,i,o(e.code),r.bind(this,t))():document.arrive(e.selector,function(){a(this,i,o(e.code),r.bind(this,t))()})}var r=e("./writeDone"),o=e("../../../common/utilities").parseElementTags,a=e("../../../common/utilities").write_script;t.exports=n},{"../../../common/utilities":32,"./writeDone":107}],110:[function(e,t,i){"use strict";function n(e,t){!function(e,t,i,n,r){e.ExitBeeObject=r,e[r]=e[r]||function(){e[r].args=e[r].args||[],e[r].args.push(arguments)};var o=t.createElement(i),a=t.getElementsByTagName(i)[0];o.async=1,o.src="https://cdn.exitbee.com/xtb.min.js",a.parentNode.insertBefore(o,a)}(window,document,"script",0,"xtb"),window.xtb("loadSite",e),t()}t.exports={run:n}},{}],111:[function(e,t,i){"use strict";function n(e,t){var i=s(e),n=l(e),r=c(e),o=u(e);document.querySelector(i)?d(i,n,r,o,t):document.arrive(i,{onceOnly:!0},function(){d(i,n,r,o,t)})}var r=e("../../common/utilities"),o=e("./utilities/logger"),a=e("../../common/resources/messages"),s=function(e){return e.selector},l=function(e){return e.playerId},c=function(e){return e.subId},u=function(e){return void 0==e.selector_position?"after":e.selector_position},d=function(e,t,i,n,s){try{var l=document.querySelector(e),c=document.createElement("div");c.id=t,c.dataset.exsConfig='{"reporting": {"subId": "'+i+'"}}',c.style.textAlign="center",r.positionElement(l,c,n),p(t,s)}catch(e){o.error(a.tgdz,e)}},p=function(e,t){!function(t,i,n){var r,o=t.getElementsByTagName(i)[0];r=t.createElement(i),r.className="exco-player",r.src="//player.ex.co/player/"+e,o.parentNode.insertBefore(r,o)}(document,"script"),
t()};t.exports={run:n}},{"../../common/resources/messages":5,"../../common/utilities":32,"./utilities/logger":112}],112:[function(e,t,i){var n=e("../../../common/utilities/logger"),r=n({moduleName:"InSpin"});t.exports=r},{"../../../common/utilities/logger":34}],113:[function(e,t,i){(function(i){(function(){"use strict";function n(e,t,i,n){var r=document.createElement("div");r.setAttribute("class",e+" imps_request"),r.setAttribute("style",t),r.innerHTML='<img src="'+o(n.imps_request)+'" border="0" width="1" height="1">',s.positionElement(i,r,n.position)}function r(e){var t=document.querySelector(e);return t||void 0}function o(e){var t={"${GDPR}":i.ProjectAgora.consent.gdpr.applies?1:0,"${GDPR_CONSENT_68}":i.ProjectAgora.consent.gdpr?i.ProjectAgora.consent.gdpr.consent:"","[timestamp]":u};for(var n in t)e=e.replace(n,t[n]);return e}function a(e){var t=[];return e.forEach(function(e){e.flight_dates?e.flight_dates.start.sec<=u&&e.flight_dates.end.sec>=u&&t.push(e):t.push(e)}),t[Math.floor(Math.random()*t.length)]}var s=e("../../common/utilities"),l=e("../../common/utilities/domManipulation/awaitDOMReady"),c=(e("./utilities/logger"),new Date),u=Math.floor(c.getTime()/1e3),d=function(e,t,i){var l=r(i.selector);if(l){i.imps_request&&n(e,t,l,i);var c=a(i.creatives);if(c){var u=document.createElement("div");u.setAttribute("class",e),u.setAttribute("style",t);var d='<a href="'+o(c.tracking.clicks)+'" target="_blank"><img src="'+c.image+'" width="'+c.width+'" height="'+c.height+'"></a>',p='<img src="'+o(c.tracking.imps)+'" border="0" width="1" height="1">';u.innerHTML=d+p,s.positionElement(l,u,i.position)}}},p=function(e){l(function(){d("lightadserver placeholder","display: block; text-align: center;",e)})};t.exports={run:p}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../common/utilities":32,"../../common/utilities/domManipulation/awaitDOMReady":15,"./utilities/logger":114}],114:[function(e,t,i){var n=e("../../../common/utilities/logger"),r=n({moduleName:"LightAdServer"});t.exports=r},{"../../../common/utilities/logger":34}],115:[function(e,t,i){"use strict";function n(e,t){function i(){var i=n();if(!i)return void s.error(a.ltnp);e.elemToAppend=i,null!==e.elemToAppend?t.run(e.elemToAppend):s.error(a.ugxx)}function n(){return"custom"!==e.positionType?"current"===e.positionType?r(e):null:e.selector?document.querySelector(e.selector):void 0}var s=o.override(e.videoAdId);return{run:i}}var r=e("../utilities/functions/getAdServingTagCurrentPosition"),o=e("../utilities/logger"),a=e("../../../common/resources/messages");t.exports=n},{"../../../common/resources/messages":5,"../utilities/functions/getAdServingTagCurrentPosition":156,"../utilities/logger":161}],116:[function(e,t,i){"use strict";function n(e,t,i){function n(){if(void 0!==e.containerName&&null!==e.containerName){var t=r(e);a.sendFeatureDetectedEvent("magic","eligibility");var i=e.xandr_eligible&&e.xandr_non_eligible;(t||!t&&i)&&(c(i,t),o(e).run(!1),u())}}function c(t,i){t&&(e.validXandrId=i?e.xandr_eligible:e.xandr_non_eligible)}function u(){if(e.valids.length>0){if(e.selected_format.autoAds&&e.selected_format.autoAds.enabled&&!e.selected_format.autoAds.autoPosition){if(!(e.valids.length>=e.selected_format.autoAds.paragraphAutoLimit))return void d.error(l.ukap);e.indexOfValids=e.selected_format.autoAds.paragraphAutoLimit}else e.indexOfValids=Math.floor(e.valids.length/2);e.indexOfValids=0===e.indexOfValids?0:e.indexOfValids-1,e.elemToAppend=e.all[e.valids[e.indexOfValids].index],i.onBeforeAppendingVideoAd(),null!==e.elemToAppend&&t.run(e.elemToAppend)}}var d=s.override(e.videoAdId);return{run:n}}var r=e("../utilities/modules/articleEligibility"),o=e("../utilities/modules/articlePositionsConfigurator"),a=e("../../../core/productDetectorEventGateway"),s=e("../utilities/logger"),l=e("../../../common/resources/messages");t.exports=n},{"../../../common/resources/messages":5,"../../../core/productDetectorEventGateway":84,"../utilities/logger":161,"../utilities/modules/articleEligibility":163,"../utilities/modules/articlePositionsConfigurator":164}],117:[function(e,t,i){"use strict";function n(e,t,i){var n=e.rulePsbk||e.adMngrPsbk,r=n?"min-height:280px;":"min-height:0px;";i&&(r="min-height:500px;");var o=document.createElement("div");return o.setAttribute("id",e.paMagicPlaceholder),o.setAttribute("style",r+"background-color:#f6f6f6;"),o.appendChild(t),o}function r(e,t,i){var n,r=i?500:280,o=document.getElementById(e.videoAdId);new ResizeObserver(function(e){e.forEach(function(e){e.contentRect.height&&(n=o.offsetHeight)>r&&(t.style.minHeight=n+"px",r=n)})}).observe(o)}t.exports={createPlaceholder:n,observeVideoExpansion:r}},{}],118:[function(e,t,i){"use strict";function n(e,t,i){a.addStylesheet(s.videoSliderAssets.fadeInAnimationStr),a.addStylesheet(s.videoSliderAssets.fadeOutAnimationStr),a.addStylesheet(s.videoSliderAssets.fadeInClassStr),a.addStylesheet(s.videoSliderAssets.fadeOutClassStr),a.addStylesheet(s.videoSliderAssets.videoSliderGreyClassStr),"left"===e.position?a.addStylesheet(s.videoSliderAssets.incornerLeft):a.addStylesheet(s.videoSliderAssets.incornerRight),l&&a.addCssStyle(t,s.videoSliderAssets.incornerButtons),a.addCssStyle(i,s.videoSliderAssets.incornerHeading)}function r(e){var t=e.stickyBox,i=e.DOMVideoAd,n=e.paVastIframe,r=e.videoSliderObject,o=e.vpaidSlotFrameDoc,s=e.videoSliderElement,c=e.originWidth,u=e.aspectRatio,d=e.videoContainerSlot;l&&(t=t||document.getElementById("pa_sticky_ad_box_bottom_center"),t&&"0"===getComputedStyle(t).opacity&&(t.style.zIndex=9999999,t.style.opacity="1"),i.classList.contains("nextUpIncornerFirst")&&i.classList.remove("nextUpIncornerFirst"),i.classList.contains("nextUp")&&i.classList.remove("nextUp")),a.addRemoveCssClass(n.contentWindow.document.querySelector(".project_agora"),null,"incornerHeading");var p="left"===r.position?"incornerLeft":"incornerRight";a.addRemoveCssClass(i,null,p),a.addRemoveCssClass(i,null,"fade_out"),a.addRemoveCssClass(s,null,"grey_in"),l&&(a.addRemoveCssClass(o.querySelector(".left-group"),null,"incornerButtons"),a.addRemoveCssClass(o.querySelector(".down-group"),null,"incornerButtons"),a.addRemoveCssClass(o.querySelector("#videoContainer #closeBtnDiv"),null,"incornerButtons")),i.style.width=c+"px",i.style.height=u*c+21+"px",n&&(n.style.width=c+"px",n.style.height=u*c+21+"px"),d&&(d.style.width=c+"px",d.style.height=u*c+"px")}function o(e){var t=e.stickyBox,i=e.DOMVideoAd,n=e.paVastIframe,r=e.videoSliderObject,o=e.vpaidSlotFrameDoc,s=e.videoSliderElement,c=e.aspectRatio,u=e.videoContainerSlot,d=e.tblNextUp,p=e.width;l&&(t=t||document.getElementById("pa_sticky_ad_box_bottom_center"),d=d||document.getElementById("tbl-next-up"),t&&"1"===getComputedStyle(t).opacity&&(t.style.zIndex=-1,t.style.opacity="0"),d&&d.classList.contains("in-viewport")&&i.classList.add("nextUpIncornerFirst")),a.addRemoveCssClass(s,"grey_in",null),a.addRemoveCssClass(n.contentWindow.document.querySelector(".project_agora"),"incornerHeading",null);var m="left"===r.position?"incornerLeft":"incornerRight";a.addRemoveCssClass(i,m,null),a.addRemoveCssClass(i,null,"fade_out"),a.addRemoveCssClass(i,"fade_in",null),l&&(a.addRemoveCssClass(o.querySelector(".left-group"),"incornerButtons",null),a.addRemoveCssClass(o.querySelector(".down-group"),"incornerButtons",null),a.addRemoveCssClass(o.querySelector("#videoContainer #closeBtnDiv"),"incornerButtons",null)),i.style.width=p+"px",i.style.height=c*p+"px",n&&(n.style.width=p+"px",n.style.height=c*p+"px"),u&&(u.style.width=p+"px")}var a=e("../../../common/utilities"),s=e("../../../common/resources"),l=(e("../utilities/logger"),a.device.isMobileDevice),c=function(e){var t=!1,i=null,n=["start_from_incorner","detach_to_incorner"],r=["left","right"];if(e&&e.hasOwnProperty("enabled")&&(t=!0===e.enabled&&e.enabled),t){if(i={effect:e.hasOwnProperty("effect")?e.effect:l?"detach_to_incorner":"start_from_incorner",position:e.hasOwnProperty("position")?e.position:"right",probability:e.hasOwnProperty("incorner_probability")?e.incorner_probability:100},-1===n.indexOf(i.effect))return null;if(l&&"start_from_incorner"===i.effect)return null;if(-1===r.indexOf(i.position))return null;if(!("number"==typeof i.probability&&i.probability>=0&&i.probability<=100))return null;if(!function(e){return!(Math.floor(101*Math.random())>e)}(i.probability))return null}return i};t.exports={parse:c,addVideoPlayerStylesheets:n,resetVideoPlayerPosition:r,moveVideoPlayer:o}},{"../../../common/resources":4,"../../../common/utilities":32,"../utilities/logger":161}],119:[function(e,t,i){"use strict";function n(e){return!!s&&(e.viewabilityGeneric&&e.viewabilityGeneric.hasOwnProperty("enabled")&&e.viewabilityGeneric.enabled||e.viewabilityVideo&&e.viewabilityVideo.hasOwnProperty("enabled")&&e.viewabilityVideo.enabled||e.viewabilityDisplay&&e.viewabilityDisplay.hasOwnProperty("enabled")&&e.viewabilityDisplay.enabled)}function r(e,t,i,n,r,a){var s,l,c,u,p,m,f,g,h=0,v=document.getElementById(r.paMagicPlaceholder),y=v?v.getBoundingClientRect().height:2*e;switch(n){case"adTag":s=a.expansionDisplay,l=a.adManagerPsbkWrapper,s.style.position="relative",s.style.textAlign="center",g=l.querySelector('iframe[id^="postbid_if_"]'),g.style.margin="auto",c=l.style.cssText,u=i.display.enabled,p=i.display.opts.hasOwnProperty("querySelectors")?i.display.opts.querySelectors:null,m=i.display.opts.hasOwnProperty("height")?i.display.opts.height:null;break;case"adManager":s=a.expansionDisplay,l=a.adMngrPAIframe,c=l.style.cssText,u=i.display.enabled,p=i.display.opts.hasOwnProperty("querySelectors")?i.display.opts.querySelectors:null,m=i.display.opts.hasOwnProperty("height")?i.display.opts.height:null;break;case"videoad":s=document.getElementById(r.viewabilityWrapperId),l=document.getElementById(r.paVastIframeId),c=l.style.cssText,u=i.video.enabled,p=i.video.opts.hasOwnProperty("querySelectors")?i.video.opts.querySelectors:null,m=i.video.opts.hasOwnProperty("height")?i.video.opts.height:null}s.style.cssText+="min-height:"+y+"px;min-width:"+t+"px;max-width:336px;background-color: #f6f6f6;margin:0 auto;",u&&!0===u&&(p&&(f=o(p)),Array.isArray(f)&&f.length>0?f.forEach(function(e){h=document.querySelector(e)?h+document.querySelector(e).offsetHeight:h}):h=m&&"number"==typeof m?m||0:0),l.style=c+"position:sticky!important;position:-webkit-sticky;top:"+h+"px!important;",d.onAfterPlaceholderAdded(r)}function o(e){var t=[];return e.forEach(function(e){try{document.querySelector(e)&&t.push(e)}catch(t){c.warn(u.fivy,e)}}),t}var a=e("../../../common/utilities"),s=a.device.isMobileDevice,l=e("../../../patches/hooks/magic/features/viewability"),c=e("../utilities/logger"),u=e("../../../common/resources/messages"),d=l(),p=function(e,t,i){var n={video:{enabled:!1,opts:{}},display:{enabled:!1,opts:{}}};return s?(e?e.hasOwnProperty("enabled")&&!0===e.enabled?(n.video.enabled=!0,n.display.enabled=!0,e.hasOwnProperty("querySelectors")&&(n.video.opts.querySelectors=e.querySelectors,n.display.opts.querySelectors=e.querySelectors),e.hasOwnProperty("height")&&(n.video.opts.height=e.height,n.display.opts.height=e.height)):(n.video.enabled=!1,n.display.enabled=!1):(t&&t.hasOwnProperty("enabled")&&!0===t.enabled&&(n.video.enabled=!0,t.hasOwnProperty("querySelectors")&&(n.video.opts.querySelectors=t.querySelectors),t.hasOwnProperty("height")&&(n.video.opts.height=t.height)),i&&i.hasOwnProperty("enabled")&&!0===i.enabled&&(n.display.enabled=!0,i.hasOwnProperty("querySelectors")&&(n.display.opts.querySelectors=i.querySelectors),i.hasOwnProperty("height")&&(n.display.opts.height=i.height))),n):n};t.exports={parse:p,isEnabled:n,addPlaceholderCSS:r}},{"../../../common/resources/messages":5,"../../../common/utilities":32,"../../../patches/hooks/magic/features/viewability":222,"../utilities/logger":161}],120:[function(e,t,i){(function(i){(function(){"use strict";var n=e("../../common/utilities"),r=e("./modules/paVideo"),o=e("./modules/inArticle"),a=e("./modules/inArticle/modules/lightHandler"),s=e("../../core/targeting"),l=s.hasDataSaverEnabled(),c=e("../../common/resources"),u=e("./utilities").addcss,d=e("./features/viewability"),p=e("./features/inCorner"),m=e("./utilities").awaitUserToScrollCloseToAd,f=n.device.whichMobileDevice,g=n.device.isMobileDevice,h=e("../../patches/hooks/magic"),v=e("./utilities/modules/configurationParser"),y=e("./adPlacementHandlers/default"),b=e("./adPlacementHandlers/custom"),w=e("../../common/utilities/domManipulation/awaitDOMReady"),A=e("./utilities/modules/paAdUnit/placeToIndex"),x=e("./utilities/modules/paAdUnit/createPaVideoAd"),k=e("../passback"),T=e("../passback/noConsentPassbackDetector"),E=e("./utilities/logger"),C=e("../../common/resources/messages");t.exports=function(e,t){function s(){w(function(){try{S()}catch(e){R.error(C.fygr,e)}})}function S(){i.ProjectAgora=i.ProjectAgora?i.ProjectAgora:{},i.ProjectAgora.clsOptimization=e.clsOptimization?e.clsOptimization:null,i.ProjectAgora.psa=!e.clsOptimization||!1!==e.psa;var t=document.getElementById("videoad"),n=e.autoAds&&e.autoAds.enabled;if((!t||n)&&(F.onBeforeInitialization(),!N.isBlockedByConfig()&&(null!==O.adId||null!==O.TypeAd))){F.onBeforeApplyingPositioning()||I()}}function I(){var e=O.positionType;if(e&&F.onBeforeApplyingCustomPositioning(),B.run(),void 0!==O.videoad){(e?b:y)(O,D,F).run(),a.handleChildElements(O)}_()}function _(){if(O.domVideoAd&&(O.visibleOffset=O.selected_format.callVAAfterPx?-1*O.selected_format.callVAAfterPx:O.selected_format.callVAScreensBefore?Number(O.selected_format.callVAScreensBefore)*window.screen.height:null,O.adTriggerMode=O.visibleOffset?"customTrigger":g?"defaultMobile":"defaultDesktop",M&&"start_from_incorner"===M.effect?L():m(O,function(){O.isTriggered=!0,L()})),"inarticle"===O.TypeAd){new o(O,P).run()}}function L(){var e=n.device.detectSamsungDevice(),i=n.device.detectChromeVersion(),a=function(){new Image(1,1).src="https://secure.adnxs.com/imptr?id=46825&t=2"};if(!t.hasAcceptedToConsent){var s=T.run(O.passback,O.adMngrPsbk);return void(null!==s&&k.run({passback:s,adMngrPsbk:null,videoad:O.videoad,window:window,adheadLabel:O.adheadLabel,viewabilityHeightInfo:P}))}if("vast"===O.TypeAd)if(!l||l&&i>=c.MIN_DATASAVER_CHROME_V){u("div#"+O.videoAdId+" > #"+O.paVastIframe+" {margin-bottom: 0px!important;margin-top: 0px!important;}"),u("#"+O.videoAdId+" iframe#"+O.paVastIframe+" {max-width:unset!important;}");var d=new r;d.run(O.domVideoAd,O.adId,O.passback,O.adMngrPsbk,O.adheadLabel,P,n.getSchainInfo(O.sco,O.partnerSco),M,O.inViewThreshold,O.validXandrId,t,O.paVastIframe,O.viewAbilityWrapperId,O.paMagicPlaceholder)}else a();else!l||l&&(e||-1!==["iphone","ipad","ipod"].indexOf(f))&&i>=c.MIN_DATASAVER_CHROME_V?o.load(O,t):a()}var M,P,O={},N=v(O);N.cacheFormat(e);var R=E.override(O.videoAdId,null);M=p.parse(O.incornerConfig),P=d.parse(O.viewabilityGeneric,O.viewabilityVideo,O.viewabilityDisplay,g),M&&g&&(P.video.enabled=!1);var B=x(O,M),D=A(O,M),F=h(O,B,D,{bindEvents:_});return{run:s,getSelf:function(){return O}}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../common/resources":4,"../../common/resources/messages":5,"../../common/utilities":32,"../../common/utilities/domManipulation/awaitDOMReady":15,"../../core/targeting":88,"../../patches/hooks/magic":223,"../passback":171,"../passback/noConsentPassbackDetector":172,"./adPlacementHandlers/custom":115,"./adPlacementHandlers/default":116,"./features/inCorner":118,"./features/viewability":119,"./modules/inArticle":123,"./modules/inArticle/modules/lightHandler":126,"./modules/paVideo":128,"./utilities":160,"./utilities/logger":161,"./utilities/modules/configurationParser":166,"./utilities/modules/paAdUnit/createPaVideoAd":167,"./utilities/modules/paAdUnit/placeToIndex":168}],121:[function(e,t,i){"use strict";function n(e,t,i){function n(){var e=d();e.forEach(m),t.autoAds.debug&&o(e,g)}function d(){var e=h.onBeforePickingAutoAdElements();if(e)return e;var i,n=p(),r=t.autoAds.paragraphAutoLimit,o=[];do{if(n+=r,i=g.valids[n]){var a=i.elem;o.push(a)}}while(i);return o}function p(){var e=g.indexOfValids;if(function(){return void 0!==e}())return e;s(g).run(!0);var t;return function(){var e=g.elemToAppend;return-1!==(t=g.valids.findIndex(function(t){return t.elem.isSameNode(e)}))}()?t:function(){var e=document.getElementById("videoad");if(e){var t=e.getBoundingClientRect().top,i=g.valids.findIndex(function(e){var i=e.elem.getBoundingClientRect().top;return t<=i});if(-1!==i)return i-1}return g.valids.length}()}function m(e,n){var o=JSON.parse(JSON.stringify(t));o.positionType="custom",o.paMagicPlaceholder="pa_inarticle_placeholder_"+n,o.videoAdId="videoad_"+n,o.paVastIframe="frmPAVast_"+n,o.viewAbilityWrapperId="viewability-expansion_"+n,o.inArticleIframeId="inArticle_iframe_container_"+n,o.inArticleLightIframeId="inArticleLight_container_"+n,o.innerVideoAdId="inner_videoad_"+n,o.selector=a(e),delete o.incornerConfig,o.validXandrId=g.validXandrId,new r(o,i).run()}function f(e){l(function(){function t(e,t,i){var n="function"==typeof e.querySelector&&e.querySelector(t),r=e&&"videoad"===e.id;(n||r)&&i()}if(document.getElementById("videoad"))return void e();var i=new MutationObserver(function(n){function r(){i.disconnect(),e()}for(var o=0,a=n.length;o<a;o++)for(var s=0,l=n[o].addedNodes.length;s<l;s++)t(n[o].addedNodes[s],"#videoad",r)});i.observe(document.body,{attributes:!0,subtree:!0,childList:!0})})}var g=e.getSelf(),h=new c;u.override(null,"Auto Ads");return{run:n,waitForVideoAd:f}}var r=e("../../index"),o=e("./utilties").enableDebugMode,a=e("./utilties").generateSelector,s=e("../../utilities/modules/articlePositionsConfigurator"),l=e("../../../../common/utilities/domManipulation/awaitDOMReady"),c=e("../../../../patches/hooks/magic/modules/autoAds"),u=e("../../../../modules/magic/utilities/logger");t.exports=n},{"../../../../common/utilities/domManipulation/awaitDOMReady":15,"../../../../modules/magic/utilities/logger":161,"../../../../patches/hooks/magic/modules/autoAds":224,"../../index":120,"../../utilities/modules/articlePositionsConfigurator":164,"./utilties":122}],122:[function(e,t,i){"use strict";function n(e){var t,i;if(null===e)throw"not an dom reference";if(e.id)return"#"+e.id;for(t=r(e);e.tagName;)i=e.localName+(i?">"+i:""),e=e.parentNode;return i=i+":nth-of-type("+t+")"}function r(e){for(var t=1,i=e.tagName;e.previousSibling;)e=e.previousSibling,1===e.nodeType&&i.toLowerCase()===e.tagName.toLowerCase()&&t++;return t}function o(e,t){var i=function(e){e.style.cssText+="border: 1px dashed #03a9f4"},n=function(e){e.style.cssText+="border: 2px solid #4caf50"};t&&t.valids&&t.valids.length&&t.valids.forEach(function(e){i(e.elem)}),e&&e.length&&e.forEach(function(e){n(e)}),t&&t.elemToAppend&&function(e){e.style.cssText+="border: 2px solid #ba68c8"}(t.elemToAppend)}t.exports={generateSelector:n,enableDebugMode:o}},{}],123:[function(e,t,i){function n(e,t){function i(){window.addEventListener("message",n),window.addEventListener("message",l),"chrome"!==c&&"safari"!==c||m()}function n(t){var i;try{i=JSON.parse(t.data)}catch(e){}i&&i.event&&"ready"===i.event&&i.id&&i.id===e.inArticleIframeId&&(window.removeEventListener("message",n),g(e._magicIiframe))}function l(t){if("string"==typeof t.data&&-1!==t.origin.indexOf("ds.serving-sys"))try{var i=JSON.parse(t.data);i&&i.hasOwnProperty("pa_format_type")&&(e.videoad.style.cssText=e.videoad.style.cssText.replace("height: 0px !important;",""),e.videoad.style.display="block","vertigo"===i.pa_format_type?(e.creative_type="SCROLL_REVEAL",window.removeEventListener("message",l)):"storyboard"===i.pa_format_type&&(e.creative_type="MAGIC",window.removeEventListener("message",l)))}catch(t){}}function m(){window.addEventListener("resize",function(e){R&&f()}),window.addEventListener("message",function(e){try{var t=JSON.parse(e.data);if(t&&"Magic"===t.type&&"paMagicChromeFix"===t.msg){R=!0;f(document.getElementById("ebIframeDiv_"+t.uid))}}catch(e){}})}function f(t){t.style.width=e.videoad.getBoundingClientRect().width+"px",t.style.height="auto",t.style.clip="unset"}function g(t){var i=t?t.contentWindow:window;if(e.socialCards){h(i,"message",e.socialCardsCheckTimeout,t).then(b.bind(this,t),w.bind(this,t)).catch(function(e){})}else e.type=p(e,t),-1===["blank","cube","social_cards","SCROLL_REVEAL","MAGIC"].indexOf(e.type)&&e.isLight&&(e.type="None"),L(),x(t)}function h(t,i,n,r){return new Promise(function(o,a){function s(e){try{var n=JSON.parse(e.data);if(n.hasOwnProperty("partner")&&"pa"===n.partner&&n.hasOwnProperty("creative")&&n.creative)return top.ProjectAgora.creative=n.creative,clearTimeout(c),t.removeEventListener(i,s),n.hasOwnProperty("waitForHeightMessage")&&!0===n.waitForHeightMessage&&v(r,n.href),o(n.creative)}catch(e){}}var l=p(e,r);if(-1!==["blank","social_cards","SCROLL_REVEAL","MAGIC","cube"].indexOf(l))return o(l);var c;t.addEventListener(i,s),c=setTimeout(function(){t.removeEventListener(i,s),a(e.socialCardsTimeoutReached)},n)})}function v(e,t){var i=e?e.contentDocument||e.contentWindow.document:document;i.body.style.textAlign="center";var n=y(i,t);o({onResized:function(t){e&&e.setAttribute("height",parseInt(t.height))},checkOrigin:!1,sizeWidth:!0,heightCalculationMethod:"max"},n)}function y(e,t){return e.querySelector('iframe[src^="'+decodeURIComponent(t)+'"]')||e.querySelector('iframe[src^="'+t+'"]')}function b(t,i){e.type=i,x(t)}function w(t,i){var n=A(t.contentDocument,"321","51");if(1===n.length)return void v(t,n[0].src);e.type="None",x(t)}function A(e,t,i){return[].slice.call(e.getElementsByTagName("iframe")).filter(function(e){return e.width===t&&e.height===i})}function x(i){switch(L(),e.videoad=a.checkConnectionWithDomAndCachedVideoadElement(e.videoad),e.type){case"blank":e.videoad.style.display="none",r.run({passback:e.passback,adMngrPsbk:e.adMngrPsbk,videoad:e.videoad,window:window,adheadLabel:e.adheadLabel,viewabilityHeightInfo:t,paVastIframeId:e.paVastIframe,viewabilityWrapperId:e.viewAbilityWrapperId,paMagicPlaceholder:e.paMagicPlaceholder});break;case"MAGIC":case"SCROLL_REVEAL":break;case"social_cards":e.videoad.style.cssText=e.videoad.style.cssText.replace("height: 0px !important;",""),ProjectAgora.ab?e.videoad.style.display="none":(D.onBeforeDisplayingSocialCards(),e.videoad.style.display="block");break;case"cube":e.videoad.style.cssText=e.videoad.style.cssText.replace("height: 0px !important;",""),_(),M(),ProjectAgora.ab?e.videoad.style.display="none":e.videoad.style.display="block";break;case"None":e.videoad.style.textAlign="center",e.videoad.style.maxWidth="450px",e.videoad.style.cssText=e.videoad.style.cssText.replace("height: 0px !important;",""),k(),setTimeout(E.bind(this,i),50)}}function k(){P=new Date}function T(){return(O=new Date)-P}function E(t){if(N=T(),e.videoad&&I(e.videoad)>=150)e.videoad.style.display="block",e.videoad.style.visibility="visible",F(),t&&(t.style.height=t.contentDocument.body.clientHeight+"px");else{if(N>2e3)return;setTimeout(E,50)}}function C(t){var i=document.createElement("div");i.setAttribute("id","clsBtnCont"),s(".pa_button svg { width: 35px; height: 35px; }#closeBtnDiv{ z-index: 10; position: absolute; top: 3%; right: 2%; } div svg#pauseBtn #Oval, div svg#playBtn #Oval { background-color:rgba(0,0,0,0.06); border: 1px solid #FFFFFF; } div svg#pauseBtn #Fill-1, div svg#playBtn #Fill-1 { fill:#fff; } div svg#pauseBtn:hover #Group-3, div svg#playBtn:hover #Fill-1{ cursor: pointer; } div svg#pauseBtn:hover #Oval, div svg#playBtn:hover #Oval { fill-opacity:.2; cursor: pointer; } div svg#closeBtn #Fill-1{ background-color:rgba(0,0,0,0.06); border: 1px solid #FFFFFF; } div svg#closeBtn:hover #Fill-1 { fill-opacity:.2; cursor: pointer; } div svg#closeBtn:hover #Stroke-3, div svg#closeBtn:hover #Fill-6 { cursor: pointer; }"),i.innerHTML='<div id="closeBtnDiv" class="pa_button"><svg id="closeBtn" class="CloseBtn" width="52px" height="52px" viewBox="0 0 52 52" version="1.1"><g id="Page-1" class="CloseBtn" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="In-artical-magic" class="CloseBtn" transform="translate(-1881.000000, -110.000000)" fill="none"><g id="Group" class="CloseBtn" transform="translate(1882.000000, 111.000000)"><g id="Group-5" class="CloseBtn"><path d="M25.0728873,0.207676056 C18.468662,0.207676056 12.2623239,2.77950704 7.59330986,7.44922535 C2.92429577,12.1175352 0.351760563,18.3259859 0.351760563,24.9280986 C0.351760563,31.5302113 2.92429577,37.7365493 7.59190141,42.4062676 C12.2623239,47.0773944 18.468662,49.6478169 25.0728873,49.6478169 C31.675,49.6478169 37.8820423,47.0773944 42.5517606,42.4062676 C47.2214789,37.7365493 49.7919014,31.5302113 49.7919014,24.9280986 C49.7919014,18.3259859 47.2214789,12.1175352 42.5517606,7.44922535 C37.8820423,2.77950704 31.675,0.207676056 25.0728873,0.207676056" id="Fill-1" class="CloseBtn" fill-opacity="0.06" fill="#000000"></path><path d="M25.0728873,0.207676056 C18.468662,0.207676056 12.2623239,2.77950704 7.59330986,7.44922535 C2.92429577,12.1175352 0.351760563,18.3259859 0.351760563,24.9280986 C0.351760563,31.5302113 2.92429577,37.7365493 7.59190141,42.4062676 C12.2623239,47.0773944 18.468662,49.6478169 25.0728873,49.6478169 C31.675,49.6478169 37.8820423,47.0773944 42.5517606,42.4062676 C47.2214789,37.7365493 49.7919014,31.5302113 49.7919014,24.9280986 C49.7919014,18.3259859 47.2214789,12.1175352 42.5517606,7.44922535 C37.8820423,2.77950704 31.675,0.207676056 25.0728873,0.207676056 Z" id="Stroke-3" class="CloseBtn" stroke="#FFFFFF"></path></g><path d="M15.3904139,34.6088993 C15.6506898,34.869159 15.9920353,35 16.3326696,35 C16.6740151,35 17.0153605,34.869159 17.2756365,34.6088993 L25,26.8857275 L32.7243635,34.6088993 C32.9846395,34.869159 33.3259849,35 33.6673304,35 C34.0079647,35 34.3493102,34.869159 34.6095861,34.6088993 C35.130138,34.089091 35.130138,33.2443135 34.6095861,32.723794 L26.8859337,24.9999111 L34.6095861,17.2760282 C35.130138,16.7562198 35.130138,15.9114424 34.6095861,15.3909229 C34.0890343,14.8696924 33.2449154,14.8696924 32.7243635,15.3909229 L25,23.1140947 L17.2756365,15.3909229 C16.7543735,14.8696924 15.9109657,14.8696924 15.3904139,15.3909229 C14.869862,15.9114424 14.869862,16.7562198 15.3904139,17.2760282 L23.1147774,24.9999111 L15.3904139,32.723794 C14.869862,33.2443135 14.869862,34.089091 15.3904139,34.6088993" id="Fill-7" class="CloseBtn" fill="#FFFFFF"></path></g></g></g></svg></div>',t.appendChild(i),i.addEventListener("click",function(){e.videoad.style.display="none",e.videoad.style.height="0px !important"})}function S(e){var t=e.getElementById("adheading");t.style.display="block",t.addEventListener("click",function(){if(B){window.open("http://www.projectagora.com/?utm_source=Branding&utm_medium=Magic","_blank").focus()}B=!0})}function I(e){var t=window.getComputedStyle(e),i=t.display,n=t.position,r=t.visibility,o=t.maxHeight.replace("px","").replace("%",""),a=0;return"none"!==i&&"0"!==o?e.offsetHeight:(e.style.position="absolute",e.style.visibility="hidden",e.style.display="block",a=e.offsetHeight,e.style.display=i,e.style.position=n,e.style.visibility=r,a)}function _(){var t=function(e){S(e.contentDocument)},i=d("Project Agora Advertising",t),n=e.videoad.firstElementChild;a.positionElement(n,i,"before")}function L(){var t=document.getElementById("inarticle_adtype_label");t&&(t.innerHTML=e.type)}function M(){window.addEventListener("resize",function(){document.getElementById(e.inArticleIframeId).style.width=null})}var P,O,N,R=!1,B=!1,D=u(e),F=function(){var t=null,i=null,n=1,r=0,o=null;_();var a=document.createElement("div");a.style.position="absolute",a.style.right="2%",a.style.width="35px",a.style.height="35px",a.style.top="25px",a.id="bannerWrapper",a.style.marginLeft="auto",a.style.marginTop="2%",C(a),e.videoad.appendChild(a);var s=null;s=document.getElementById(e.innerVideoAdId),s&&(D.onBeforeFirstInitialization(),setTimeout(function(){t=e.videoad.offsetWidth||e.videoad.clientWidth,i=(e.videoad.offsetHeight||e.videoad.clientHeight)-25,n=t/i,r=t-i,s.style.transform="scale("+n+")",s.style.transformOrigin="0 0",s.style.marginBottom=r+"px",s.style.width=i+"px",D.onAfterFirstInitialization(),window.addEventListener("resize",function(){o=e.videoad.offsetWidth||e.videoad.clientWidth,n=o/i,s.style.transform="scale("+n+")",s.style.transformOrigin="0 0",r=o-i,s.style.marginBottom=r+"px",D.onAfterResize()})},0)),window.top.postMessage('{"event": "ready", "id": "pa_light"}',"*")};return{run:i}}var r=e("../../../passback"),o=e("../../../../common/libraries/iframeResizer"),a=e("../../../../common/utilities"),s=e("../../utilities").addcss,l=e("./modules/inArticleLoader"),c=a.device.whichBrowser,u=e("../../../../patches/hooks/magic/modules/inArticle"),d=e("../../../../common/utilities/domManipulation/paIframeHead"),p=(e("../../utilities/logger"),e("./modules/utilities/getInArticleAdType").getInArticleAdType);n.load=l,t.exports=n},{"../../../../common/libraries/iframeResizer":3,"../../../../common/utilities":32,"../../../../common/utilities/domManipulation/paIframeHead":19,"../../../../patches/hooks/magic/modules/inArticle":226,"../../../passback":171,"../../utilities":160,"../../utilities/logger":161,"./modules/inArticleLoader":124,"./modules/utilities/getInArticleAdType":127}],124:[function(e,t,i){"use strict";function n(e,t){function i(){var t,i,r,a,l,c="",u=[];if(t="id="+e.adId,n()&&(t+="&exclude=vertigo"),s&&(e.socialCards=!1),i="https://secure.adnxs.com/ttj?",a="&cb=[CACHEBUSTER]&PSA=0",e.isLight&&u.push("450x450","400x400","350x350","300x300"),e.socialCards&&u.push("321x51"),!1!==e.isCube&&u.push("322x52"),l=e.enable319x49?"&size=319x49":"&size="+(u.length?u.pop():"318x59"),c=u.length?"&promo_sizes="+u.join(","):"",e.socialCards){r="";var d=screen.width;d&&(r=d<370?"&screensize=small":"&screensize=large"),c+=r}return l=l+c+"&promo_alignment=center",i+t+l+a+(o.checkIfPreviewDomain()?"&dongle=blue&test=1":"")}function n(){var e=-1!==window.location.href.indexOf("no_vertigo=true");return e=d.onBeforeExcludingVertigo(e)}var d=c(e);!function(){var n,s=[],c=a.getOS();if(l||!c||"Linux"!==c&&"UNIX"!==c){n=i(),o.getParsedPlatformURL(n,s,o.getSchainInfo(e.sco,e.partnerSco),t),n=s[0],e.videoad.style.visibility="visible";var d=u(e.inArticleIframeId,n);e.isLight?e._magicIiframe.id=e.inArticleIframeId:e._magicIiframe.id=e.inArticleLightIframeId,r({onResized:function(e){},log:!1,checkOrigin:!1,sizeWidth:!0},e._magicIiframe),o.setIframeContent(e._magicIiframe,d)}}()}var r=e("../../../../../../common/libraries/iframeResizer"),o=e("../../../../../../common/utilities"),a=e("../../../../../../core/targeting"),s=a.hasDataSaverEnabled(),l=o.device.isMobileDevice,c=e("../../../../../../patches/hooks/magic/modules/inArticle/inArticleLoader"),u=(e("../../../../utilities/logger"),e("./utilities").getIframeDefaultTemplate);t.exports=n},{"../../../../../../common/libraries/iframeResizer":3,"../../../../../../common/utilities":32,"../../../../../../core/targeting":88,"../../../../../../patches/hooks/magic/modules/inArticle/inArticleLoader":225,"../../../../utilities/logger":161,"./utilities":125}],125:[function(e,t,i){function n(e,t){return'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><script type="text/javascript" src="'+t+'"><\/script><script type="text/javascript">window.parent.postMessage(\'{"event": "ready", "id": "'+e+'"}\',"*");<\/script><script type="text/javascript">'+r.iframeResizerContentWindowCode+"<\/script></body></html>"}var r=e("../../../../../../../common/utilities");t.exports={getIframeDefaultTemplate:n}},{"../../../../../../../common/utilities":32}],126:[function(e,t,i){"use strict";function n(e){var t=document.createElement("div");t.id=e.innerVideoAdId,e.videoad.appendChild(t),e.inner_videoad=t}function r(e){function t(e,t,n){var r=document.createElement("iframe");return r.src=t||"about:blank",r.marginWidth="0",r.marginHeight="0",r.frameBorder="0",r.width="100%",r.height="0",r.id="agora_frame",i(r),
n&&(r.style.zIndex=n),r.setAttribute("SCROLLING","NO"),e.innerHTML="",e.appendChild(r),r}function i(e){e&&(e.style.position="relative",e.style.left="0",e.style.top="0",e.style.margin="0px",e.style.padding="0px",e.style.border="none",e.style.width="100%")}e.selected_format&&e.selected_format.format&&"inarticle"===e.selected_format.format&&(e.isLight?(e.inner_videoad=document.getElementById(e.innerVideoAdId),e.inner_videoad&&(e._magicIiframe=t(e.inner_videoad,null,void 0))):(e._frameContainer=o(e.videoad,"div"),e._magicIiframe=t(e._frameContainer,null,void 0)))}function o(e,t,i){var n=document.createElement(t);return i&&(n.id=i),e.appendChild(n),n}t.exports={createInnerElement:n,handleChildElements:r}},{}],127:[function(e,t,i){function n(e,t){if(r(t))return"blank";var i=null;if(top.ProjectAgora&&top.ProjectAgora.creative)return i=ProjectAgora.creative;if(e.creative_type)return e.creative_type;var n;if(!(n=t?t.contentDocument||t.contentWindow.document:e.doc))return"None";i=null;var o=n.scripts,s=[],l=[],c=null;if(s=Array.prototype.slice.call(o).filter(function(e){if(-1!==e.src.indexOf("ds.serving-sys.com")||-1!==e.src.indexOf("bs.serving-sys.com"))return!0}),n){if(n.getElementsByClassName("vertigo")[0])return"SCROLL_REVEAL";if([].slice.call(n.getElementsByClassName("storyboard")).length)return"MAGIC"}if(0===s.length)return"None";if(l=s.filter(function(e){if(-1!==e.src.indexOf("CustomScripts"))return!0}),l.length>0)for(var u=l.length,d=0;d<u;d++){var p=l[d].src;if(c=p.substring(p.lastIndexOf("/")+1),"None"!==(i=a(c)))break}return i}function r(e){return!o(e)||!(!ProjectAgora.isBlank||!0!==ProjectAgora.isBlank)}function o(e){function t(e){var t=/Creative \d+ served by Member \d+ via AppNexus/gm,i=e.textContent;return t.test(i)}var i=self.videoad;if(self.isLight&&(i=self.inner_videoad),e)try{i=(e.contentDocument||e.contentWindow.document).body}catch(e){}return 0!==function(e){if(!e)return[];for(var t=e.childNodes,i=[],n=0,r=t.length;n<r;n++)t[n].nodeType==Node.COMMENT_NODE&&i.push(t[n]);return i}(i).filter(t).length}function a(e){var t;switch(e){case"PL_HTML5ScrollReveal.js":case"PL_HTML5ScrollReveal_beta_withAndroidFirefoxFix.js":case"PL_HTML5ScrollReveal_CFV_1_2_0__withAndroidFirefoxFix.js":t="SCROLL_REVEAL";break;case"PL_HTML5Pushdown.js":case"PL_ResponsivePushdown_CFV001.js":t="MAGIC";break;case"PL_HTML5ScrollOver.js":t="SCROLL_OVER";break;default:t="None"}return t}e("../../../../utilities/logger");t.exports={getInArticleAdType:n}},{"../../../../utilities/logger":161}],128:[function(e,t,i){var n=e("@dailymotion/vast-client"),r=e("./utilities/cssloader"),o=e("../../../../common/utilities"),a=e("./modules/vpaid"),s=e("./modules/vast"),l=e("../../../passback"),c=e("../../utilities/logger"),u=e("../../../../common/resources/messages"),d=e("./utilities/parseAdResponse"),p=e("./utilities/getAdResponseType"),m=e("./utilities").arrayRemoveElement,f=o.device.isMobileDevice;t.exports=function(){function e(e){var t,i,n,r;H=[];var o={};for(k=!1,n=0;n<e.length;n++){t=e[n];var a=t.length;for(r=0;r<a;r++)if((i=t[r])&&"VPAID"===i.apiFramework&&("application/javascript"===i.mimeType||"application/x-javascript"===i.mimeType)){k=!0,H[r]={url:i.fileURL,height:i.height,width:i.width};break}if(o.isVpaid)break}for(r=0;r<a;r++)H[r]&&H.push(H[r]);return H.splice(0,a),{isVpaid:k,urls:H}}function t(e){return new Promise(function(t){e||t({r:!1});var i={withCredentials:!0};performance.mark("AdCall"),(new n.VASTClient).get(e,i).then(function(e,i){!i&&e&&e.ads&&e.ads.length>0?(G=d(e),K=p(G),t(K.isVPAID&&K.IsJs||K.isVAST?{r:!0,resp:e}:{r:!1})):t({r:!1})})})}function i(e){return t(e).then(function(e){if(e.r)return e.resp;if(J.length>0){return i(J.pop())}return!1})}function g(){var e=document.getElementById(P);e&&(e.outerHTML="",e.remove())}function h(){g(),b()}function v(e,t){Boolean(t&&t.ads)?function(){if(Y=-1!==e.indexOf("ptv?id="),V=t,S=y(t),T=document.createElement("iframe"),T.id=P,T.name="frmPAVAST",T.scrolling="no",T.style.width="100%",T.style.height="0px",T.marginWidth="0",T.marginHeight="0",T.style.overflowX="hidden",T.style.overflowY="hidden",T.style.display="none",T.allowFullscreen="true",T.webkitallowfullscreen="true",T.mozallowfullscreen="true",T.oallowfullscreen="true",T.msallowfullscreen="true",T.setAttribute("allowfullscreen",""),T.frameBorder="0",T.onload=X,M=o.checkConnectionWithDomAndCachedVideoadElement(M),f&&I&&!0===I.video.enabled){var i=document.createElement("div");i.id=O,i.appendChild(T),M.appendChild(i)}else M.appendChild(T)}():function(){M.style.display="none",l.run({passback:D,adMngrPsbk:F,videoad:M,window:window,adheadLabel:x,viewabilityHeightInfo:I,paVastIframeId:P,viewabilityWrapperId:O,paMagicPlaceholder:N})}()}function y(e){return e.ads[0]&&e.ads[0].system?e.ads[0].system:null}function b(){if(J&&0===J.length)l.run({passback:D,adMngrPsbk:F,videoad:M,window:window,adheadLabel:x,viewabilityHeightInfo:I,paVastIframeId:P,viewabilityWrapperId:O,paMagicPlaceholder:N});else{var e=J.pop();i(e).then(v.bind(this,e))}}function w(e,t,i,n,r,a,s,l,d,p,f,g,h,v){if(N=v,O=h,P=g,M=e,B=t,x=r,D=i,F=n,I=a,_=l,L=d,R=c.override(M.id,"PA Video"),B){var y;W=B.split(",").reverse(),W.forEach(function(e){y=null;try{y=decodeURIComponent(e.trim())}catch(t){R.warn(u.aanc),y=e.trim()}y&&q.push(y)}),p?-1!==q.indexOf("xandr")&&(q[q.indexOf("xandr")]=p):q.indexOf("xandr")&&(q=m(q,"xandr")),q.forEach(function(e){o.getParsedPlatformURL(e,J,s,f)}),b()}}var A,x,k,T,E,C,S,I,_,L,M,P,O,N,R=null,B=null,D=null,F=null,V=null,z=null,U=null,j={},H=[],W=[],q=[],G={},K={},J=[],Y=!1,Q=function(t){return k=!1,A=e(t.mediafiles),!0===A.isVpaid?A.urls[0].adParameters=G.adParameters:A.isVpaid=!1,A},X=function(e){U=this,E=this.contentWindow,z=this.contentDocument||this.document;var t=z.createElement("VIDEO");t.setAttribute("id","VpaidVideo");var i=z.createElement("div");i.setAttribute("id","videoContainer"),z.body.appendChild(i),f&&(i.style.height="0px"),i.appendChild(t),Z(V)},Z=function(e){if(K.isVPAID){if(K.IsJs&&(j=Q(G),k=j.isVpaid)){o.addCssStyle(z,r.getVPAIDCSS()),C=z.createElement("VIDEO"),C.setAttribute("id","backupVideo"),C.setAttribute("style","display:none;width: 100%;height: 100%;");var t=z.getElementById("videoContainer");t.appendChild(C);var i={paVastIframeId:P,viewabilityWrapperId:O,paMagicPlaceholder:N},n=new a;n.run(j,G,U,E,z,h,S,I,_,L,Y,M,i)}}else if(K.isVAST){o.addCssStyle(z,r.getVASTCSS());var l=new s;l.run(e,M,U,E,z)}};return{run:w}}},{"../../../../common/resources/messages":5,"../../../../common/utilities":32,"../../../passback":171,"../../utilities/logger":161,"./modules/vast":129,"./modules/vpaid":131,"./utilities":152,"./utilities/cssloader":149,"./utilities/getAdResponseType":150,"./utilities/parseAdResponse":153,"@dailymotion/vast-client":1}],129:[function(e,t,i){function n(){function e(e,i,n,o,l){O=a.override(i.id,"Vast");var c=null,u=null,d=e.ads[0].creatives.length;for(re=i,oe=se=n,ae=_=l,F=_.getElementById("VpaidVideo"),ie=new r.VASTTracker(null,e.ads[0],e.ads[0].creatives[0]);d--;)"linear"===e.ads[0].creatives[d].type?c=e.ads[0].creatives[d]:"companion"===e.ads[0].creatives[d].type&&(u=e.ads[0].creatives[d]);var p=null;if(c)for(var m=c.mediaFiles,f=m.length;f--&&null===p;)"video/mp4"===m[f].mimeType&&(p=m[f]);if(u&&Q&&t(Q),null===p){return void ie.error({ERRORCODE:"403"})}j=p.fileURL,H=p.height,W=p.width,q=c.duration,F.muted=!0,F.controls=!1,F.src=j,F.load(),F.ondurationchange=function(){q=F.duration},F.addEventListener("loadedmetadata",function(e){N||(W=this.videoWidth,H=this.videoHeight,W<800&&(re.style.maxWidth=W+"px",re.style.margin="0 auto"),ue(oe),("firefox"===g||!h&&"safari"===g)&&(F.muted=!0,F.play()))}),F.addEventListener("error",function(e){var t="900";switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:case e.target.error.MEDIA_ERR_NETWORK:case e.target.error.MEDIA_ERR_DECODE:t="400";break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:t="401";break;default:O.error(s.brsw)}ie.error({ERRORCODE:t})}),window.addEventListener("resize",function(){x(W)},!0)}function t(e){var t={},i=function(e){var t=e;t=t.split("#")[0];var i=t.split("?")[1];return i||!1!==t.search("=")&&(i=t),i}(e);if(i)for(var n=i.split("&"),r=0;r<n.length;r++){var o=n[r].split("="),a=o[0],s=o[1]||"";t[a]=decodeURIComponent(s.replace(/\+/g," "))}return t}function i(e){L=document.createElement("div"),L.setAttribute("id","banner"),e.appendChild(L);var t=document.createElement("div");t.setAttribute("id","PA-circle"),t.setAttribute("class","row"),M=document.createElement("div"),M.setAttribute("id","PA-3"),M.setAttribute("class","PA-outside"),t.appendChild(M);var i=document.createElement("div");i.setAttribute("class","PA-text my_orange");var n=document.createElement("i");n.innerHTML="&#xe804;",n.setAttribute("class","demo-icon icon-cw rotating"),i.appendChild(n);var r=document.createElement("div");r.setAttribute("class","PA-click my_blue");var o=document.createElement("a");o.setAttribute("class","replay_btn my_blue_dark"),o.innerHTML="Replay",o.setAttribute("data-show-count","false"),r.appendChild(o),M.appendChild(i),M.appendChild(r),t.appendChild(M),L.appendChild(t)}function n(e,t){t.parentNode.insertBefore(e,t)}function b(e){var t=document.createElement("div");t.setAttribute("id","loading"),t.setAttribute("class","button"),t.innerHTML='<svg class="lds-spinner" width="200px"  height="200px"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%;"><g transform="rotate(0 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(30 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(60 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(90 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(120 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(150 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(180 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(210 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(240 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(270 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(300 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(330 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate></rect></g></svg>',e.appendChild(t)}function w(e,t,r,o){var a=ae.body;return D=_.getElementById("videoContainer"),I=document.createElement("h4"),I.setAttribute("class","project_agora"),I.innerHTML="Project Agora Advertising",n(I,D),Z=ae.getElementsByClassName("project_agora")[0],a.style.height=null,V=document.createElement("progress"),V.setAttribute("id","progress-bar"),V.setAttribute("min","0"),V.setAttribute("value","0"),V.setAttribute("max",t),D.appendChild(V),K=ae.getElementById("progress-bar"),z=document.createElement("div"),z.setAttribute("id","closeButtonContainer"),z.setAttribute("class","no-select"),D.appendChild(z),b(z),P=ae.getElementById("loading"),P.setAttribute("style","display:none"),U=document.createElement("div"),U.setAttribute("class","right-group"),z.appendChild(U),m(U,"cancel","&#xe800;",ae),J=ae.createElement("div"),J.setAttribute("class","right-down-group"),z.appendChild(J),m(J,"resize-full","&#xe802;",ae),m(J,"volume-off","&#xe803;",ae),h||ae.getElementById("volume-off").setAttribute("style","right:10%;"),Y=ae.getElementsByClassName("ring"),i(a),C(ae,"banner"),r}function A(){P.style.display="block"}function x(e){var t=re.getBoundingClientRect().width;G=e>t?t*B+17+7:e*B+17+7;var i=ae.getElementById("videoContainer");i&&("none"===i.style.display?(re.style.height="80px",se.style.height="80px"):(re.style.height=G+"px",se.style.height=G+"px"))}function k(e){E()&&p(_),te=!0,o.transition(80,R,re,se,U,J),C(ae,"videoContainer"),S(ae,"banner"),1!==["iphone","ipad","ipod"].indexOf(f)&&(u(Y),S(ae,"crossout"))}function T(e){x(W),e&&(G=e>G?e:G),o.transition(G,R,re,se,U,J),C(ae,"banner"),S(ae,"videoContainer"),te=!1,F.play()}function E(){return _.webkitIsFullScreen||_.mozFullScreen||_.fullScreen||_.msFullscreenElement}function C(e,t){e.getElementById(t).style.display="none"}function S(e,t){e.getElementById(t).style.display="block"}var I,_,L,M,P,O=null,N=!1,R=500,B=null,D=null,F=null,V=null,z=null,U=null,j=null,H=null,W=null,q=null,G=null,K=null,J=null,Y=null,Q=null,X=!1,Z=null,$=null,ee=null,te=!1,ie=null,ne=!1,re=null,oe=null,ae=null,se=null,le=!1,ce=function(){F&&(F.onstalled=function(){A()},v||(F.onwaiting=function(){A()}),F.onprogress=function(){P.style.display="none"}),F.addEventListener("canplay",function(){ie.load(),F.play()}),Z.addEventListener("click",function(){if(le){window.open("http://www.projectagora.com/?utm_source=Branding&utm_medium=Magic","_blank").focus()}le=!0}),F.addEventListener("timeupdate",function(){K.value=this.currentTime,ie.setProgress(this.currentTime),K.value>=q&&setTimeout(function(){!1===F.muted&&(F.muted=!0,u(Y),S(ae,"crossout"))},R)}),h?window.addEventListener("touchmove",pe,!0):(window.addEventListener("scroll",pe,!0),window.addEventListener("resize",function(){y=window.innerHeight})),F.addEventListener("ended",function(){ie.complete(),k(oe)}),F.addEventListener("pause",function(){ie.setPaused(!0)}),z.addEventListener("click",function(e){e.target===e.currentTarget?ie.click():"PAicon-cancel PA_icon"===e.target.className?(F.pause(),k()):"PAicon-resize-full PA_icon"===e.target.className?(d(F),F.muted=!1,e.stopPropagation()):(e.target.id,F.muted=!F.muted,F.muted?(u(Y),S(ae,"crossout")):(c(Y),C(ae,"crossout")),ie.setMuted(F.muted),e.stopPropagation())},!1),document.addEventListener&&(F.addEventListener("webkitfullscreenchange",de,!0),F.addEventListener("webkitendfullscreen",de,!0),document.addEventListener("mozfullscreenchange",de,!1),document.addEventListener("MSFullscreenChange",de,!1)),F.addEventListener("webkitbeginfullscreen",function(e){F.play()}),F.addEventListener("webkitendfullscreen",function(e){u(Y),S(ae,"crossout"),F.muted=!0,F.play()}),M.addEventListener("click",function(e){T(),ie.setPaused(!1)}),ie.on("clickthrough",function(e){window.open(e),window.focus()}),ie.on("firstQuartile",function(){}),ie.on("midpoint",function(){}),ie.on("thirdQuartile",function(){}),ie.on("complete",function(){}),ie.on("paused",function(){}),ie.on("fullscreen",function(){}),ie.on("exitFullscreen",function(){})},ue=function(e){N=!0,B=H/W,x(W),w(j,q,F,e),h&&l(F),u(Y),ce(),re.style.height="0px",e.style.height="0px",D.style.height="auto",o.transition(G,R,re,se,U,J)},de=function(e){C(ae,"crossout"),c(Y),X=!X,X?ie.setFullscreen(!0):ie.setFullscreen(!1);var t=F&&v;this.muted=!1,t&&(F.muted=!1)},pe=function(e){var t=re.getBoundingClientRect();$=t.top,ee=t.bottom;var i=ee-$,n=null;$>=0&&ee>=0?n=y>ee?100:100-(ee-y)/i*100:$<0&&(n=100*($+i)/i),n=Math.floor(n),z.addEventListener("click",function(e){"PAicon-resize-full PA_icon"===e.target.className&&(ne=!0),e.stopPropagation()}),ne||(n<15||te?F.pause():F.play()),ne=!1};return{run:e}}var r=e("@dailymotion/vast-client"),o=e("../../../../../../common/utilities"),a=e("../../../../utilities/logger"),s=e("../../../../../../common/resources/messages"),l=e("../../utilities").mobileDeviceInit,c=e("./utilities").playBars,u=e("./utilities").pauseBars,d=e("./utilities").requestFullScreen,p=e("./utilities").exitFullscreen,m=e("./utilities").createBtns,f=o.device.whichMobileDevice,g=o.device.whichBrowser,h=o.device.isMobileDevice,v="firefox"===g,y=window.innerHeight;t.exports=n},{"../../../../../../common/resources/messages":5,"../../../../../../common/utilities":32,"../../../../utilities/logger":161,"../../utilities":152,"./utilities":130,"@dailymotion/vast-client":1}],130:[function(e,t,i){"use strict";function n(e,t,i,n){var r,o,a,s=n.createElement("div");if(e.appendChild(s),s.setAttribute("class","social-button no-select"),"volume-off"===t){var c=n.createElement("span");c.setAttribute("id","mute"),s.appendChild(c),s=c}var u=n.createElement("span");"resize-full"!==t&&u.setAttribute("class","left-social"),u.setAttribute("id",t),s.appendChild(u);var d=n.createElement("span");d.setAttribute("class","tip"),d.setAttribute("id",t+"_tip"),"volume-off"===t&&(r=n.createElement("div"),r.setAttribute("id","r1"),r.setAttribute("class","ring"),o=n.createElement("div"),o.setAttribute("id","r2"),o.setAttribute("class","ring"),a=n.createElement("div"),a.setAttribute("id","r3"),a.setAttribute("class","ring"),l||(r.setAttribute("style","width:2vw;top:4%;left:40%;"),o.setAttribute("style","width:2vw;top:4%;left:40%;"),a.setAttribute("style","width:2vw;top:4%;left:40%;")));var p=n.createElement("i");if(p.setAttribute("class","PAicon-"+t+" PA_icon"),p.setAttribute("id",t+"Btn"),p.innerHTML=i,"volume-off"===t){var m=n.createElement("div");m.setAttribute("id","crossout"),m.setAttribute("class","PA_line"),l||m.setAttribute("style","top: -3.2vh;"),u.appendChild(m)}u.appendChild(d),u.appendChild(p),"volume-off"===t&&(u.appendChild(r),u.appendChild(o),u.appendChild(a))}function r(e,t){e.requestFullscreen&&e.requestFullscreen(),e.mozRequestFullScreen&&e.mozRequestFullScreen(),e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),e.webkitEnterFullScreen&&e.webkitEnterFullScreen(),e.msRequestFullscreen&&e.msRequestFullscreen(),"function"==typeof t&&t()}function o(e,t){e.exitFullscreen?e.exitFullscreen():e.cancelFullScreen?e.cancelFullScreen():e.webkitExitFullscreen?e.webkitExitFullscreen():doc.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen(),"function"==typeof t&&t()}function a(e){for(var t=0;t<e.length;t++){e[t].style.borderRightColor="#F15A29"}}function s(e){for(var t=0;t<e.length;t++){e[t].style.borderRightColor="#D2D2D2"}}var l=(e("../../../../../utilities/logger"),e("../../../../../../../common/utilities/device").isMobileDevice);t.exports={createBtns:n,requestFullScreen:r,exitFullscreen:o,playBars:a,pauseBars:s}},{"../../../../../../../common/utilities/device":13,"../../../../../utilities/logger":161}],131:[function(e,t,i){(function(i){(function(){var n=e("./modules/VPAIDHTML5Client/VPAIDHTML5Client"),r=e("../../../../../../common/utilities"),o=e("../../../../../../common/resources"),a=e("../../../../features/viewability"),s=e("../../../../features/inCorner"),l=e("./modules/elementCreator"),c=e("./utilities/functions/parseResponse"),u=e("./utilities/functions/ajaxListener"),d=e("../../utilities").mobileDeviceInit,p=e("../../../../../../patches/hooks/magic/modules/paVideo/modules/vpaid"),m=e("./utilities/functions/getElementVisibilityPercentage"),f=e("./utilities/functions/captureVideoFrame"),g=e("../../../../../../core/productDetectorEventGateway"),h=e("../../../../utilities/logger"),v=e("../../../../../../common/resources/messages"),y=r.device.whichMobileDevice,b=r.device.isMobileDevice,w=r.device.whichBrowser;t.exports=function(){function e(e,t,i,n,r,o){var a=document.createElement("script"),s=[],l={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:r},dispatchEvent:function(e){l.sendEvent?(s&&(s.push(e),e=s,s=!1),l.sendEvent(e)):s&&s.push(e)},clientCallback:o};t="_moatApi"+Math.floor(1e8*Math.random());var c,u;try{c=e.ownerDocument,u=c.defaultView||c.parentWindow}catch(e){c=document,u=window}return u[t]=l,a.type="text/javascript",e&&e.insertBefore(a,e.childNodes[0]||null),a.src="https://z.moatads.com/"+n+"/moatvideo.js#"+t,l}function t(e,t,i,r,o,a,l,p,m,f,v,y,b){bt=v,We=p,He=l,Fe=a,ge=o,ue=r,ve=t,he=i,ye=e,qe=m,Xe=f,be=y,Ge="videoad"===y.id?document.getElementById("pa_videoslider"):null,Ae=b,Ke=document.getElementById(Ae.paMagicPlaceholder),we=document.getElementById(Ae.paVastIframeId),it=h.override(y.id,"Vpaid"),qe&&(g.sendFeatureDetectedEvent("magic","inCorner"),s.addVideoPlayerStylesheets(qe,ge,we)),be.setAttribute("style","background-color: unset!important"),u(r,function(e,t){t&&bt&&(wt=A(t)),pt.ThrdPartyProvider||(pt=c(e))}),rt=ve.trkEvnts[0],ot=ve.clickTrackingUrls[0],me=ve.duration[0],nt=ye.urls,te=ge.getElementById("videoContainer"),ie=ge.getElementById("VpaidVideo"),Ue=ge.getElementById("backupVideo"),d(ie),ie.muted=!0,ie.style.width="100%",ie.setAttribute("allowfullscreen","true"),ie.setAttribute("data-reembed",'{ "no_replace": 1 }'),Y=new n.VPAIDHTML5Client(te,ie,{}),P(ue)}function A(e){var t={},i={advertiser_id:"level1",campaign_id:"level3",lineitem_id:"level2",creative_id:"level4",deal_id:"slicer1"};return Object.keys(i).forEach(function(n){t[i[n]]=r.getUrlParameterByName(n,e)}),t}function x(e){Ve=e;Ue.muted=!0,Ue.crossOrigin="anonymous",Ue.setAttribute("src",pt.CacheVideoSrc),Ue.addEventListener("error",function(){e(" ")}),Ue.addEventListener("loadedmetadata",function(){var e=Ue.duration;Ue.currentTime=e-.7}),Ue.addEventListener("canplaythrough",Et)}function k(e,t,i){ee.style.display="block",se=!1,ut!==se&&(C(),ut=se,ee.style.width=t+"px",ke.style.width=t+"px");var n=st;qe&&"start_from_incorner"===qe.effect&&(n=0),r.transition(e,n,be,he,Te,Ee,function(){if(i&&"function"==typeof i&&i(),qe){var t="start_from_incorner"===qe.effect?2:1;Ge.style.height=t*e+21+"px",Ge.style.width="100%"}te.style.height=e+"px",te.style.width="100%",b&&We.video.enabled&&(a.addPlaceholderCSS(e,ae,We,"videoad",Ae,{}),be.style.removeProperty("height"))},yt?0:20)}function T(e){xt?At.disconnect():window.removeEventListener("scroll",Ye),window.removeEventListener("resize",Qe,!0),yt&&(J(I.bind(this,e,Je)),yt=!1);var t=Ge||be;Te.style.display="none",Ee.style.display="none",r.transition(0,st,t,he,Te,Ee,function(){if(he.parentNode&&he.parentNode.removeChild(he),b&&We&&!0===We.video.enabled){var e=document.getElementById(Ae.viewabilityWrapperId);e&&e.remove()}}),se=!0,ut=se,_t("collapse"),setTimeout(function(){ee.style.display="none"},st)}function E(){Oe.style.display="block"}function C(e){var t=e||be.getBoundingClientRect().width;Ge||(t=be.parentElement.clientWidth,be.style.width="100%",t=kt.onAfterVideoPlayerWidthCalculated(t,be)),ae=Math.round(t),xe=t*(ce||le)}function S(e,t,i){if(!e){var n=ge.getElementById("VpaidVideo");Z=0===i._creative.getAdVolume(),n&&(n.volume=Z?0:1)}}function I(e,t,i){C(t),se||(be.style.height=null,ke&&(ke.style.width=ae+"px"),ee&&(ee.style.width=ae+"px"),he.style.height=xe+21+"px",te.style.height=xe+"px",ie.style.height=xe+"px"),e.resizeAd(ae,xe,"normal",i)}function _(e){var t=ge.getElementById(e);t&&(t.style.display="none")}function L(e){var t=ge.getElementById(e);t&&(t.style.display="block")}function M(e){if(Ge&&(Je=Ge.getBoundingClientRect().width),Qe=Mt.bind(this,e),window.addEventListener("resize",Qe,!0),qe&&"start_from_incorner"===qe.effect&&!yt){var t=b?screen.width/2:Je/2;I(e,t,K.bind(this,t)),yt=!0}if(be.addEventListener("animationend",function(t){if("fadeOutAnimation"===t.animationName){if(!0===yt){var i=b?screen.width/2:Je/2;I(e,i,K.bind(this,i))}!1===yt&&I(e,Je,J)}"fadeInAnimation"===t.animationName&&be.classList.remove("fade_in")}),xt){var i={root:null,threshold:Xe/100},n=b&&We.video.enabled?we:be;At=new IntersectionObserver(function(t){Ot(t,e,n)},i),Ge&&At.observe(Ge),At.observe(n)}else Ye=Pt.bind(this,e),window.addEventListener("scroll",Ye);te.addEventListener("click",function(t){t.target===t.currentTarget||("CloseBtn"===t.target.className.baseVal?(e.stopAd(),T(e)):"playBtn"===t.target.className.baseVal?e.resumeAd():"pauseBtn"===t.target.className.baseVal?(xt&&(Ye=Lt.bind(this,e),window.addEventListener("scroll",Ye)),e.pauseAd()):"soundOffBtn"!==t.target.className.baseVal&&"soundButton"!==t.target.className.baseVal||(ie.muted=!ie.muted,ie.muted?(L(Pe),_(Me),e.setAdVolume(0,function(t,i){S(t,i,e)})):(L(Me),_(Pe),e.setAdVolume(1,function(t,i){S(t,i,e)})))),t.stopPropagation()},!1),ee.addEventListener("click",function(){if(ft){window.open("http://www.projectagora.com/?utm_source=Branding&utm_medium=Magic","_blank").focus()}ft=!0}),ie&&(ie.onstalled=function(){E()},(b||"firefox"!==w)&&(ie.onwaiting=function(){E()}),ie.onprogress=function(){"none"!==Oe.style.display&&(Oe.style.display="none")})}function P(e){(ne=Ct())&&(de=ne.height||360,me=15,pe=ne.width||480,fe=de/pe,ht||(te.style.position="static",te.style.overflow="hidden",te.style.width="100%"),Y.loadAdUnit(e,ne.url,G))}function O(e){var t=e._creative.getAdDuration(),i=ie.duration;return i||t}function N(e){(me=O(e))&&(ge.getElementById("progress-bar").max=me)}function R(e,t){var i,n=null;Le&&(i=Le.getAttribute("max")),i&&Le&&i!==me&&Le.setAttribute("max",e);var r=e-t._creative.getAdRemainingTime();!0===lt?(Le&&(gt?je&&(Le.value=je.getCurrentTime()):Le.value=r),ct&&"function"==typeof n&&ie.removeEventListener("timeupdate",n)):ct||(ct=!0,n=function(){Le&&(Le.value=this.currentTime)},ie.addEventListener("timeupdate",n))}function B(e){var t=e._creative.getAdRemainingTime();return(t>0&&!vt||t>ze)&&(ze=t,vt=!0),ze}function D(e){var t=null;gt?(t=B(e))&&R(t,e):(t=O(e),R(t,e))}function F(){var e=".ad-element:hover{cursor:pointer;}.ad-element{ z-index:10;}",t=$.createElement("style"),i=$.querySelector("body >div> iframe");i&&i.setAttribute("allowfullscreen","true"),t.styleSheet?t.styleSheet.cssText=e:t.appendChild($.createTextNode(e)),setTimeout(function(){$.getElementsByTagName("head")[0].appendChild(t)},500)}function V(e){var t=e._videoEl;re=t.videoHeight,oe=t.videoWidth,le=re/oe}function z(e){dt=!0,function(){var t=l.run({adUnit:e,vpaidSlotFrameDoc:ge,videoContainerSlot:te,duration:me,onCloseButtonClick:function(){T(e)},onCancelButtonClick:function(t){t.stopPropagation(),T(e)}});Ne=t.projectagora,ee=t.projectAgoraHeading,_e=t.LBBanner,Se=t.leaveBehind,Ie=t.LMgroup,ke=t.progressbar,Ce=t.LGroup,Te=t.rGroup,Ee=t.rdGroup,Le=t.bar,Oe=t.loading,Me=t.soundOn,Pe=t.soundOff}();var t=null;qe&&"start_from_incorner"!==qe.effect?t=M.bind(this,e):M(e),xe=Be,ae=Re,se=!1,ut=!0,k(xe,ae,t)}function U(e){!ht||"safari"!==w&&"chrome"!==w&&"firefox"!==w||(e.muted=!0,e.play())}function j(e){var t;t=ge.getElementById("PALeaveBehind"),t.setAttribute("src",e)}function H(){function e(e){e.stopPropagation(),St(ot),window.open(pt.ThrirdPartyClickThrough,"_blank").focus()}te.style.visibility="hidden";var t=ge.getElementsByClassName("cls-a")[0],i=ge.getElementsByClassName("cls-b")[0],n=ge.getElementsByClassName("cls-c")[0],r=ge.getElementsByClassName("learn-more-text")[0];_e.style.display="block";var o=ge.getElementById("learnMoreBtn")||document.getElementById("learnMoreBtn"),a=ge.getElementsByClassName("learn-more-text")[0]||document.getElementsByClassName("learn-more-text")[0];if(pt.ThrirdPartyClickThrough){try{Ie.style.display="block",o.addEventListener("click",e.bind(this.event)),a.addEventListener("click",e.bind(this.event)),_e.addEventListener("click",e.bind(this.event)),_e.addEventListener("mouseover",function(){r.style.color="#1DACEE",t.style.stroke="#1DACEE",i.style.fill="#1DACEE",n.style.fill="#1DACEE"}),_e.addEventListener("mouseout",function(){r.style.color="white",t.style.stroke="white",i.style.fill="white",n.style.fill="white"})}catch(e){return!1}return!0}return!1}function W(e){ee.style.display="block",setTimeout(function(){D(e)},10)}function q(e,t){bt&&$e&&$e.dispatchEvent({type:e,adVolume:t})}function G(t,n){function r(e){if(!e){var t=be.getBoundingClientRect().width,r=0;r=i.ProjectAgora.clsOptimization?Ke.parentElement.getBoundingClientRect().width:function(e){var t=e.previousElementSibling;return t||(t=e.parentElement.previousElementSibling)||(t=e.parentElement),t.getBoundingClientRect().width}(Ge||be);var a;a=t?t>o.MAX_DESKTOP_WIDTH?o.MAX_DESKTOP_WIDTH:t:r>o.MAX_DESKTOP_WIDTH?o.MAX_DESKTOP_WIDTH:r,qe&&"start_from_incorner"===qe.effect&&(a/=2);var s=a*fe;Re=pe,Be=de,n.initAd(a,s,"normal",-1,{AdParameters:ne.adParameters||""},{},function(e){e&&it.error(v.dspp,e)})}}function a(){"DBM"===pt.ThrdPartyProvider&&(gt=!0,je=new Tt(0,"paused"));var t=ie,i=n._creative.getAdDuration();bt&&($e=e(t,wt,i,"projectagoravideo769396279230")),n.startAd(function(e){be.style.maxWidth="800px",be.style.margin="auto",oe=n._creative.getAdWidth(),re=n._creative.getAdHeight(),le=re/oe})}if(!t){n.subscribe("AdLoaded",a);var s=ge.getElementsByTagName("iframe")[0];$=s.contentDocument||s.document;var l=ge;["AdLinearChange","AdDurationChange","AdExpandedChange","AdSkippableStateChange","AdInteraction","AdLog"].forEach(function(e){n.subscribe(e,function(){})}),n.subscribe("AdRemainingTimeChange",function(){lt=!0,D(n)}),n.subscribe("AdVolumeChange",function(){q("AdVolumeChange",n._creative.getAdVolume());var e=Q;Q=n._creative.getAdVolume(),0===Q&&e>0?(_t("mute"),Z=!0,L(Pe),_(Me)):Q>0&&0===e?(_t("unmute"),Z=!1,L(Me),_(Pe)):Z=void 0===Z||Z}),n.subscribe("AdImpression",function(){St(ve.impTrk)}),n.subscribe("AdSkipped",function(){_t("skip")}),n.subscribe("AdClickThru",function(e){gt&&je&&je.pauseTimer(),St(ot),e.playerHandles&&window.open(e.url,"_blank")}),n.subscribe("AdStarted",function(){q("AdStarted",n._creative.getAdVolume()),Re=n._creative.getAdWidth(),Be=n._creative.getAdHeight(),ce=Be/Re,"stickyADStv"!==He.value&&"DBM"!==He.value||(V(n),ce=le,Re=ae,Be=xe),he.style.display="block",F(),kt.onBeforeFirstExpand(we,n),z(n),N(n),_t("creativeView"),L("pauseBtn"),_("playBtn"),X=!1,U(ie),n.setAdVolume(0,function(e,t){S(e,t,n)}),gt&&je&&(je.startTimer(),W(n)),kt.onAfterAdStarted(be)}),n.subscribe("AdVideoStart",function(){q("AdVideoStart",n._creative.getAdVolume()),dt&&(W(n),L("pauseBtn"),_("playBtn"),X=!1),_t("start")}),l&&ie&&ie.addEventListener("loadedmetadata",function(){me=ie.duration;var e=l.getElementById("progress-bar");e&&(e.max=me),De=ie.src,pt.CacheVideoSrc=De,ie.play()},!1),n.subscribe("AdVideoFirstQuartile",function(){q("AdVideoFirstQuartile",n._creative.getAdVolume()),De=ie.src,pt.CacheVideoSrc=De,x(function(e){j(e),Ue.removeEventListener("canplaythrough",Et),ge.getElementById("backupVideo").remove()}),_t("firstQuartile")}),n.subscribe("AdVideoMidpoint",function(){q("AdVideoMidpoint",n._creative.getAdVolume()),_t("midpoint")}),n.subscribe("AdVideoThirdQuartile",function(){q("AdVideoThirdQuartile",n._creative.getAdVolume()),_t("thirdQuartile")}),
n.subscribe("AdVideoComplete",function(){if(q("AdVideoComplete",n._creative.getAdVolume()),_t("complete"),gt&&je&&je.pauseTimer(),ge.getElementById("PALeaveBehind").style.display="block",Ze=H(),xt?At.disconnect():window.removeEventListener("scroll",Ye),Ze||window.removeEventListener("resize",Qe,!0),Ze){if(yt){var e=Ge.getBoundingClientRect().width;I(n,e,J)}}else T(n)}),n.subscribe("AdUserAcceptInvitation",function(){_t("acceptInvitation")}),n.subscribe("AdUserMinimize",function(){_t("collapse")}),n.subscribe("AdUserClose",function(){_t("close")}),n.subscribe("AdPaused",function(){q("AdPaused",n._creative.getAdVolume()),_t("pause"),_("pauseBtn"),L("playBtn"),X=!0}),n.subscribe("AdPlaying",function(){q("AdPlaying",n._creative.getAdVolume()),_t("resume"),Oe&&"none"!==Oe.style.display&&(Oe.style.display="none"),_("playBtn"),L("pauseBtn"),D(n),X=!1}),n.subscribe("AdError",function(e){_t("error"),gt&&je&&je.pauseTimer(),be&&be.style.removeProperty("height"),Fe()}),n.subscribe("AdStopped",function(){q("AdStopped",n._creative.getAdVolume()),gt&&je&&(je.pauseTimer(),je.dispose()),"IntersectionObserver"in window?At.disconnect():window.removeEventListener("scroll",Ye),Ze||window.removeEventListener("resize",Qe,!0)}),n.subscribe("AdSizeChange",function(){D(n)}),n.handshakeVersion("2.0",r)}}function K(e){s.moveVideoPlayer({stickyBox:et,DOMVideoAd:be,paVastIframe:we,videoSliderObject:qe,vpaidSlotFrameDoc:ge,videoSliderElement:Ge,originWidth:Je,aspectRatio:ce,videoContainerSlot:te,tblNextUp:tt,width:e}),yt=!0}function J(e){s.resetVideoPlayerPosition({stickyBox:et,DOMVideoAd:be,paVastIframe:we,videoSliderObject:qe,vpaidSlotFrameDoc:ge,videoSliderElement:Ge,aspectRatio:ce,videoContainerSlot:te,originWidth:Je}),yt=!1,e&&"function"==typeof e&&e()}var Y,Q,X,Z,$,ee,te,ie,ne,re,oe,ae,se,le,ce,ue,de,pe,me,fe,ge,he,ve,ye,be,we,Ae,xe,ke,Te,Ee,Ce,Se,Ie,_e,Le,Me,Pe,Oe,Ne,Re,Be,De,Fe,Ve,ze,Ue,je,He,We,qe,Ge,Ke,Je,Ye,Qe,Xe,Ze,$e,et,tt,it=null,nt=[],rt=[],ot=[],at=[],st=500,lt=!1,ct=!1,ut=!1,dt=!1,pt={},mt=window.innerHeight,ft=!1,gt=!1,ht=-1!==["iphone","ipad","ipod"].indexOf(y),vt=!1,yt=!1,bt=!1,wt={},At=null,xt="IntersectionObserver"in window,kt=p({resizeVpaid:I}),Tt=function(e,t){this.currentTime=e,this.interfaceTimer=null,this.status=t};Tt.prototype={startTimer:function(){var e=this;"paused"===this.status&&(this.interfaceTimer=setInterval(function(){e.currentTime+=.1},100),this.status="resumed")},pauseTimer:function(){"resumed"===this.status&&(clearInterval(this.interfaceTimer),this.status="paused")},getCurrentTime:function(){return this.currentTime},dispose:function(){je&&(je=null)}};var Et=function(){var e=Ue.play();if(void 0!==e){var t;e.then(function(){Ue.pause();var e=f(Ue,"png");t=e.dataUri,Ve(t)}).catch(function(e){it.error(v.omen,e),Ve(t)})}},Ct=function(){var e=nt.length-1,t=Math.floor(Math.random()*e);return nt[t]},St=function(e){e.forEach(function(e){new Image(1,1).src=e})},It=function(e){var t=!1;return at.forEach(function(i){e===i&&(t=!0)}),t},_t=function(e){if(r.hasAttribute(rt,e)){var t=rt[e];It(e)||(St(t),at.push(e))}},Lt=function(e){e.resumeAd(),window.removeEventListener("scroll",Ye)},Mt=function(e){var t,i,n;e.resumeAd(),Ge&&(i=screen.width/2,t=Ge.getBoundingClientRect().width),qe?Ge.style.height=t*ce+21+"px":I(e),mt=window.top.innerHeight,yt?(n=b?i:t/2,I(e,n),be.style.width=n+"px",be.style.height=n*ce+"px",we&&(we.style.width=n+"px",we.style.height=n*ce+"px"),te&&(te.style.width=n+"px")):(I(e,t),be.style.width=t+"px",we&&(we.style.width=t+"px"),te&&(te.style.width=t+"px"))},Pt=function(e){var t=b&&We.video.enabled&&we?we:be;m(t,mt)<Xe?X||qe||e.pauseAd():X&&e.resumeAd(),qe&&(Je=Ge.getBoundingClientRect().width,m(Ge,mt)<Xe?yt||(yt=!0,be.classList.add("fade_out")):(X&&e.resumeAd(),yt&&(yt=!1,be.classList.add("fade_out"))))},Ot=function(e,t,i){e.forEach(function(e){e.target==i&&(e.intersectionRatio<Xe/100?X||qe||t.pauseAd():X&&t.resumeAd()),Ge&&e.target==Ge&&(Je=Ge.getBoundingClientRect().width,e.intersectionRatio<Xe/100?yt||(yt=!0,be.classList.add("fade_out")):(X&&t.resumeAd(),yt&&(yt=!1,be.classList.add("fade_out"))))})};return{run:t}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../../common/resources":4,"../../../../../../common/resources/messages":5,"../../../../../../common/utilities":32,"../../../../../../core/productDetectorEventGateway":84,"../../../../../../patches/hooks/magic/modules/paVideo/modules/vpaid":227,"../../../../features/inCorner":118,"../../../../features/viewability":119,"../../../../utilities/logger":161,"../../utilities":152,"./modules/VPAIDHTML5Client/VPAIDHTML5Client":134,"./modules/elementCreator":135,"./utilities/functions/ajaxListener":137,"./utilities/functions/captureVideoFrame":139,"./utilities/functions/getElementVisibilityPercentage":143,"./utilities/functions/parseResponse":144}],132:[function(e,t,i){"use strict";function n(e,t,i){}function r(e,t,i){Object.defineProperty(e,t,{writable:!1,configurable:!1,value:i})}var o=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],a=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],s=["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"],l=["setAdVolume"];n.prototype.handshakeVersion=function(e,t){},n.prototype.initAd=function(e,t,i,n,r,o,a){},n.prototype.startAd=function(e){},n.prototype.stopAd=function(e){},n.prototype.skipAd=function(e){},n.prototype.resizeAd=function(e,t,i,n){},n.prototype.pauseAd=function(e){},n.prototype.resumeAd=function(e){},n.prototype.expandAd=function(e){},n.prototype.collapseAd=function(e){},n.prototype.subscribe=function(e,t,i){},n.prototype.unsubscribe=function(e,t){},n.prototype.getAdLinear=function(e){},n.prototype.getAdWidth=function(e){},n.prototype.getAdHeight=function(e){},n.prototype.getAdExpanded=function(e){},n.prototype.getAdSkippableState=function(e){},n.prototype.getAdRemainingTime=function(e){},n.prototype.getAdDuration=function(e){},n.prototype.getAdVolume=function(e){},n.prototype.getAdCompanions=function(e){},n.prototype.getAdIcons=function(e){},n.prototype.setAdVolume=function(e,t){},r(n,"METHODS",o),r(n,"GETTERS",s),r(n,"SETTERS",l),r(n,"EVENTS",a);var c=o.filter(function(e){return-1===["skipAd"].indexOf(e)});r(n,"checkVPAIDInterface",function(e){return c.every(function(t){return"function"==typeof e[t]})}),t.exports=n},{}],133:[function(e,t,i){"use strict";function n(e,t,i,n){this._isValid=u(e),this._isValid&&(this._creative=e,this._el=t,this._videoEl=i,this._iframe=n,this._subscribers=new c,d.setFullSizeStyle(t),r.call(this))}function r(){if(f.forEach(function(e){this._creative.subscribe(a.bind(this,e),e)}.bind(this)),this._creative.subscribe(o.bind(this),m),this._videoEl){var e=this._iframe.contentDocument.documentElement,t=this._videoEl;e.addEventListener("click",function(i){i.target===e&&t.click()})}}function o(e,t,i){this._subscribers.triggerSync(m,{url:e,id:t,playerHandles:i})}function a(e){this._subscribers.trigger(e,Array.prototype.slice(arguments,1))}function s(e,t,i,n){e?e(i,n):i&&t.trigger(p,i)}var l=e("./IVPAIDAdUnit"),c=e("../subscriber/subscriber"),u=l.checkVPAIDInterface,d=e("../../utilities"),p=(l.METHODS,"AdError"),m="AdClickThru",f=l.EVENTS.filter(function(e){return e!=m});n.prototype=Object.create(l.prototype),n.prototype.isValidVPAIDAd=function(){return this._isValid},l.METHODS.forEach(function(e){-1===["subscribe","unsubscribe","initAd"].indexOf(e)&&(n.prototype[e]=function(){var t=l.prototype[e].length,i=Array.prototype.slice.call(arguments),n=t===i.length?i.pop():void 0;setTimeout(function(){var t,r=null;try{t=this._creative[e].apply(this._creative,i)}catch(e){r=e}s(n,this._subscribers,r,t)}.bind(this),0)})}),n.prototype.initAd=function(e,t,i,n,r,o,a){r=r||{},o=d.extend({slot:this._el,videoSlot:this._videoEl},o||{}),setTimeout(function(){var l;try{this._creative.initAd(e,t,i,n,r,o)}catch(e){l=e}s(a,this._subscribers,l)}.bind(this),0)},n.prototype.subscribe=function(e,t,i){this._subscribers.subscribe(t,e,i)},n.prototype.unsubscribe=function(e,t){this._subscribers.unsubscribe(t,e)},n.prototype.on=n.prototype.subscribe,n.prototype.off=n.prototype.unsubscribe,l.GETTERS.forEach(function(e){n.prototype[e]=function(t){setTimeout(function(){var i,n=null;try{i=this._creative[e]()}catch(e){n=e}s(t,this._subscribers,n,i)}.bind(this),0)}}),n.prototype.setAdVolume=function(e,t){setTimeout(function(){var i,n=null;try{this._creative.setAdVolume(e),i=this._creative.getAdVolume()}catch(e){n=e}n||(n=d.validate(i===e,"failed to apply volume: "+e)),s(t,this._subscribers,n,i)}.bind(this),0)},n.prototype._destroy=function(){this.stopAd(),this._subscribers.unsubscribeAll()},t.exports=n},{"../../utilities":148,"../subscriber/subscriber":136,"./IVPAIDAdUnit":132}],134:[function(e,t,i){"use strict";function n(e,t,i,n){i=i||{},this._id=m(),this._destroyed=!1,this._frameContainer=p.createElementInEl(e,"div"),this._videoEl=t,this._vpaidOptions=n||{timeout:1e4},this._templateConfig={template:i.template||h,extraOptions:i.extraOptions||{}}}function r(e){var t=this[e];t&&t.parentNode&&(t.parentNode.removeChild(t),delete this[e])}function o(){s.call(this),delete this._adUnit}function a(){s.call(this),c.call(this)}function s(){r.call(this,"_frame"),l.call(this)}function l(e){this._onLoad&&(e?e.removeEventListener("message",this._onLoad):window.removeEventListener("message",this._onLoad),delete this._onLoad)}function c(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}function u(){if(this._destroyed)throw new Error(g.qxtp)}function d(e){var t=e||window;if("object"==typeof t.location&&t.location.origin&&"null"!==t.location.origin)return t.location.origin;try{if("about:"===t.location.protocol){if(!(t.parent&&t.parent.location&&t.parent.location)){var i=t.document.referrer;return new URL(i).origin}return t.parent.location.protocol+"//"+t.parent.location.hostname+(t.parent.location.port?":"+t.parent.location.port:"")}return t.location.protocol+"//"+t.location.hostname+(t.location.port?":"+t.location.port:"")}catch(e){return""}}var p=e("../../utilities"),m=p.unique("paVpaidIframe"),f=e("../VPAIDAdUnit/VPAIDAdUnit"),g=(e("../../../../../../utilities/logger"),e("../../../../../../../../common/resources/messages")),h='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"><\/script><script type="text/javascript">window.top.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', \'{{origin}}\');<\/script></body></html>';n.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,a.call(this))},n.prototype.isDestroyed=function(){return this._destroyed},n.prototype.loadAdUnit=function(e,t,i){function n(t){if(t.origin===d(e)){var n;try{n=JSON.parse(t.data)}catch(e){}if(n){if(n.id!==s.getID())return;var r,a,c;if(s._frame.contentWindow?(c=s._frame.contentWindow.getVPAIDAd,a=p.validate("function"==typeof c,"the ad didn't return a function to create an ad")):a="the iframe is not anymore in the DOM tree",!a){var u=s._frame.contentWindow.document.querySelector(".ad-element");r=new f(c(),u,s._videoEl,s._frame),r.subscribe("AdStopped",o.bind(s)),a=p.validate(r.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")}return s._adUnit=r,l.call(s,e),i(a,a?null:r),!0}}}function r(){i("timeout",null)}if(!this._onLoad){u.call(this),a.call(this);var s=this,c=p.createIframeWithContent(this._frameContainer,this._templateConfig.template,p.extend({iframeURL_JS:t,iframeID:this.getID(),origin:d(e)},this._templateConfig.extraOptions));this._frame=c,this._onLoad=p.callbackTimeout(this._vpaidOptions.timeout,n.bind(this),r.bind(this)),window.addEventListener("message",this._onLoad)}},n.prototype.unloadAdUnit=function(){a.call(this)},n.prototype.getID=function(){return this._id},t.exports={VPAIDHTML5Client:n}},{"../../../../../../../../common/resources/messages":5,"../../../../../../utilities/logger":161,"../../utilities":148,"../VPAIDAdUnit/VPAIDAdUnit":133}],135:[function(e,t,i){"use strict";function n(e){var t,i,n,p,m,f,g,h,v,y,b,w,A,x=e.adUnit,k=e.vpaidSlotFrameDoc,T=e.videoContainerSlot,E=e.duration,C=e.onCancelButtonClick,S=e.onCloseButtonClick;t=document.createElement("h4"),t.setAttribute("class","project_agora"),t.innerHTML="Project Agora Advertising",k.body.insertBefore(t,T),i=k.getElementsByClassName("project_agora")[0],i.style.display="none",k.body.id="frmBody",n=document.createElement("div"),n.setAttribute("id","LBBanner");var I=document.createElement("div");I.setAttribute("id","grayOverLay");var _=document.createElement("div");_.setAttribute("class","timer"),I.appendChild(_),n.style.height=n.clientHeight+-20+"px",n.style.display="none",k.body.insertBefore(n,T),I.style.height="100%",l(n,x,C),n.appendChild(I),p=document.createElement("img"),p.setAttribute("id","PALeaveBehind"),p.style.display="none",p.style.position="relative",p.style.width="100%",p.style.opacity="0.1",p.style.backgroundColor="grey",n.appendChild(p),m=document.createElement("div"),m.setAttribute("class","learn-more-group"),m.style.display="none";var L=document.createElement("div");L.setAttribute("class","learn-more-text"),L.innerHTML="Learn More",n.appendChild(m),r(m),k.getElementById("learnMoreBtnDiv").appendChild(L),f=document.createElement("progress"),f.setAttribute("id","progress-bar"),f.setAttribute("min","0"),f.setAttribute("value","0"),f.setAttribute("max",E),T.appendChild(f),y=k.getElementById("progress-bar"),h=document.createElement("div"),h.setAttribute("class","right-group"),h.setAttribute("style","position:relative;!important"),g=document.createElement("div"),g.setAttribute("class","left-group"),T.appendChild(h),T.appendChild(g),h.style.display="block",c(h,x,S);var M=document.createElement("div");M.setAttribute("class","down-group"),T.appendChild(M);var P=document.createElement("div");return P.setAttribute("class","sound-group"),M.appendChild(P),v=document.createElement("div"),v.setAttribute("class","right-down-group"),M.appendChild(v),v.style.display="none",k.getElementsByClassName("sound-group")[0].className+=" floatRight",o(T),b=k.getElementById("loading"),b.setAttribute("style","display:none"),a(g),s(g),d(P),u(P),w="soundButton",A="soundOffBtn",{projectagora:t,projectAgoraHeading:i,LBBanner:n,leaveBehind:p,LMgroup:m,progressbar:f,LGroup:g,rGroup:h,rdGroup:v,bar:y,loading:b,soundOn:w,soundOff:A}}function r(e){var t=document.createElement("div");t.setAttribute("id","learnMoreBtnDiv"),t.setAttribute("class","button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" id="learnMoreBtn" class="newLMBtn" viewBox="0 -2 32 36"><defs><style>.cls-2{fill:#fff;}</style></defs><title>learn_more_icon-01</title><g id="Layer_1" data-name="Layer 1"><path class="cls-2 cls-a" d="M16,1A15,15,0,1,1,1,16,15,15,0,0,1,16,1m0-1A16,16,0,1,0,32,16,16,16,0,0,0,16,0Z"/><polyline class="cls-2 cls-b" points="14.5 16.4 14.5 22 13 22 13 24 14.5 24 14.5 24 17.5 24 17.5 24 19 24 19 22 17.5 22 17.5 15 17.5 13 14.5 13 13 13 13 15 14.5 15 14.5 16.4"/><rect class="cls-2 cls-c" x="14.5" y="8" width="3" height="3"/></g></svg>',e.appendChild(t)}function o(e){var t=document.createElement("div");t.setAttribute("id","loading"),t.setAttribute("class","button"),t.innerHTML='<svg class="lds-spinner" width="200px"  height="200px"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%;"><g transform="rotate(0 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(30 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(60 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(90 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(120 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(150 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(180 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(210 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(240 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(270 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(300 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate></rect></g><g transform="rotate(330 50 50)"><rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#ffffff"><animate attributeName="opacity" values="1;0" times="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate></rect></g></svg>',e.appendChild(t)}function a(e){var t=document.createElement("div");t.setAttribute("id","playBtnDiv"),t.setAttribute("class","button");var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("id","playBtn"),i.setAttribute("class","playBtn"),i.setAttribute("width","52px"),i.setAttribute("height","52px"),i.setAttribute("viewBox","0 0 52 52"),i.setAttribute("version","1.1"),i.setAttribute("display","none"),t.appendChild(i);var n=document.createElementNS("http://www.w3.org/2000/svg","g");n.setAttribute("id","Page-1"),n.setAttribute("class","playBtn"),n.setAttribute("stroke","none"),n.setAttribute("stroke-width","1"),n.setAttribute("fill","none"),n.setAttribute("fill-rule","evenodd"),i.appendChild(n);var r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("id","In-artical-magic"),r.setAttribute("class","playBtn"),r.setAttribute("transform","translate(-75.000000, -1086.000000)"),n.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id","play"),o.setAttribute("class","playBtn"),o.setAttribute("transform","translate(76.000000, 1087.000000)"),r.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("id","Oval"),a.setAttribute("class","playBtn"),a.setAttribute("stroke","#FFFFFF"),a.setAttribute("fill-opacity","0.06"),a.setAttribute("fill","#000000"),a.setAttribute("cx","25"),a.setAttribute("cy","25"),a.setAttribute("r","25"),o.appendChild(a);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d","M21.3899644,31.6210018 L21.3899644,18.3792386 L29.9083366,24.9994364 L21.3899644,31.6210018 Z M34.258791,23.4883192 L20.6446069,12.9104984 C20.0596602,12.4564795 19.2631371,12.3716928 18.5938364,12.6930616 C17.9259186,13.015798 17.5,13.6872537 17.5,14.4229832 L17.5,35.5772571 C17.5,36.3143542 17.9259186,36.9844424 18.5938364,37.3071787 C18.8634927,37.4357262 19.1538917,37.5 19.4415251,37.5 C19.8715923,37.5 20.296128,37.3605123 20.6446069,37.0883744 L34.258791,26.5132887 C34.7248123,26.1467915 35,25.590208 35,24.9994364 C35,24.4100323 34.7248123,23.8534489 34.258791,23.4883192 L34.258791,23.4883192 Z"),s.setAttribute("id","Fill-1"),s.setAttribute("class","playBtn"),s.setAttribute("fill","#FFFFFF"),o.appendChild(s),e.appendChild(t)}function s(e){var t=document.createElement("div");t.setAttribute("id","pauseBtnDiv"),t.setAttribute("class","button");var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("id","pauseBtn"),i.setAttribute("class","pauseBtn"),i.setAttribute("width","52px"),i.setAttribute("height","52px"),i.setAttribute("viewBox","0 0 52 52"),i.setAttribute("version","1.1"),t.appendChild(i);var n=document.createElementNS("http://www.w3.org/2000/svg","g");n.setAttribute("id","Page-1"),n.setAttribute("class","pauseBtn"),n.setAttribute("stroke","none"),n.setAttribute("stroke-width","1"),n.setAttribute("fill","none"),n.setAttribute("fill-rule","evenodd"),i.appendChild(n);var r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("id","In-artical-magic"),r.setAttribute("class","pauseBtn"),r.setAttribute("transform","translate(-75.000000, -1016.000000)"),n.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id","pause"),o.setAttribute("class","pauseBtn"),o.setAttribute("transform","translate(76.000000, 1017.000000)"),r.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("id","Oval"),a.setAttribute("class","pauseBtn"),a.setAttribute("stroke","#FFFFFF"),a.setAttribute("fill-opacity","0.06"),a.setAttribute("fill","#000000"),a.setAttribute("cx","25"),a.setAttribute("cy","25"),a.setAttribute("r","25"),o.appendChild(a);var s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("id","Group-3"),s.setAttribute("class","pauseBtn"),s.setAttribute("transform","translate(18.000000, 14.000000)"),s.setAttribute("fill","#FFFFFF"),o.appendChild(s);var l=document.createElementNS("http://www.w3.org/2000/svg","rect");l.setAttribute("id","Rectangle-7"),l.setAttribute("class","pauseBtn"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("width","5"),l.setAttribute("height","22"),l.setAttribute("rx","2.5"),s.appendChild(l);var c=document.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("id","Rectangle-7"),c.setAttribute("class","pauseBtn"),c.setAttribute("x","9"),c.setAttribute("y","0"),c.setAttribute("width","5"),c.setAttribute("height","22"),c.setAttribute("rx","2.5"),s.appendChild(c),e.appendChild(t)}function l(e,t,i){var n=document.createElement("div");n.setAttribute("id","closeBtnDiv"),n.setAttribute("class","button"),n.innerHTML='<svg id="closeBtn" class="cancelSvg" width="20px" height="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13"><defs><style>.cls-1{fill:none;stroke:#fff;stroke-width: 2px;stroke-linecap:round;stroke-linejoin:round;}</style></defs><g id="Layer_1" data-name="Layer 1"><polyline class="cls-1" points="0.5 0.5 6.5 6.5 0.5 12.5"/><polyline class="cls-1" points="12.5 0.5 6.5 6.5 12.5 12.5"/></g></svg>',e.appendChild(n),n.addEventListener("click",i)}function c(e,t,i){var n=document.createElement("div");n.setAttribute("id","closeBtnDiv"),n.setAttribute("class","button");var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("id","closeBtn"),r.setAttribute("class","CloseBtn"),r.setAttribute("width","52px"),r.setAttribute("height","52px"),r.setAttribute("viewBox","0 0 52 52"),r.setAttribute("version","1.1"),n.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id","Page-1"),o.setAttribute("class","CloseBtn"),o.setAttribute("stroke","none"),o.setAttribute("stroke-width","1"),o.setAttribute("fill","none"),o.setAttribute("fill-rule","evenodd"),r.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("id","In-artical-magic"),a.setAttribute("class","CloseBtn"),a.setAttribute("transform","translate(-1881.000000, -110.000000)"),a.setAttribute("fill","none"),o.appendChild(a);var s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("id","Group"),s.setAttribute("class","CloseBtn"),s.setAttribute("transform","translate(1882.000000, 111.000000)"),a.appendChild(s);var l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttribute("id","Group-5"),l.setAttribute("class","CloseBtn"),s.appendChild(l);var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d","M25.0728873,0.207676056 C18.468662,0.207676056 12.2623239,2.77950704 7.59330986,7.44922535 C2.92429577,12.1175352 0.351760563,18.3259859 0.351760563,24.9280986 C0.351760563,31.5302113 2.92429577,37.7365493 7.59190141,42.4062676 C12.2623239,47.0773944 18.468662,49.6478169 25.0728873,49.6478169 C31.675,49.6478169 37.8820423,47.0773944 42.5517606,42.4062676 C47.2214789,37.7365493 49.7919014,31.5302113 49.7919014,24.9280986 C49.7919014,18.3259859 47.2214789,12.1175352 42.5517606,7.44922535 C37.8820423,2.77950704 31.675,0.207676056 25.0728873,0.207676056"),c.setAttribute("id","Fill-1"),c.setAttribute("class","CloseBtn"),c.setAttribute("fill-opacity","0.06"),c.setAttribute("fill","#000000");var u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d","M25.0728873,0.207676056 C18.468662,0.207676056 12.2623239,2.77950704 7.59330986,7.44922535 C2.92429577,12.1175352 0.351760563,18.3259859 0.351760563,24.9280986 C0.351760563,31.5302113 2.92429577,37.7365493 7.59190141,42.4062676 C12.2623239,47.0773944 18.468662,49.6478169 25.0728873,49.6478169 C31.675,49.6478169 37.8820423,47.0773944 42.5517606,42.4062676 C47.2214789,37.7365493 49.7919014,31.5302113 49.7919014,24.9280986 C49.7919014,18.3259859 47.2214789,12.1175352 42.5517606,7.44922535 C37.8820423,2.77950704 31.675,0.207676056 25.0728873,0.207676056 Z"),u.setAttribute("id","Stroke-3"),u.setAttribute("class","CloseBtn"),u.setAttribute("stroke","#FFFFFF"),l.appendChild(c),l.appendChild(u);var d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d","M15.3904139,34.6088993 C15.6506898,34.869159 15.9920353,35 16.3326696,35 C16.6740151,35 17.0153605,34.869159 17.2756365,34.6088993 L25,26.8857275 L32.7243635,34.6088993 C32.9846395,34.869159 33.3259849,35 33.6673304,35 C34.0079647,35 34.3493102,34.869159 34.6095861,34.6088993 C35.130138,34.089091 35.130138,33.2443135 34.6095861,32.723794 L26.8859337,24.9999111 L34.6095861,17.2760282 C35.130138,16.7562198 35.130138,15.9114424 34.6095861,15.3909229 C34.0890343,14.8696924 33.2449154,14.8696924 32.7243635,15.3909229 L25,23.1140947 L17.2756365,15.3909229 C16.7543735,14.8696924 15.9109657,14.8696924 15.3904139,15.3909229 C14.869862,15.9114424 14.869862,16.7562198 15.3904139,17.2760282 L23.1147774,24.9999111 L15.3904139,32.723794 C14.869862,33.2443135 14.869862,34.089091 15.3904139,34.6088993"),d.setAttribute("id","Fill-7"),d.setAttribute("class","CloseBtn"),d.setAttribute("fill","#FFFFFF"),s.appendChild(d),e.appendChild(n),n.addEventListener("click",i)}function u(e){var t=document.createElement("div");t.setAttribute("id","soundBtnDiv"),t.setAttribute("class","button"),t.setAttribute("margin","10px");var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("id","soundButton"),i.setAttribute("class","soundButton"),i.setAttribute("width","42px"),i.setAttribute("height","42px"),i.setAttribute("viewBox","0 0 42 42"),i.setAttribute("version","1.1"),t.appendChild(i),i.setAttribute("display","none");var n=document.createElementNS("http://www.w3.org/2000/svg","g");n.setAttribute("id","style"),n.setAttribute("class","soundButton"),n.setAttribute("stroke","none"),n.setAttribute("stroke-width","1"),n.setAttribute("fill","none"),n.setAttribute("fill-rule","evenodd"),i.appendChild(n);var r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("id","group1"),r.setAttribute("class","soundButton"),r.setAttribute("transform","translate(-63.000000, -605.000000)"),n.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id","Group-10"),o.setAttribute("class","soundButton"),o.setAttribute("transform","translate(64.000000, 606.000000)"),r.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("id","Oval"),a.setAttribute("class","soundButton"),a.setAttribute("stroke","#FFFFFF"),a.setAttribute("fill-opacity","0.06"),a.setAttribute("fill","#000000"),a.setAttribute("cx","20"),a.setAttribute("cy","20"),a.setAttribute("r","20"),o.appendChild(a);var s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("id","Page-1"),s.setAttribute("class","soundButton"),s.setAttribute("transform","translate(10.000000, 10.000000)"),s.setAttribute("fill","#FFFFFF"),o.appendChild(s);var l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttribute("id","Group-3"),l.setAttribute("class","soundButton"),l.setAttribute("transform","translate(0.000000, 0.438295)"),l.setAttribute("stroke","#FFFFFF"),l.setAttribute("stroke-width","0.3"),s.appendChild(l);var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d","M5.16826047,11.55 C4.80142326,11.55 4.50263256,11.8712 4.50263256,12.26555 L4.50263256,13.7478 L1.33105116,13.75 L1.33105116,6.82165 L4.50263256,6.82165 L4.50263256,8.3061 C4.50263256,8.70045 4.80142326,9.02165 5.16826047,9.02165 C5.53407442,9.02165 5.83184186,8.70045 5.83184186,8.3061 L5.83184186,6.43775 L11.2034233,1.55265 C11.2648186,1.52625 11.330307,1.55265 11.3533302,1.56695 C11.4208651,1.6082 11.4597488,1.6841 11.4597488,1.77485 L11.4597488,19.23735 C11.4597488,19.3281 11.4208651,19.40345 11.352307,19.44525 C11.3344,19.4568 11.2699349,19.4843 11.2121209,19.46175 L5.83184186,14.1504 L5.83184186,12.26555 C5.83184186,11.8712 5.53407442,11.55 5.16826047,11.55 M12.0071907,0.32175 C11.5380279,0.03575 10.9598884,0.03795 10.4743535,0.35145 C10.4477488,0.37015 10.4216558,0.3905 10.3991442,0.41085 L4.92421395,5.39055 L0.665423256,5.39055 C0.298586047,5.39055 -0.000204651163,5.71175 -0.000204651163,6.1061 L-0.000204651163,14.46555 C-0.000204651163,14.6553 0.0688651163,14.83515 0.198306977,14.97595 C0.326213953,15.1085 0.491981395,15.1811 0.665423256,15.1811 L4.90886512,15.1789 L10.3884,20.59035 C10.4211442,20.61895 10.4538884,20.64535 10.4840744,20.6646 C10.7209581,20.81915 10.990586,20.9 11.2637953,20.9 C11.5231907,20.9 11.7800279,20.82685 12.0066791,20.6888 C12.4973302,20.39235 12.790493,19.85005 12.790493,19.23735 L12.790493,1.77485 C12.790493,1.16325 12.4978419,0.61985 12.0071907,0.32175"),c.setAttribute("id","Fill-1"),c.setAttribute("class","soundButton"),l.appendChild(c);var u=document.createElementNS("http://www.w3.org/2000/svg","g");u.setAttribute("id","Group-6"),u.setAttribute("class","soundButton"),u.setAttribute("transform","translate(15.348837, 2.088295)"),s.appendChild(u)
;var d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d","M0.787446512,0.518045 C0.573586047,0.440495 0.339772093,0.565345 0.267632558,0.795245 C0.19395814,1.025145 0.309586047,1.274295 0.523446512,1.353495 C3.42949302,2.412795 5.38186512,5.340995 5.38186512,8.636595 C5.38186512,11.928345 3.43358605,14.856545 0.53367907,15.920795 C0.319818605,15.997245 0.20367907,16.248595 0.277865116,16.478495 C0.33567907,16.661095 0.495818605,16.777145 0.66567907,16.777145 C0.70967907,16.777145 0.75367907,16.769445 0.79767907,16.753495 C4.02912093,15.567695 6.20149302,12.306195 6.20149302,8.636595 C6.20149302,4.963145 4.02502791,1.701645 0.787446512,0.518045"),d.setAttribute("id","Fill-4"),d.setAttribute("class","soundButton"),u.appendChild(d);var p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d","M17.8670186,10.722855 C17.8670186,8.095505 16.2262279,5.751405 13.8758093,5.021005 C13.6578558,4.954455 13.4322279,5.087555 13.3703209,5.321855 C13.3063674,5.553955 13.4322279,5.798705 13.6501814,5.865805 C15.6506465,6.488405 17.0473907,8.486555 17.0473907,10.722855 C17.0473907,12.961355 15.6506465,14.960605 13.6501814,15.581555 C13.4322279,15.650305 13.3063674,15.891755 13.3703209,16.126055 C13.4219953,16.319655 13.5841814,16.443955 13.7622279,16.443955 C13.8000884,16.443955 13.8379488,16.437905 13.8758093,16.428005 C16.2262279,15.697605 17.8670186,13.350205 17.8670186,10.722855"),p.setAttribute("id","Fill-7"),p.setAttribute("class","soundButton"),s.appendChild(p),e.appendChild(t)}function d(e){var t=document.createElement("div");t.setAttribute("id","soundOffDiv"),t.setAttribute("class","button"),t.setAttribute("margin","10px");var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("id","soundOffBtn"),i.setAttribute("class","soundOffBtn"),i.setAttribute("width","42px"),i.setAttribute("height","42px"),i.setAttribute("viewBox","0 0 42 42"),i.setAttribute("version","1.1"),t.appendChild(i);var n=document.createElementNS("http://www.w3.org/2000/svg","g");n.setAttribute("id","style"),n.setAttribute("class","soundOffBtn"),n.setAttribute("stroke","none"),n.setAttribute("stroke-width","1"),n.setAttribute("fill","none"),n.setAttribute("fill-rule","evenodd"),i.appendChild(n);var r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("id","group1"),r.setAttribute("class","soundOffBtn"),r.setAttribute("transform","translate(-63.000000, -560.000000)"),n.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("id","Group-5"),o.setAttribute("class","soundOffBtn"),o.setAttribute("transform","translate(64.000000, 561.000000)"),r.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("id","Oval"),a.setAttribute("class","soundOffBtn"),a.setAttribute("stroke","#FFFFFF"),a.setAttribute("fill-opacity","0.06"),a.setAttribute("fill","#000000"),a.setAttribute("cx","20"),a.setAttribute("cy","20"),a.setAttribute("r","20"),o.appendChild(a);var s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("id","Page-1"),s.setAttribute("class","soundOffBtn"),s.setAttribute("transform","translate(12.000000, 8.000000)"),s.setAttribute("fill","#FEFEFE"),o.appendChild(s);var l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttribute("id","Group-3"),l.setAttribute("class","soundOffBtn"),l.setAttribute("transform","translate(0.000000, 1.666473)"),l.setAttribute("stroke","#FFFFFF"),l.setAttribute("stroke-width","0.3"),s.appendChild(l);var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d","M6.21703636,14.1807273 L6.21703636,12.312 C6.21703636,11.9209091 5.89958182,11.6023636 5.51012727,11.6023636 C5.11903636,11.6023636 4.80049091,11.9209091 4.80049091,12.312 L4.80049091,13.7825455 L1.41921818,13.7841818 L1.41921818,6.91090909 L4.80049091,6.91090909 L4.80049091,8.38527273 C4.80049091,8.77527273 5.11903636,9.09272727 5.51012727,9.09272727 C5.89958182,9.09272727 6.21703636,8.77527273 6.21703636,8.38527273 L6.21703636,6.53236364 L11.9443091,1.68763636 C12.0097636,1.662 12.0795818,1.68818182 12.1035818,1.70181818 C12.1755818,1.74272727 12.2170364,1.81745455 12.2170364,1.908 L12.2170364,4.83661818 L13.6363091,2.33352727 L13.6363091,1.908 C13.6363091,1.30145455 13.3243091,0.762545455 12.8012182,0.466909091 C12.3004909,0.182727273 11.6846727,0.185454545 11.1670364,0.496363636 C11.1386727,0.514909091 11.1103091,0.535090909 11.0863091,0.555272727 L5.25049091,5.49381818 L0.709581818,5.49381818 C0.318490909,5.49381818 -5.45454545e-05,5.81236364 -5.45454545e-05,6.20345455 L-5.45454545e-05,14.4938182 C-5.45454545e-05,14.6825455 0.0730363636,14.8609091 0.211036364,15 C0.3474,15.1309091 0.524672727,15.2034545 0.709581818,15.2034545 L5.23303636,15.2012727 L6.10030909,15.7598182 L6.81812727,14.4938182 L6.21703636,14.1807273 Z"),c.setAttribute("id","Fill-1"),c.setAttribute("class","soundOffBtn"),l.appendChild(c);var u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d","M12.2173091,20.8926545 C12.2173091,20.9826545 12.1758545,21.0579273 12.1114909,21.0944727 C12.0536727,21.1250182 12.0051273,21.1321091 11.9533091,21.1152 L9,18 L8.28272727,19.2665455 L11.0751273,22.2350182 C11.1084,22.2628364 11.1422182,22.2873818 11.1771273,22.3086545 C11.4296727,22.4613818 11.7171273,22.5415636 12.0084,22.5415636 C12.2849455,22.5415636 12.5587636,22.4695636 12.8004,22.3326545 C13.3234909,22.0386545 13.6365818,21.5002909 13.6365818,20.8926545 L13.6365818,10 L12.2173091,12.5036364 L12.2173091,20.8926545 Z"),u.setAttribute("id","Fill-4"),u.setAttribute("class","soundOffBtn"),u.setAttribute("stroke","#FFFFFF"),u.setAttribute("stroke-width","0.3"),s.appendChild(u);var d=document.createElementNS("http://www.w3.org/2000/svg","g");d.setAttribute("id","Group-8"),d.setAttribute("class","soundOffBtn"),d.setAttribute("transform","translate(3.818182, 0.030109)"),s.appendChild(d);var p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d","M13.0456364,0.515345455 C12.8116364,0.515345455 12.5945455,0.641890909 12.4783636,0.845890909 L0.211636364,22.4840727 C0.125454545,22.6346182 0.103636364,22.8108 0.150545455,22.9782545 C0.196909091,23.1457091 0.306,23.2848 0.456545455,23.3693455 C0.549818182,23.4228 0.649636364,23.4506182 0.755454545,23.4538909 L0.778363636,23.4544364 C1.01181818,23.4544364 1.22890909,23.3284364 1.34454545,23.1249818 L13.6112727,1.48734545 C13.6969091,1.33625455 13.7187273,1.16116364 13.6729091,0.994254545 C13.6265455,0.826254545 13.5174545,0.686072727 13.3658182,0.600436364 C13.2676364,0.5448 13.1569091,0.515345455 13.0456364,0.515345455"),p.setAttribute("id","Fill-6"),p.setAttribute("class","soundOffBtn"),d.appendChild(p),e.appendChild(t)}t.exports={run:n}},{}],136:[function(e,t,i){"use strict";function n(){this._subscribers={}}n.prototype.subscribe=function(e,t,i){this.isHandlerAttached(e,t)||this.get(t).push({handler:e,context:i,eventName:t})},n.prototype.unsubscribe=function(e,t){this._subscribers[t]=this.get(t).filter(function(t){return e!==t.handler})},n.prototype.unsubscribeAll=function(){this._subscribers={}},n.prototype.trigger=function(e,t){var i=this;this.get(e).concat(this.get("*")).forEach(function(e){setTimeout(function(){i.isHandlerAttached(e.handler,e.eventName)&&e.handler.call(e.context,t)},0)})},n.prototype.triggerSync=function(e,t){this.get(e).concat(this.get("*")).forEach(function(e){e.handler.call(e.context,t)})},n.prototype.get=function(e){return this._subscribers[e]||(this._subscribers[e]=[]),this._subscribers[e]},n.prototype.isHandlerAttached=function(e,t){return this.get(t).some(function(t){return e===t.handler})},t.exports=n},{}],137:[function(e,t,i){function n(e,t){var i=e.XMLHttpRequest.prototype.open;e.XMLHttpRequest.prototype.open=function(e,n){this.addEventListener("load",function(){t(this.responseText,n)}),i.apply(this,arguments)}}t.exports=n},{}],138:[function(e,t,i){"use strict";function n(e,t,i){var n=setTimeout(function(){"function"==typeof i&&i()},e);return function(){"function"==typeof t&&t.apply(this,arguments)&&clearTimeout(n)}}t.exports=n},{}],139:[function(e,t,i){"use strict";function n(e,t){if(t=t||"jpeg",!e||"png"!==t&&"jpeg"!==t)return!1;var i=document.createElement("CANVAS");i.width=e.videoWidth||e.clientWidth,i.height=e.videoHeight||e.clientHeight,i.getContext("2d").drawImage(e,0,0);for(var n=i.toDataURL(),r=n.split(",")[1],o=n.split(";")[0].slice(5),a=window.atob(r),s=new ArrayBuffer(a.length),l=new Uint8Array(s),c=0;c<a.length;c++)l[c]=a.charCodeAt(c);return{blob:new Blob([l],{type:o}),dataUri:n,format:t}}t.exports=n},{}],140:[function(e,t,i){"use strict";function n(e,t,i){var n=document.createElement(t);return i&&(n.id=i),e.appendChild(n),n}t.exports=n},{}],141:[function(e,t,i){"use strict";function n(e,t,i){var n=r(e,null,i.zIndex);if(s(n,o(t,i)))return n}function r(e,t,i){var n=document.createElement("iframe");return n.src=t||"about:blank",n.name="pa_vpaid_iframe",n.marginWidth="0",n.marginHeight="0",n.frameBorder="0",n.width="100%",n.height="100%",a(n),i&&(n.style.zIndex=i),n.setAttribute("SCROLLING","NO"),n.setAttribute("allowfullscreen","true"),e.innerHTML="",e.appendChild(n),n}function o(e,t){return Object.keys(t).forEach(function(i){var n="object"==typeof n?JSON.stringify(t[i]):t[i];e=e.replace(new RegExp("{{"+i+"}}","g"),n)}),e}var a=e("./setFullSizeStyle"),s=e("../../../../../../../../common/utilities/domManipulation/setIframeContent");t.exports=n},{"../../../../../../../../common/utilities/domManipulation/setIframeContent":21,"./setFullSizeStyle":145}],142:[function(e,t,i){"use strict";function n(e,t){return Object.keys(t).forEach(function(i){e[i]=t[i]}),e}t.exports=n},{}],143:[function(e,t,i){"use strict";function n(e,t){var i=e.getBoundingClientRect(),n=i.top,r=i.bottom,o=r-n,a=null;return n>=0&&r>=0&&(a=t>r?100:100-(r-t)/o*100),n<0&&(a=100*(n+o)/o),a=Math.floor(a)}t.exports=n},{}],144:[function(e,t,i){"use strict";function n(e){var t,i,n,s,l={},c=/<MediaFiles>([^]+)<\/MediaFiles>/g,u=null;if(c.test(e)){var d=e.match(c),p=/http([^"]+).(mp4)/g;u=d[0].match(p)}var m=/<VideoClicks>([^"]+)<\/VideoClicks>/g;if(m.test(e)){t=e.match(m),i=r(t[0]).replace(/\s/g,""),s=o(i);for(var f in s)s[f].exists&&(l[f]=a(s[f],i))}return n=e?/MediaMind/.test(e)?"Sizmek":/DCM/.test(e)?"DCM":/<AdSystem>gDE<\/AdSystem>|adocean|gemius/.test(e)?"Gemius":/talos\.adman|ADMAN/.test(e)?"Adman":/stickyadstv|STICKY ?ADS/.test(e)?"StickyAds":/<AdSystem>DBM<\/AdSystem>/.test(e)?"DBM":"Unknown":null,{ThrirdPartyClickThrough:l.ClickThrough,ThrirdPartyClickTracking:l.ClickTracking,ThrirdPartyCustomClick:l.CustomClick,ThrirdPartyMP4:u,ThrdPartyProvider:n}}function r(e){var t=e.replace(/(\r\n|\n|\r)/gm,"<1br />"),i=/<1br \/><1br \/>/gi,n=/\<1br \/>/gi,r=/\s+/g,o=/<2br \/>/gi;return t=t.replace(i," "),t=t.replace(n," "),t=t.replace(r," "),t=t.replace(o,"\n\n")}function o(e){var t={ClickThrough:{open:"<ClickThrough>",close:"</ClickThrough>",exists:!1},ClickTracking:{open:"<ClickTracking>",close:"</ClickTracking>",exists:!1},CustomClick:{open:"<CustomClick>",close:"</CustomClick>",exists:!1}};for(var i in t)t[i].exists=-1!==e.indexOf(t[i].open);return t}function a(e,t){var i,n,r,o,a;return i=t.indexOf(e.open),n=t.indexOf(e.close),r=i+e.open.length,o=n,a=t.slice(r,o),a.replace("<![CDATA[","").replace("]]>","")}t.exports=n},{}],145:[function(e,t,i){"use strict";function n(e){e&&(e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.margin="0px",e.style.padding="0px",e.style.border="none",e.style.width="100%",e.style.height="100%")}t.exports=n},{}],146:[function(e,t,i){"use strict";function n(e){var t=-1;return function(){return e+"_"+ ++t}}t.exports=n},{}],147:[function(e,t,i){"use strict";function n(e,t){return e?null:new Error(t)}t.exports=n},{}],148:[function(e,t,i){"use strict";var n=e("./functions/validate"),r=e("./functions/callbackTimeout"),o=e("./functions/createElementInEl"),a=e("./functions/createIframeWithContent"),s=e("./functions/setFullSizeStyle"),l=e("./functions/unique"),c=e("./functions/extend");t.exports={validate:n,callbackTimeout:r,createElementInEl:o,createIframeWithContent:a,setFullSizeStyle:s,extend:c,unique:l}},{"./functions/callbackTimeout":138,"./functions/createElementInEl":140,"./functions/createIframeWithContent":141,"./functions/extend":142,"./functions/setFullSizeStyle":145,"./functions/unique":146,"./functions/validate":147}],149:[function(e,t,i){"use strict";function n(){return"#LBBanner:hover, #LEAVE-BEHIND:hover, #VpaidVideo:hover, #closeButtonContainer, #videoContainer:hover, #videoad:hover, .learn-more-text:hover, .project_agora:hover, div svg#closeBtn:hover #Fill-6, div svg#closeBtn:hover #Stroke-3, div svg#expandBtn:hover #Fill-10, div svg#expandBtn:hover #Fill-12, div svg#expandBtn:hover #Fill-6, div svg#expandBtn:hover #Fill-8, div svg#pauseBtn:hover #Group-3, div svg#playBtn:hover #Fill-1 { cursor: pointer } #cancelBtn, #closeBtnDiv, #resize-full, #videoad { z-index: 10 } #videoContainer { z-index: 999; width: 100%; -webkit-overflow-scrolling: auto } .project_agora { font-size: 12px !important; height: 12px; text-transform: unset !important; background-color: transparent; vertical-align: bottom; font-family: system-ui, sans-serif; font-weight: 400; text-align: center; color: #747474 !important; margin-top: 2px !important; margin-bottom: 7px !important } .left-group, .sound-group, .timer { width: 35px; height: 35px; position: absolute } .project_agora:hover { color: #d84820 !important; padding: unset !important; font-weight: 700 !important; overflow: unset !important; -webkit-font-smoothing: antialiased; line-height: unset !important; font-size: 12px !important } .learn-more-text, .timer { font-size: 18px; font-family: system-ui, sans-serif; color: #fff } #VpaidVideo { position: absolute; -webkit-overflow-scrolling: auto } .sound-group { float: right; bottom: 3% } .floatLeft { left: 5% } .floatRight { right: 5% } .timer { left: 0; bottom: 0 } .left-group { bottom: 2%; left: .8% } #LBBanner { position: fixed; left: 0; width: 100%; height: 100%; text-align: right } #loading { position: absolute; display: none } .lds-spinner { width: 100px !important; height: 100px !important } @media only screen and (min-width: 420px) { #loading { top: 35%; right: 40% } } @media only screen and (max-width: 420px) { #loading { top: 25%; right: 35% } } .learn-more-group { padding: 5px; border-radius: 5px; position: fixed; width: 100% } #LBBanner #closeBtnDiv, #closeBtnDiv, #closeButtonContainer, #grayOverLay, .down-group, .learn-more-text, .right-down-group, .right-group, progress { position: absolute } @media only screen and (min-width: 600px) { .learn-more-group { right: 19%; top: 85% } } @media only screen and (max-width: 600px) and (min-width: 420px) { .learn-more-group { right: 25%; top: 85% } } @media only screen and (max-width: 420px) and (min-width: 350px) { .learn-more-group { right: 40%; top: 80% } } @media only screen and (max-width: 350px) { .learn-more-group { right: 45%; top: 75% } } #grayOverLay { background: gray; opacity: 1; width: 100%; height: 94% } .learn-more-text { top: 8px; margin: 2px; bottom: 6px; font-weight: 700; width: 130px; text-align: left } .learn-more-group, .learn-more-text { display: inline } .refresh { top: -4.8vh !important } .refresh_ring { width: 4.6vw !important } #LEAVE-BEHIND { fill: #fff } .button svg { width: 35px; height: 35px } #learnMoreBtn svg { width: 40px !important; height: 40px !important } #closeBtnDiv { top: 3%; right: 2% } div svg#closeBtn #Fill-1, div svg#pauseBtn #Oval, div svg#playBtn #Oval { background-color: rgba(0, 0, 0, .06); border: 1px solid #FFF } div svg#pauseBtn #Fill-1, div svg#playBtn #Fill-1 { fill: #fff } circle #Oval pauseBtn, circle #Oval playBtn, div svg#closeBtn:hover #Fill-1, div svg#expandBtn:hover #Fill-1, div svg#pauseBtn:hover #Oval, div svg#playBtn:hover #Oval { fill-opacity: .2; cursor: pointer } #LBBanner #closeBtnDiv { top: 4.2%; z-index: 10; right: 3% } #mute { right: 5vw; bottom: 0 } #bannerFooter > a#expandBtn { color: #b2b2b2; font-family: system-ui, sans-serif; font-size: 12px; direction: ltr !important } .IIV::-webkit-media-controls-play-button, .IIV::-webkit-media-controls-start-playback-button, video::-webkit-media-controls-play-button, video::-webkit-media-controls-start-playback-button { opacity: 0; pointer-events: none; width: 5px } #volume-off { position: absolute; bottom: 10px; right: 40px; height: 33px; width: 33px; z-index: 5; direction: ltr !important } @media (max-width: 420px) { #mute { right: 0 } #volume-off { height: 28px; width: 26px; right: 16vh; padding-right: 5px; z-index: 5; direction: ltr !important } } #closeButtonContainer { height: 100%; width: 100%; top: 0; cursor: hand } .down-group { width: 80px; height: 35px; bottom: 2%; right: .6% } #cancel, #resize-full { height: 33px; width: 33px; direction: ltr !important } .right-group { float: right; margin-top: unset !important; line-height: unset; right: 1%; top: 1.5% } .right-down-group { float: right; bottom: 3%; right: 3% } #cancel, #cancelBtn, #resize-full, #volume-offBtn { position: relative } .no-select { -webkit-touch-callout: none !important; -webkit-user-drag: none !important; -webkit-user-select: none !important; -khtml-user-select: none !important; -moz-user-select: none !important; user-select: none !important; -webkit-tap-highlight-color: transparent !important } #volume-offBtn { z-index: 4 } #resize-full { bottom: 10px; right: 2vw } #cancel { display: inline-block } @media (max-width: 420px) { #resize-full { height: 28px; width: 26px; direction: ltr !important } #cancel { height: 26px; width: 26px; direction: ltr !important } } #progress-bar { direction: ltr !important } progress, progress[role] { appearance: none; -moz-appearance: none; -webkit-appearance: none; border: none; background-size: auto } progress { width: 100%; height: 3px; border: none; bottom: 0; left: 0; color: #f15a29 } progress, progress[role][aria-valuenow] { background: #1DACEE !important } progress::-webkit-progress-bar { background: #1DACEE } progress::-moz-progress-bar { background: #f15a29 } progress::-webkit-progress-value { background: #f15a29 } progress[aria-valuenow]:before { background: #f15a29 } .fs { height: 100% !important; width: 100% !important } .cancelSvg { z-index: 10 !important; height: 14px !important; width: 14px !important } .cancelSvg:hover { z-index: 10 !important; cursor: pointer } .newLMBtn { width: 35px !important; height: 30px !important } .newLMBtn:hover { cursor: pointer }"}function r(){return"#loading, #videoContainer { position: absolute } #volume-offBtn, .icon-ccw, .tip { z-index: 99 } body { margin: 0 } .animate-spin { -moz-animation: spin 2s infinite linear; -o-animation: spin 2s infinite linear; -webkit-animation: spin 2s infinite linear; animation: spin 2s infinite linear; display: inline-block } @-moz-keyframes spin { 0% { -moz-transform: rotate(0); -o-transform: rotate(0); -webkit-transform: rotate(0); transform: rotate(0) } 100% { -moz-transform: rotate(359deg); -o-transform: rotate(359deg); -webkit-transform: rotate(359deg); transform: rotate(359deg) } } @-webkit-keyframes spin { 0% { -moz-transform: rotate(0); -o-transform: rotate(0); -webkit-transform: rotate(0); transform: rotate(0) } 100% { -moz-transform: rotate(359deg); -o-transform: rotate(359deg); -webkit-transform: rotate(359deg); transform: rotate(359deg) } } @-o-keyframes spin { 0% { -moz-transform: rotate(0); -o-transform: rotate(0); -webkit-transform: rotate(0); transform: rotate(0) } 100% { -moz-transform: rotate(359deg); -o-transform: rotate(359deg); -webkit-transform: rotate(359deg); transform: rotate(359deg) } } @-ms-keyframes spin { 0% { -moz-transform: rotate(0); -o-transform: rotate(0); -webkit-transform: rotate(0); transform: rotate(0) } 100% { -moz-transform: rotate(359deg); -o-transform: rotate(359deg); -webkit-transform: rotate(359deg); transform: rotate(359deg) } } @keyframes spin { 0% { -moz-transform: rotate(0); -o-transform: rotate(0); -webkit-transform: rotate(0); transform: rotate(0) } 100% { -moz-transform: rotate(359deg); -o-transform: rotate(359deg); -webkit-transform: rotate(359deg); transform: rotate(359deg) } } @-webkit-keyframes ani { 0% { -webkit-transform: scale(.01); opacity: 0 } 1% { -webkit-transform: scale(.01); opacity: .8 } 95% { -webkit-transform: scale(1); opacity: .8 } 100% { -webkit-transform: scale(1); opacity: 0 } } @keyframes ani { 0% { transform: scale(.01); opacity: 0 } 1% { transform: scale(.01); opacity: .8 } 95% { transform: scale(1); opacity: .8 } 100% { transform: scale(1); opacity: 0 } } @font-face { font-family: magic; src: url(//projectagora.net/libs/fonts/magic.eot?63056309); src: url(//projectagora.net/libs/fonts/magic.eot?63056309#iefix) format('embedded-opentype'), url(//projectagora.net/libs/fonts/magic.woff?63056309) format('woff'), url(//projectagora.net/libs/fonts/magic.ttf?63056309) format('truetype'), url(//projectagora.net/libs/fonts/magic.svg?63056309#magic) format('svg'); font-weight: 400; font-style: normal } .project_agora { margin: 0 auto; width: 100%; font-size: 12px; height: 12px; line-height: 13px } #videoad { direction: ltr !important; position: relative; margin: 0 auto; padding: 0; max-width: 600px; overflow: hidden } video { max-width: 100% } @media screen { #videoContainer { position: relative; cursor: initial } } #loading { display: none } .lds-spinner { width: 100px !important; height: 100px !important } @media only screen and (min-width: 420px) { #loading { top: 35%; right: 40% } } @media only screen and (max-width: 420px) { #loading { top: 25%; right: 35% } } #closeButtonContainer { height: 100%; width: 100%; position: absolute; top: 0; cursor: pointer; cursor: hand } .right-group { position: relative; float: right } .right-down-group { position: fixed; float: right; bottom: 0; right: 0 } .PA_line, .ring, .tip { position: absolute } .project_agora { background-color: #fff; vertical-align: bottom; font-family: system-ui, sans-serif!important; text-align: center; color: #747474; margin-top: 2px; margin-bottom: 7px; font-weight: 400 } .project_agora:hover { cursor: pointer; color: #d84820; font-weight: 700; -webkit-font-smoothing: antialiased } .PA_icon, .demo-icon { font-style: normal; font-weight: 400; text-align: center; font-variant: normal; text-transform: none; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale } .PA_icon { font-size: 26px; width: 33px; font-family: magic; display: inline-block; text-decoration: inherit; margin-right: .2em; line-height: 1.2em; color: #D2D2D2; background-color: #000; opacity: .6; border-radius: 4px } @media (max-width: 420px) { .PA_icon { font-family: magic; font-size: 22px; line-height: 1.34em; height: 100%; vertical-align: middle; color: #D2D2D2; background-color: #000; opacity: .6; border-radius: 4px; width: 26px; text-align: center } } .icon-ccw { font-size: 16px } .PAicon-cancel:hover, .PAicon-resize-full:hover, .PAicon-volume-off:hover { color: #fff; background-color: #F59100; opacity: 1 } .icon-twitter:hover { color: #fff; background-color: #1da1f2; opacity: 1 } .icon-facebook:hover { color: #fff; background-color: #4c66a4; opacity: 1 } .left-social { margin-right: 2vw; margin-top: 15px } @media (max-width: 440px) { .left-social { margin-top: 5px } } .tip { display: none; font-size: 10px; font-family: system-ui, sans-serif; background-color: #000; color: #fff; opacity: .6; padding-left: 5px; padding-right: 5px } #cancel, #facebook, #twitter, .PA_animate { display: inline-block } .icon-ccw, .icon-ccw:hover { color: #b2b2b2; background-color: transparent } .icon-ccw { margin-right: 5px; margin-left: 0; margin-bottom: 1px; opacity: 1 } .ring { width: 4.6vw; line-height: 24px; border-radius: 50%; background-color: transparent; -webkit-animation-name: ani; -webkit-animation-iteration-count: infinite; -webkit-animation-timing-function: linear; -webkit-animation-duration: 3s; -webkit-animation-direction: normal; animation-name: ani; animation-iteration-count: infinite; animation-timing-function: linear; animation-duration: 3s; animation-direction: normal; border-top: .5vw solid transparent; border-right: .5vw solid #D2D2D2; border-bottom: .5vw solid transparent; opacity: .6; top: 2px; left: 8px; height: 24px } @media (orientation: landscape) { .ring { width: 4.6vw; line-height: 24px; border-radius: 50%; position: absolute; background-color: transparent; -webkit-animation-name: ani; -webkit-animation-iteration-count: infinite; -webkit-animation-timing-function: linear; -webkit-animation-duration: 3s; -webkit-animation-direction: normal; animation-name: ani; animation-iteration-count: infinite; animation-timing-function: linear; animation-duration: 3s; animation-direction: normal; border-top: .5vw solid transparent; border-right: .5vw solid #D2D2D2; border-bottom: .5vw solid transparent; opacity: .6; top: 2px; left: 5px; height: 24px } } .PA_line { width: 69%; height: 100%; border-bottom: 3px solid #D2D2D2; -webkit-transform: rotate(-47deg); transform: rotate(-47deg); bottom: 1.5vh; right: 3vw; z-index: 2; opacity: .9 } @media (orientation: landscape) { .PA_line { width: 69%; height: 100%; border-bottom: 3px solid #D2D2D2; -webkit-transform: rotate(-47deg); transform: rotate(-47deg); position: absolute; top: -3.8vh; left: -4px; z-index: 5 } } #banner, #cancel, #facebook, #twitter { position: relative } @media (min-device-width: 700px) and (max-device-width: 1024px) and (orientation: portrait) { .line { bottom: 1.1vh; right: 2vw } .ring { width: 3.2vw; height: 25px; z-index: 10 } } #resize-full, #volume-off { bottom: 10px; position: absolute } @media (min-device-width: 700px) and (max-device-width: 1024px) and (orientation: landscape) { .line { top: -1.8vh; left: -6px } .ring { width: 2.7vw; height: 25px; z-index: 10 } } #mute { position: absolute; right: 5vw; bottom: 0; height: 33px; width: 33px } @media (max-width: 420px) { #mute { right: 8vw; height: 28px; width: 26px } } #r1 { -webkit-animation-delay: -1s; animation-delay: -1s } #r2 { -webkit-animation-delay: -2s; animation-delay: -2s } #r3 { -webkit-animation-delay: -3s; animation-delay: -3s } .PA_animate { animation: 2s linear 0s normal none infinite spin; vertical-align: middle; font-size: 11vw; color: #fff; padding: 20px } #cancelBtn, #ccwBtn, #facebookBtn, #twitterBtn { line-height: 1.3em } .IIV::-webkit-media-controls-play-button, .IIV::-webkit-media-controls-start-playback-button, video::-webkit-media-controls-play-button, video::-webkit-media-controls-start-playback-button { opacity: 0; pointer-events: none; width: 5px } #cancel, #facebook, #resize-full, #twitter, #volume-off { height: 33px; width: 33px } .no-select { -webkit-touch-callout: none !important; -webkit-user-drag: none !important; -webkit-user-select: none !important; -khtml-user-select: none !important; -moz-user-select: none !important; user-select: none !important; -webkit-tap-highlight-color: transparent !important } #banner { padding: 10px; max-height: 100%; max-width: 500px; clear: both; overflow: hidden; transition: background .3s linear; -webkit-transition: background .3s linear; background-color: #fff; margin: 0 auto } #banner h3 { font-size: 16px; padding-bottom: 10px; text-decoration: none } #banner p { font-size: 1.167em } #bannerFooter:hover { cursor: pointer } .refresh { font-size: 12 } #resize-full { right: 2vw } #volume-off { right: 40px } @media (max-width: 420px) { #cancelBtn, #ccwBtn, #facebookBtn, #twitterBtn { line-height: 1.2em } #cancel, #facebook, #twitter { height: 26px; width: 26px } #resize-full { height: 28px; width: 26px } #volume-off { height: 28px; width: 26px; right: 6vh } } progress, progress[role] { appearance: none; -moz-appearance: none; -webkit-appearance: none; border: none; background-size: auto } progress { width: 100%; height: 3px; border: none; position: absolute; bottom: 1px; left: 0; color: #f15a29 } progress, progress[role][aria-valuenow] { background: #1DACEE !important } #progress-bar { position: relative } progress::-webkit-progress-bar { background: #1DACEE } progress::-moz-progress-bar { background: #f15a29 } progress::-webkit-progress-value { background: #f15a29 } progress[aria-valuenow]:before { background: #f15a29 } #bannerFooter > a#expandBtn { color: #b2b2b2; font-family: system-ui, sans-serif; font-size: 12px; direction: ltr !important } .see-again { background-size: 26px 26px; text-decoration: none; display: table-cell; vertical-align: middle; color: #b2b2b2 } .see-again:hover span { text-decoration: none; -moz-text-decoration-color: #b2b2b2; box-decoration-break: #b2b2b2; border-bottom: 1px solid #b2b2b2 } .demo-icon { font-family: magic; speak: none; display: inline-block; text-decoration: inherit; width: 1em; margin-right: .2em; line-height: 1em; margin-left: .2em } #PA-circle { padding-left: 20px } #PA-circle .PA-outside { display: block; margin: 0 auto; position: relative } #PA-circle .PA-click, #PA-circle .PA-text { cursor: pointer; position: absolute; width: 100%; display: block } #PA-circle .PA-text { transition: .3s ease all; -moz-transition: .3s ease all; -webkit-transition: .3s ease all; font-size: 20px; font-weight: 700; z-index: 9999 } #PA-circle .PA-click { transition: .2s ease all; -moz-transition: .2s ease all; -webkit-transition: .2s ease all; z-index: 8888 } #PA-3 { height: 37px; width: 37px } #PA-3 .PA-text { background: #d84820; font-size: 60px; height: 100%; border-radius: 50%; -moz-border-radius: 50%; -webkit-border-radius: 50%; margin-left: -54px; margin-top: 2px; transform: rotate(-360deg); -moz-transform: rotate(-360deg); -webkit-transform: rotate(-360deg) } #PA-3 .PA-click { background: #0090d2; opacity: 1; padding: 8px 10px 4px 30px; margin-top: 5px; margin-left: -40px; width: 69px; border-radius: 5px; -moz-border-radius: 5px; -webkit-border-radius: 5px } #PA-3.PA-click { opacity: 1; margin-left: -39px } .icon-cw { padding: 9px 5px 10px; display: block; font-size: 20px; color: #fff; -ms-transform: rotate(20deg); -webkit-transform: rotate(20deg); transform: rotate(20deg) } .rotating { -webkit-animation: rotating 6s linear infinite; -moz-animation: rotating 6s linear infinite; -ms-animation: rotating 6s linear infinite; animation: rotating 6s linear infinite; -o-animation: rotating 6s linear infinite } @-webkit-keyframes rotating { from { -ms-transform: rotate(0); -moz-transform: rotate(0); -webkit-transform: rotate(0); -o-transform: rotate(0); transform: rotate(0) } to { -ms-transform: rotate(360deg); -moz-transform: rotate(360deg); -webkit-transform: rotate(360deg); -o-transform: rotate(360deg); transform: rotate(360deg) } } @keyframes rotating { from { -ms-transform: rotate(0); -moz-transform: rotate(0); -webkit-transform: rotate(0); -o-transform: rotate(0); transform: rotate(0) } to { -ms-transform: rotate(360deg); -moz-transform: rotate(360deg); -webkit-transform: rotate(360deg); -o-transform: rotate(360deg); transform: rotate(360deg) } } .replay_btn { padding: 3px 12px; display: block; text-decoration: none; font-family: system-ui, sans-serif!important; border-radius: 4px; color: #fff !important; margin-top: -4px; opacity: .8; font-size: 14px; background: rgba(29, 172, 238, 1) !important } .see_again { opacity: 1 } .my_orange { background: #f2623d !important } .my_blue { background: #00b0f1 !important } .my_blue_dark { background: rgba(0, 144, 210, 1) !important }"}t.exports={getVPAIDCSS:n,getVASTCSS:r}},{}],150:[function(e,t,i){function n(e){var t=!0,i=!1,n=!1,r=!1;return e.mediafiles.forEach(function(e){e.forEach(function(e){"VPAID"===e.apiFramework&&"application/x-shockwave-flash"===e.mimeType&&(i=!0,n=!0),"VPAID"!==e.apiFramework||"application/javascript"!==e.mimeType&&"application/x-javascript"!==e.mimeType||(i=!0,r=!0)})}),t=!i,{isVAST:t,isVPAID:i,Isflash:n,IsJs:r}}t.exports=n},{}],151:[function(e,t,i){function n(e){return(e||[]).map(function(e){return"string"==typeof e?e:e.url})}t.exports=n},{}],152:[function(e,t,i){
"use strict";function n(e){var t=-1!==["iphone","ipad","ipod"].indexOf(o);(navigator.userAgent.indexOf("Mac OS X")>-1||t)&&(e.setAttribute("playsinline","playsinline"),e.setAttribute("autoplay","")),e.setAttribute("muted","muted")}function r(e,t){return e.filter(function(e){return e!=t})}var o=e("../../../../../common/utilities/device").whichMobileDevice;t.exports={arrayRemoveElement:r,mobileDeviceInit:n}},{"../../../../../common/utilities/device":13}],153:[function(e,t,i){function n(e){var t,i,n=[],a=[],s=[],l=[],c=[],u=[],d=[],p=[];return n=e.ads,n.forEach(function(e,n){s=e.creatives,p=p.concat(r(e.impressionURLTemplates)),s.forEach(function(e,n){e.mediaFiles&&a.push(e.mediaFiles),e.trackingEvents&&l.push(e.trackingEvents),e.adParameters&&(i=e.adParameters),e.videoClickTrackingURLTemplates&&c.push(r(e.videoClickTrackingURLTemplates)),e.videoCustomClickURLTemplates&&u.push(r(e.videoCustomClickURLTemplates)),e.videoClickThroughURLTemplate&&(t=e.videoClickThroughURLTemplate),o.hasAttribute(e,d)&&d.push(e.duration)})}),{impTrk:p,mediafiles:a,trkEvnts:l,adParameters:i,duration:d,customClickUrls:u,clickTrackingUrls:c,clickThroug:t}}var r=(e("../../../utilities/logger"),e("./getAdResponseUrlList")),o=e("../../../../../common/utilities");t.exports=n},{"../../../../../common/utilities":32,"../../../utilities/logger":161,"./getAdResponseUrlList":151}],154:[function(e,t,i){"use strict";function n(e){var t=document.getElementsByTagName("head")[0],i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(e)),t.appendChild(i)}t.exports=n},{}],155:[function(e,t,i){"use strict";function n(e,t){function i(e,i){e.forEach(function(e){e.isIntersecting&&(i.disconnect(),t())})}function n(){!e.isTriggered&&s()&&(l(),t())}function s(){if(!e.domVideoAd)return!1;var t=e.domVideoAd.getBoundingClientRect(),i=window.innerHeight||e.doc.documentElement.clientHeight,n=t.top>=0&&t.left>=0&&t.top<=i+e.visibleOffset;return"customTrigger"==e.adTriggerMode?n:"defaultDesktop"==e.adTriggerMode?n:"defaultMobile"==e.adTriggerMode?n||c():void 0}function l(){r?e.magicScrollTarget.removeEventListener("touchstart",n):e.magicScrollTarget.removeEventListener("scroll",n,!1)}function c(){var t=e.domVideoAd.getBoundingClientRect(),i=2;return-1!==e.countElementTypes.indexOf("p")?i=(e.valids&&e.valids.length)>5?2:3:-1!==e.countElementTypes.indexOf("br")&&(i=(e.valids&&e.valids.length)>8?2:3),t.top>=0&&t.left>=0&&t.bottom<=i*(window.innerHeight||e.doc.documentElement.clientHeight)}var u=new a;if("IntersectionObserver"in window){var d,p=e.videoad;if(r){d={root:null,rootMargin:u.onBeforeSettingObserverRootMargin()||"0px 0px 600px 0px",threshold:1}}else d={root:null,threshold:1};o=new IntersectionObserver(i,d),o.observe(p)}else r?e.magicScrollTarget.addEventListener("touchstart",n):e.magicScrollTarget.addEventListener("scroll",n,!1)}var r=(e("../logger"),e("../../../../common/utilities/device").isMobileDevice),o=null,a=e("../../../../patches/hooks/magic/utilities/functions/awaitUserToScrollCloseToAd");t.exports=n},{"../../../../common/utilities/device":13,"../../../../patches/hooks/magic/utilities/functions/awaitUserToScrollCloseToAd":232,"../logger":161}],156:[function(e,t,i){"use strict";function n(e){function t(e){try{if(e.parent!=e)return i=e,t(e.parent)}catch(e){return null}return i}var i,n,r=e.selected_format._currentScript;if(e.selected_format._isFramed){var o=t(e.selected_format._frmWindow);n=function(e){var t=e,i=top.document.getElementsByTagName("IFRAME"),n=i.length;if(""===t.name){for(var r=0;r<n;r++)if(i[r].contentWindow===t)return i[r];return null}var o=Array.prototype.filter.call(i,function(e){return e.getAttribute("name")===t.name});return o?o[0]:null}(o)}else n=r;return n}t.exports=n},{}],157:[function(e,t,i){"use strict";function n(e,t,i){var n;switch(t){case"id":n=e.getElementById(i);break;case"class":n=e.getElementsByClassName(i)[0];break;case"tag":n=e.getElementsByTagName(i)[0];break;case"querySelector":n=e.querySelector(i)}return n}t.exports=n},{}],158:[function(e,t,i){"use strict";function n(e){return void 0!==e.selected_format.paragraphLimit?e.selected_format.paragraphLimit:null}t.exports=n},{}],159:[function(e,t,i){"use strict";function n(e){var t=!0;if(e){var i=r(e);switch(e){case"keywords":i&&-1!==i.toLowerCase().indexOf("nopaads")&&(t=!1);break;case"paads":i&&"no"===i&&(t=!1)}}return t}function r(e){var t='meta[name="'+e+'"]',i=document.querySelector(t);return i?i.getAttribute("content"):null}t.exports=n},{}],160:[function(e,t,i){var n=e("./functions/addcss"),r=e("./functions/magicEnabledByMetaTag"),o=e("./functions/awaitUserToScrollCloseToAd"),a=e("./functions/getAdServingTagCurrentPosition");t.exports={addcss:n,magicEnabledByMetaTag:r,awaitUserToScrollCloseToAd:o,getAdServingTagCurrentPosition:a}},{"./functions/addcss":154,"./functions/awaitUserToScrollCloseToAd":155,"./functions/getAdServingTagCurrentPosition":156,"./functions/magicEnabledByMetaTag":159}],161:[function(e,t,i){var n=e("../../../common/utilities/logger"),r={moduleName:"Magic"},o=new n(r);o.override=function(e,t){var i=new n(r);return e&&i.addLabel({text:e}),t&&i.addLabel({text:t}),i},t.exports=o},{"../../../common/utilities/logger":34}],162:[function(e,t,i){"use strict";function n(){return b.context.getElementsByTagName("img").length}function r(e,t){var i=0,n="";return e.forEach(function(e){switch(n=e.src||"",t){case"vimeo":case"dailymail":-1!==n.indexOf("type")&&-1!==n.indexOf("video")&&i++;break;case"youtube":case"instagram":-1!==n.indexOf(t)&&-1!==n.indexOf("embed")&&i++;break;case"dailymotion":-1!==n.indexOf(t)&&-1!==n.indexOf("video")&&-1!==n.indexOf("embed")&&i++}}),i}function o(e){return"div"===e.tagName.toLowerCase()&&(e.classList.contains("twitter-video")||e.classList.contains("twitter-video-rendered"))}function a(e,t){var i=0,n=t||h;return["video","youtube","instagram","vimeo","dailyMotion","dailymail","reEmbeds"].every(function(t){if(!(i<n))return!1;switch(t){case"video":case"reEmbeds":i+=m();break;default:e&&(i+=r(e,t))}}),i}function s(e){var t=e.tagName.toLowerCase(),i=-1!==b.tagNames.indexOf(t);if(i=y.onBeforeCheckToAcceptNode(b,i))return u(e,t)}function l(e,t,i){return e&&!e.classList.contains(t)?null:e}function c(e,t,i){return e.classList.length>0&&e.classList.contains(i)?null:e}function u(e,t){if("br"===t){if(e.previousSibling&&!e.previousSibling.textContent.trim().isEmpty())return!0}else if(!e.textContent.trim().isEmpty()&&e.textContent!==String.fromCharCode(160))return!0}function d(e){var t=0;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0}}}}function p(e){for(var t,i=[],n=d(e.getElementsByTagName("*"));t=n.next().value;)s(t)&&i.push(t);return i}function m(){return b.context.getElementsByTagName("video").length}function f(e){return"video"===e.tagName.toLowerCase()||(e.getElementsByTagName("video").length>0||(!!w(e)||!!o(e)))}function g(e,t){return"function"==typeof Element.closest?e.closest(t):("function"!=typeof window.Element.prototype.matches&&(window.Element.prototype.matches=window.Element.prototype.msMatchesSelector||window.Element.prototype.mozMatchesSelector||window.Element.prototype.webkitMatchesSelector||function(e){for(var t=this,i=(t.document||t.ownerDocument).querySelectorAll(e),n=0;i[n]&&i[n]!==t;)++n;return Boolean(i[n])}),"function"!=typeof window.Element.prototype.closest&&(window.Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),e.closest(t))}var h=e("../../../../../common/resources").IMG_THRESHOLD_VIDEO,v=e("../../../../../patches/hooks/magic/utilities/articleAvailability"),y=v(),b={context:null,totalImages:0,totalVideo:0,totalTextElements:0,siteName:""},w=function(e){var t=[];return"iframe"===e.tagName.toLowerCase()?t[0]=e:t=e.getElementsByTagName("iframe"),!!a(t,1)},A=function(e,t,i){return b.context=e,b.tagNames=t,b.siteName=i,b.frames=b.context.getElementsByTagName("iframe"),b.totalImages=n(),b.totalVideo=a(),b.totalTextElements=p(b.context).length,b},x=function(e,t,i){return null!==g(e,i.join(","))};t.exports={getMedia:A,isElementVideo:f,findAncestor:l,findAncestorByTagName:c,isInsideInvalid:x}},{"../../../../../common/resources":4,"../../../../../patches/hooks/magic/utilities/articleAvailability":228}],163:[function(e,t,i){"use strict";function n(e){var t=s(e),i=a.getMedia(e.containerName,e.countElementTypes,e.siteName);return function(e){if(e.totalTextElements<=r.PARGPH_THRESHOLD){if(e.totalImages>=r.IMG_THRESHOLD)return!1;if(e.totalImages>=r.IMG_THRESHOLD_VIDEO&&1===e.totalVideo)return!1}return!0}(i)&&function(){function e(e){return t(window.location.pathname,e)}function t(e,t){for(var i=t.length,n=0;n<i;n++)if(-1!==e.indexOf(t[n]))return!0;return!1}return!e(r.PATHNAME_STOP_WORDS)&&(!c||!e(r.INVALID_STOP_WORDS))}()&&function(){return!(e.excludedGalleryName&&!function(t){return void 0===e.doc.getElementsByClassName(t)[0]?1:0}(e.excludedGalleryName))}()&&function(){var i=!(void 0===e.containerName||null===e.containerName||e.containerName.offsetWidth<d);return i=t.onAfterContainerValidityCheck(i)}()&&function(t){return l(e)<=t.totalTextElements&&t.totalTextElements>=u}(i)}var r=e("../../../../../common/resources"),o=e("../../../../../common/utilities"),a=e("../articleAvailability"),s=e("../../../../../patches/hooks/magic/utilities/articleEligibility"),l=e("../../functions/getParagraphLimit"),c=o.device.isMobileDevice,u=c?1:2,d=c?200:400;t.exports=n},{"../../../../../common/resources":4,"../../../../../common/utilities":32,"../../../../../patches/hooks/magic/utilities/articleEligibility":229,"../../functions/getParagraphLimit":158,"../articleAvailability":162}],164:[function(e,t,i){"use strict";function n(e){function t(t){var i=e.selected_format.autoAds&&e.selected_format.autoAds.enabled,n=!!e.containerName;i&&!n&&function(){var t=e.elemToAppend.parentElement;e.containerName=t}(),t&&r.getMedia(e.containerName,e.countElementTypes,e.siteName),function(){e.all=[],e.all=e.containerName.getElementsByTagName("*")}(),function(){e.ce=[];for(var t=0;t<e.all.length;t++)-1!==e.countElementTypes.indexOf(e.all[t].tagName.toLowerCase())&&e.ce.push({elem:e.all[t],index:t})}(),o(e).run()}return{run:t}}var r=e("../articleAvailability"),o=e("../candidateElementValidator");t.exports=n},{"../articleAvailability":162,"../candidateElementValidator":165}],165:[function(e,t,i){"use strict";function n(e){function t(){e.valids=[];for(var t=0;t<e.ce.length;t++)i(e.ce[t].elem,t,e.ce);for(var r=0;r<e.ce.length;r++)e.ce[r].valid&&e.valids.push(e.ce[r]);n()}function i(t,i,n){var u=o.ancestorPatch(l);if(u){var d=[];d.push(u.t);if(a.isInsideInvalid(t,null,d))return n[i].valid=!1,void(n[i].fromPatch=!0)}if(c&&(null===e.excludeIfInsideTag||null===a.findAncestorByTagName(t,e.excludeIfInsideTag,e.selected_format.selectorName)))return void(p(t)||(n[i].valid=!0));"br"!==t.tagName.toLowerCase()?n[i].valid=!(p(t)||m(t)||f(t)||null!==e.excludeIfInsideTag&&null!==a.findAncestorByTagName(t,e.excludeIfInsideTag,e.selected_format.selectorName)):n[i].valid=r(t)&&s(t)&&!(null!==e.excludeIfInsideClass&&null!==a.findAncestor(t,e.excludeIfInsideClass,e.selected_format.selectorName)),g.onAfterCheckingElementValidity(t,i,n)}function n(){if(e.xandr_eligible&&e.xandr_non_eligible)if(e.valids.length>0);else{e.validXandrId=e.xandr_non_eligible;for(var t=0;t<e.ce.length;t++)e.ce[t].fromPatch||(e.ce[t].valid=!0,e.valids.push(e.ce[t]))}}function r(e){var t=!1,i=!1;return e.previousSibling&&!e.previousSibling.textContent.isEmpty()&&e.previousElementSibling&&"br"===e.previousElementSibling.tagName.toLowerCase()&&(t=!0),e.previousElementSibling&&(t="br"===e.previousElementSibling.tagName.toLowerCase()&&(null===e.previousSibling||e.previousSibling&&e.previousSibling.textContent.isEmpty())?r(e.previousElementSibling):!e.previousElementSibling.textContent.isEmpty()&&!p(e.previousElementSibling)),e.previousSibling&&3===e.previousSibling.nodeType&&!e.previousSibling.textContent.isEmpty()&&(i=!0),t||i}function s(t,i){var n=!1,r=!1;return i?(e._brCount=0,t.nextElementSibling&&"br"!==t.nextElementSibling.tagName.toLowerCase()&&(n=!t.nextElementSibling.textContent.isEmpty()&&!p(t.nextElementSibling)),t.nextSibling&&3===t.nextSibling.nodeType&&!t.nextSibling.textContent.isEmpty()&&(r=!0)):(t.nextElementSibling&&("br"===t.nextElementSibling.tagName.toLowerCase()&&2!=e._brCount?(n=s(t.nextElementSibling,!0),e._brCount=2):(n=!p(t.nextElementSibling)&&!t.nextElementSibling.textContent.isEmpty(),e._brCount=0)),t.nextSibling&&3===t.nextSibling.nodeType&&!t.nextSibling.textContent.isEmpty()&&(r=!0)),n||r}function p(e){var t=e.getElementsByTagName("img").length>0||a.isElementVideo(e),i=e.nextElementSibling&&(e.nextElementSibling.getElementsByTagName("img").length>0||a.isElementVideo(e.nextElementSibling));return t||i}function m(e){return"td"===e.parentElement.tagName.toLowerCase()||"th"===e.parentElement.tagName.toLowerCase()}function f(e){return e.textContent.isEmpty()}var g=u(e);d.override(e.videoAdId);return{run:t}}var r=e("../../../../../common/utilities"),o=e("../../../../../common/resources"),a=e("../articleAvailability"),s=e("../../../../../core/targeting/utilities/getSiteConfig"),l=s(),c=r.device.isMobileDevice,u=e("../../../../../patches/hooks/magic/utilities/candidateElementValidator"),d=e("../../logger");t.exports=n},{"../../../../../common/resources":4,"../../../../../common/utilities":32,"../../../../../core/targeting/utilities/getSiteConfig":94,"../../../../../patches/hooks/magic/utilities/candidateElementValidator":230,"../../logger":161,"../articleAvailability":162}],166:[function(e,t,i){"use strict";function n(e){function t(t){e.socialCardsCheckTimeout=window.sc_timeout?parseInt(window.sc_timeout):500,e.socialCardsTimeoutReached="SC_TIMEOUT_REACHED",e.paMagicPlaceholder=t.paMagicPlaceholder||"pa_inarticle_placeholder",e.videoAdId=t.videoAdId||"videoad",e.paVastIframe=t.paVastIframe||"frmPAVast",e.viewAbilityWrapperId=t.viewAbilityWrapperId||"viewability-expansion",e.inArticleIframeId=t.inArticleIframeId||"inArticle_iframe_container",e.inArticleLightIframeId=t.inArticleLightIframeId||"inArticleLight_container",e.innerVideoAdId=t.innerVideoAdId||"inner_videoad",e.creative_type=null,e.selected_format=t,e.doc=document,e.adMngrPsbk=t.adMngrPsbk,e.adheadLabel=t.adheadLabel,e.rulePsbk=t.rulePsbk,e.isTriggered=!1,e.visibleOffset=null,e.isLight=t.isLight,e.isCube=t.isCube,e.socialCards=t.socialCardsEnabled,e.enable319x49=!1!==t.enable319x49||t.enable319x49,e.positionType=t.positionType,e.selector=t.selector,e.selectorPosition=t.selectorPosition,e.serve319x49InIframe=!!t.hasOwnProperty("serve319x49InIframe")&&t.serve319x49InIframe,e.sco=void 0!==t.sco?t.sco:null,e.partnerSco=void 0!==t.partnerSco?t.partnerSco:null,e.viewabilityGeneric=void 0!==t.viewabilityGeneric?t.viewabilityGeneric:null,e.viewabilityVideo=void 0!==t.viewability?t.viewability:void 0!==t.height_video?t.height_video:null,e.viewabilityDisplay=void 0!==t.viewabilityDisplay?t.viewabilityDisplay:null,e.incornerConfig=t.incornerConfig,e.inViewThreshold=t.inViewThreshold,e.clsOptimization=t.clsOptimization,e.magicScrollTarget=e.doc,e.xandr_eligible=t.hasOwnProperty("xandr_eligible")?t.xandr_eligible:null,e.xandr_non_eligible=t.hasOwnProperty("xandr_non_eligible")?t.xandr_non_eligible:null,e.validXandrId=t.hasOwnProperty("validXandrId")?t.validXandrId:null;var n=i();e.adId=window.testFormatId||n.adId,e.TypeAd=n.adType,e.passback=n.adPassback?n.adPassback:e.rulePsbk?e.rulePsbk:null,e.excludedElements=["A"],e.excludeIfInsideTag=void 0!==e.selected_format.getExcludedIfInsideTag?e.selected_format.getExcludedIfInsideTag:null,e.excludeIfInsideClass=void 0!==e.selected_format.getExcludedIfInsideClass?e.selected_format.getExcludedIfInsideClass:null,e.excludeIfInsideParentElement=["div.head"],e.siteName=void 0!==e.selected_format.site_name?e.selected_format.site_name:window.location.hostname,e.siteDomain=window.location.hostname,e.containerName=l(e.doc,e.selected_format.selectorType,e.selected_format.selectorName),e.countElementTypes=void 0!==e.selected_format.tagNames?e.selected_format.tagNames:["p"],e.excludedGalleryName=void 0!==e.selected_format.getExcludedGalleryNames?e.selected_format.getExcludedGalleryNames:null,e.containerType=e.selected_format.selectorType;var o=r.maxSiteTimeOut(m);o&&(r.MAX_INARTICLE_TIMEOUT=o.to),e._brCount=0,u.onAfterConfigurationCache()}function i(){var t=e.selected_format.placementId,i=e.selected_format.passback;return{adId:t,adType:e.selected_format.format,adPassback:i}}function n(){var e=r.bannedTargetingKeywords(m);if(e&&e.inArticle&&s(e.inArticle))return!0;var t=r.bannedMetaTags(m);return!!(t&&t.inArticle&&a(t.inArticle))||(!o("paads")||!o("keywords"))&&(d.error(p.hvkk),!0)}var u=c(e);return{cacheFormat:t,isBlockedByConfig:n}}var r=e("../../../../../common/resources"),o=e("../../functions/magicEnabledByMetaTag"),a=e("../../../../../common/utilities/extractInfo/blockAdByMetaTags"),s=e("../../../../../common/utilities/extractInfo/blockAdFunctionality"),l=e("../../functions/getMainContentWrapper"),c=e("../../../../../patches/hooks/magic/utilities/configurationParser"),u=e("../../../../../core/targeting/utilities/getSiteConfig"),d=e("../../logger"),p=e("../../../../../common/resources/messages"),m=u();t.exports=n},{"../../../../../common/resources":4,"../../../../../common/resources/messages":5,"../../../../../common/utilities/extractInfo/blockAdByMetaTags":23,"../../../../../common/utilities/extractInfo/blockAdFunctionality":24,"../../../../../core/targeting/utilities/getSiteConfig":94,"../../../../../patches/hooks/magic/utilities/configurationParser":231,"../../functions/getMainContentWrapper":157,"../../functions/magicEnabledByMetaTag":159,"../../logger":161}],167:[function(e,t,i){"use strict";function n(e,t){function i(){var i=null,s=null;void 0!==r.INLINE_STYLES&&r.INLINE_STYLES.length>0&&(i=r.INLINE_STYLES.join(";")),i+=";"+r.ALIGN_CENTER,a||-1===r.MAX_DESKTOP_WIDTH||(i+=";max-width:"+r.MAX_DESKTOP_WIDTH+"px"),-1!==e.countElementTypes.indexOf("br")&&(i+=";margin-top:15px"),i+=n.onAfterStylingVideoAd(),s=e.doc.createElement("div"),s.setAttribute("id",e.videoAdId),s.setAttribute("style",i);var l=null;if(t){l=e.doc.createElement("div"),l.setAttribute("id","pa_videoslider");var c="max-width:"+r.MAX_DESKTOP_WIDTH+"px; margin:0 auto;";l.setAttribute("style",c),l.appendChild(s)}e.videoad=s,e.videoSliderElement=l,e.isLight&&o.createInnerElement(e)}var n=s();return{run:i}}var r=e("../../../../../../common/resources"),o=e("../../../../modules/inArticle/modules/lightHandler"),a=e("../../../../../../common/utilities/device").isMobileDevice,s=e("../../../../../../patches/hooks/magic/utilities/paUnit");t.exports=n},{"../../../../../../common/resources":4,"../../../../../../common/utilities/device":13,"../../../../../../patches/hooks/magic/utilities/paUnit":233,"../../../../modules/inArticle/modules/lightHandler":126}],168:[function(e,t,i){"use strict";function n(e,t){function i(i){var l=null,u=e.selectorPosition||"afterend",d=t?e.videoSliderElement:e.videoad,p=r.isEnabled(e);e.clsOptimization&&(s.sendFeatureDetectedEvent("magic","clsOptimization"),l=o.createPlaceholder(e,d,p),d=l,e.magicPlaceholder=l);try{a(i,d,u),e.clsOptimization&&o.observeVideoExpansion(e,l,p),document.getElementById(e.videoAdId)||n.error(c.rchh)}catch(e){n.error(c.qhpc,e)}finally{e.domVideoAd=e.doc.getElementById(e.videoAdId)}}var n=l.override(e.videoAdId,null);return{run:i}}var r=e("../../../../features/viewability"),o=e("../../../../features/clsOptimization"),a=e("../../../../../../common/utilities/domManipulation/positionElement"),s=e("../../../../../../core/productDetectorEventGateway"),l=e("../../../logger"),c=e("../../../../../../common/resources/messages");t.exports=n},{"../../../../../../common/resources/messages":5,"../../../../../../common/utilities/domManipulation/positionElement":20,"../../../../../../core/productDetectorEventGateway":84,"../../../../features/clsOptimization":117,"../../../../features/viewability":119,"../../../logger":161}],169:[function(e,t,i){"use strict";function n(e){r(e.getBoundingClientRect().height),o(e)}function r(e){var t=".nextUp { transition: margin-bottom 0.4s 0.3s; margin-bottom:"+e+"px!important }",i=".nextUpIncornerFirst { transition: margin-bottom none; margin-bottom:"+e+"px!important }",n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",r.styleSheet?(r.styleSheet.cssText=t,r.styleSheet.cssText=i):(r.appendChild(document.createTextNode(t)),r.appendChild(document.createTextNode(i))),n.appendChild(r)}function o(e){var t=e,i={attributes:!0,attributeFilter:["class"],subtree:!0},n=function(e){e.forEach(function(){a(t)})};new MutationObserver(n).observe(t,i)}var a=e("./utilities/checkForStickyElements");t.exports={run:n}},{"./utilities/checkForStickyElements":170}],170:[function(e,t,i){function n(e){var t,i,n;t=document.getElementById("videoad"),i=document.getElementById("pa_sticky_ad_box_bottom_center"),n=document.getElementById("pa_videoslider"),e.classList.contains("in-viewport")?(t&&n&&!t.classList.contains("nextUp")&&n.classList.contains("grey_in")&&(t.classList.add("nextUp"),t.classList.contains("nextUpIncornerFirst")&&t.classList.remove("nextUpIncornerFirst")),i&&!i.classList.contains("nextUp")&&i.classList.add("nextUp")):r(t,i)}function r(e,t){e&&e.classList.contains("nextUpIncornerFirst")&&e.classList.remove("nextUpIncornerFirst"),e&&e.classList.contains("nextUp")&&e.classList.remove("nextUp"),t&&t.classList.contains("nextUp")&&t.classList.remove("nextUp")}t.exports=n},{}],171:[function(e,t,i){function n(e){var t=e.passback,i=e.viewabilityHeightInfo,n=null,u=t?a(t):null,d=E(e.videoad),f=d.id,g=d,h="videoad"===f?document.getElementById("pa_videoslider"):null,v=h||d;if(t&&!C[d.id]){var y=s();if(T(v,y,"after"),p(i)){var b="videoad"===f?"viewability-expansion-display":"viewability-expansion-display_"+f;g=document.createElement("div"),g.id=b,T(y,g,"inside-first")}var w={psbk_div:y,expansionDisplay:g};C[f]=!0,u?(n=l(),p(i)?T(g,n,"inside-first"):T(y,n,"inside-first"),w.adManagerSlotId=u,w.adMngrPAIframe=n,o(e,w,m.bind(this,y)),c(t,n,function(){},function(){})):(e.adMngrPsbk=t,r(e,w))}}function r(e,t){var i,n,r=e.adMngrPsbk,o=e.viewabilityHeightInfo,a=e.videoad.id,s=t.psbk_div,l=b(r),c=y(r);if(p(o)){var d="videoad"===a?"pa_inArticleAdTagWrapper":"pa_inArticleAdTagWrapper_"+a,m="videoad"===a?"viewability-expansion-display":"viewability-expansion-display_"+a;i=document.getElementById(m),n=document.createElement("div"),n.id=d,T(i,n,"inside-first"),s=n,t.expansionDisplay=i,t.adManagerPsbkWrapper=n}window.addEventListener("message",u.bind(this,c,e,t)),w(s,"inside-first",l,function(){})()}function o(e,t,i){function n(){l&&l.id.indexOf("pa_googleAdManager")>-1&&(l.style.display="none")}var o=e.adMngrPsbk,a=t.adManagerSlotId,s=t.psbk_div,l=t.adMngrPAIframe,c=e.adheadLabel,u=e.viewabilityHeightInfo,m=e.videoad.id,h=l.contentWindow;h.googletag=h.googletag||{cmd:[]},h.googletag.cmd.push(function(){h.googletag.pubads().addEventListener("slotRenderEnded",function(h){var v=h.slot.getSlotElementId(),y=h.slot.getAdUnitPath().split("/")[1];v==a&&y&&-1!=f.ADMANAGER_ACC_IDS.indexOf(y.split(",")[0])&&(!0===h.isEmpty?(n(),o&&!S[m]?(S[m]=!0,r(e,t)):o||i()):(p(u)&&g.addPlaceholderCSS(f.PASSBACK_FIXED_HEIGHT,h.size[0],u,"adManager",e,t),A(l,h.size[0],h.size[1]),c&&!S&&(S=!0,d(c,s))))})})}function a(e){return x(e,f.GAM_DISPLAY_REGEX)}function s(){var e=(new Date).getTime(),t=document.createElement("div");return t.id="pa_1x1_psbk_"+e,t.setAttribute("style","position:relative;text-align:center!important;"),t}function l(){var e=(new Date).getTime(),t=document.createElement("iframe");return t.setAttribute("id","pa_googleAdManager_"+e),t.setAttribute("frameborder",0),t.setAttribute("width",0),t.setAttribute("height",0),t.setAttribute("scrolling","no"),t}function c(e,t,i,n){try{k(t,e)||n(),i()}catch(e){n()}}function u(e,t,i,n){var r,o=t.adheadLabel,a=i.psbk_div,s=t.viewabilityHeightInfo;try{r=JSON.parse(n.data);var l=a.id,c=e&&r&&r.id&&r.id.indexOf(e)>-1,h=r.hasOwnProperty("parentContainer")&&r.parentContainer===l;c&&h&&(window.removeEventListener("message",u),r.adTagNoPsbkSet||r.onPsbkCollapse?m(a):(r.adTagHB&&!0===r.adTagHB||r.adTagPassback&&!0===r.adTagPassback&&r.tagType&&("gpt"===r.tagType||"adx"===r.tagType))&&(p(s)&&g.addPlaceholderCSS(f.PASSBACK_FIXED_HEIGHT,f.ADTAG_FIXED_WIDTH,s,"adTag",t,i),o&&d(o,a,s)))}catch(e){}}function d(e,t,i){if(!t.contains(document.getElementById("AgoraHead"))){var n=h(e),r=t.firstElementChild;p(i)&&(r=r.firstElementChild),T(r,n,"before")}}function p(e){return e&&e.display.enabled}function m(e){if(top.ProjectAgora.psa&&top.ProjectAgora.clsOptimization){var t=(new Date).getTime(),i={id:"pa_inarticle_psa_"+t,name:"pa_inarticle_psa",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0",style:"width:300px;height:250px;"},n=v(i);n.onload=function(){k(n,'<SCRIPT SRC="https://secure.adnxs.com/ttj?id=21752841" TYPE="text/javascript"><\/script>')},e.appendChild(n)}}var f=e("../../common/resources"),g=e("../magic/features/viewability"),h=e("../../common/utilities/domManipulation/paIframeHead"),v=(e("./utilities/logger"),e("../../common/utilities").createGenericIframe),y=e("../../common/utilities").extractAdTagId,b=e("../../common/utilities").parseElementTags,w=e("../../common/utilities").write_script,A=e("../../common/utilities").setIframeDimensions,x=e("../../common/utilities").getMatches,k=e("../../common/utilities").setIframeContent,T=e("../../common/utilities").positionElement,E=e("../../common/utilities").checkConnectionWithDomAndCachedVideoadElement,C={},S={};t.exports={run:n}},{"../../common/resources":4,"../../common/utilities":32,"../../common/utilities/domManipulation/paIframeHead":19,"../magic/features/viewability":119,"./utilities/logger":173}],172:[function(e,t,i){"use strict";function n(e,t){var i=r(e),n=r(t),o="adtag"===i,a="adtag"===n;return o?e:a?t:null}function r(e){return e?e.match(/(ads.projectagoraservices.com)|(paadserver.projectagora.info)/)?"adtag":null!==e.match(/securepubads.g.doubleclick.net\/tag\/js\/gpt.js/)?"gpt":null!==e.match(/cdn.taboola.com\/libtrc/)?"tbl":"custom":null}t.exports={run:n}},{}],173:[function(e,t,i){var n=e("../../../common/utilities/logger"),r=n({moduleName:"Passback"});r.addElementLabel=function(e){return r.addLabel({text:e,isTemporary:!0}),r},t.exports=r},{"../../../common/utilities/logger":34}],174:[function(e,t,i){(function(i){(function(){function n(e,t){function n(){var e=o.bannedTargetingKeywords(f);if(!(e&&e.sticky&&r.blockAdFunctionality(e.sticky))){var t=o.bannedMetaTags(f);if(!(t&&t.sticky&&r.blockAdByMetaTags(t.sticky))){var n=null,s=l(S),d=c(S);s.length>0?u().then(function(){n=i.ProjectAgora.ab?s:d,a(n)}):(n=d,a(n))}}}function a(e){var t=d(e);if(!t)return void w.error(A.ouyf);!function(e,t){top.ProjectAgora.activeWindowHandler=e.bind(this,t),!1!==t.activeWindow&&document.hidden?(document.addEventListener("visibilitychange",top.ProjectAgora.activeWindowHandler),top.ProjectAgora.visibilityChecker=!0):e(t)}(x,t)}function x(e){top.ProjectAgora.visibilityChecker&&document.removeEventListener("visibilitychange",top.ProjectAgora.activeWindowHandler),I=m(e),I?s(k):w.error(A.ofhf)}function k(){var e=[];for(var i in I){y(I,i);var n=t.hasAcceptedToConsent,r="GAM"===I[i].type;if(!n&&r)return;I[i].stickyIframe.addEventListener("load",T.bind(this,i)),p(I,i),e.push({id:i,parameters:{type:I[i].type,enabled:I[i].enabled,position:I[i].position,elapse_time:I[i].elapse_time,code:I[i].code}})}b.sendProductDetectedEventWithInitiator("sticky",{items:e})}function T(e){var t=I[e];switch(E(t.stickyIframe),C(e),t.type){case"AdTag":g(I).run(e);break;case"GAM":h(I).run(e);break;case"NativeDisplay":v(I).run(e)}}function E(e){r.setIframeContent(e,'<!DOCTYPE html> <html lang="en"><head><meta charset="UTF-8"></head><body></body></html>')}function C(e){var t=I[e].stickyIframe;I[e].stickyWindow=t.contentWindow,I[e].stickyDocument=t.contentWindow.document}var S=JSON.parse(JSON.stringify(e)),I=null;return{run:n}}var r=e("../../common/utilities"),o=e("../../common/resources"),a=e("../../core/targeting/utilities/getSiteConfig"),s=e("../../common/utilities/domManipulation/awaitDOMReady"),l=e("./utilities/adBlock/hasAdBlockTargetingInStickyRules"),c=e("./utilities/adBlock/getNonAdBlockStickyRules"),u=e("./utilities/adBlock/hasAdBlock"),d=e("./utilities/misc/getFormatOnPriority"),p=e("./utilities/domManipulation/addStickyToDOM"),m=e("./utilities/misc/validateStickyRule"),f=a(),g=e("./products/adTag"),h=e("./products/gam"),v=e("./products/native"),y=e("./utilities/domManipulation/setStickyObjectProps"),b=e("../../core/productDetectorEventGateway"),w=e("./utilities/logger"),A=(e("./utilities/misc/getStickyPosition"),e("../../common/resources/messages"));t.exports=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../common/resources":4,"../../common/resources/messages":5,"../../common/utilities":32,"../../common/utilities/domManipulation/awaitDOMReady":15,"../../core/productDetectorEventGateway":84,"../../core/targeting/utilities/getSiteConfig":94,"./products/adTag":175,"./products/gam":176,"./products/native":177,"./utilities/adBlock/getNonAdBlockStickyRules":180,"./utilities/adBlock/hasAdBlock":181,"./utilities/adBlock/hasAdBlockTargetingInStickyRules":182,"./utilities/domManipulation/addStickyToDOM":184,"./utilities/domManipulation/setStickyObjectProps":188,"./utilities/logger":192,"./utilities/misc/getFormatOnPriority":193,"./utilities/misc/getStickyPosition":194,"./utilities/misc/validateStickyRule":195}],175:[function(e,t,i){function n(e){function t(t){var o=e[t],a=r.extractAdTagId(o.code);i(t,n),g(a,t),k(o.code,t)}function i(t,i){var n=e[t],r=n.stickyDocument.body,a={childList:!0},s=function(r){r.forEach(function(r){"childList"===r.type&&(r.addedNodes.forEach(function(e){e===n.stickyDocument.querySelector("[id^='postbid_if_']")&&"function"==typeof i&&i(t)}),r.removedNodes.forEach(function(i){i===n.stickyDocument.querySelector("[id^='postbid_if_']")&&o(e,t)}))})};null!==n.stickyDocument.querySelector("[id^='postbid_if_']")&&"function"==typeof i&&i(t),new MutationObserver(s).observe(r,a)}function n(t){var i=e[t],n=i.stickyDocument.querySelector("[id^='postbid_if_']"),r=n,a={attributes:!0,childList:!0,attributeFilter:["width","height","display"]},s=function(i){i.forEach(function(i){"attributes"===i.type&&("none"===n.style.display&&o(e,t),n.width&&parseInt(n.width)>0&&n.height&&parseInt(n.height)>0&&"none"!==n.style.display&&(e[t].stickyIframe.height=n.height,e[t].stickyIframe.width=n.width))})};new MutationObserver(s).observe(r,a)}function g(t,i){var n=e[i].stickyWindow;e[i].adTagMessageHandler=h.bind(this,t,i),n.addEventListener("message",e[i].adTagMessageHandler)}function h(t,i,n){var r={},o=e[i].stickyWindow;try{r=JSON.parse(n.data);var a=e[i].stickyIframe.id,s=r.hasOwnProperty("id")&&r.id.indexOf(t)>-1,l=r.hasOwnProperty("parentContainer")&&r.parentContainer===a;s&&l&&(o.removeEventListener("message",e[i].adTagMessageHandler),r.hasOwnProperty("adTagHB")&&!0===r.adTagHB?y(i):r.hasOwnProperty("adTagPassback")&&!0===r.adTagPassback&&(r.hasOwnProperty("tagType")&&"gpt"===r.tagType?(e[i].gptTagMessageHandler=v.bind(this,t,i),o.addEventListener("message",e[i].gptTagMessageHandler)):w(i)))}catch(e){}}function v(t,i,n){var r={},o=e[i].stickyWindow;try{r=JSON.parse(n.data);var a=e[i].stickyIframe.id,s=r.hasOwnProperty("id")&&r.id.indexOf(t)>-1,l=r.hasOwnProperty("parentContainer")&&r.parentContainer===a,c=r.hasOwnProperty("served");s&&l&&c&&(o.removeEventListener("message",e[i].gptTagMessageHandler),r.served?y(i):b(i))}catch(e){}}function y(t){s(e,t),c(e,t),a(e,t),u||l(e,t)}function b(t){function i(i){i.forEach(function(i){"attributes"===i.type?n||"none"!==a.style.display||(n=!0,c.disconnect(),o(e,t)):"childList"===i.type&&!r&&s.querySelector('[id^="taboola-"]')&&(r=!0,
c.disconnect(),d(e,t).run())})}var n=!1,r=!1,a=e[t].stickyDocument.querySelector("[id^='postbid_if_']"),s=a.contentWindow.document,l={attributes:!0,childList:!0,attributeFilter:["style"],subtree:!0},c=new MutationObserver(i);c.observe(s,l)}function w(t){function i(i){i.forEach(function(i){"attributes"===i.type?(r||"none"!==c.style.display||(r=!0,m.disconnect(),o(e,t)),null===a&&(n=u.getElementById("aswift_0_expand")||u.getElementById("aswift_0_host"))&&("filled"===n.getAttribute("data-ad-status")?(a=!0,A(t,m)):"unfilled"===n.getAttribute("data-ad-status")&&(a=!1,x(t,m)))):"childList"===i.type&&!s&&u.querySelector('[id^="taboola-"]')&&(s=!0,m.disconnect(),d(e,t).run())})}var n,r=!1,a=null,s=!1,l=e[t],c=l.stickyDocument.querySelector("[id^='postbid_if_']"),u=c.contentWindow.document,p={attributes:!0,childList:!0,attributeFilter:["style","data-ad-status"],subtree:!0},m=new MutationObserver(i);m.observe(u,p)}function A(t,i){i.disconnect(),s(e,t),c(e,t),a(e,t),u||l(e,t)}function x(t,i){i.disconnect(),o(e,t)}function k(t,i){var n=e[i].stickyDocument;try{var o=/(ads.projectagoraservices.com|paadserver.projectagora.info)[^'"]*/gim,a=t.match(o)[0];if(-1!==a.indexOf(" "))throw new Error(f.ibmi);p(n.head,"<script>"+r.iframeResizerContentWindowCode+"<\/script>"),p(n.body,'<script src="//'+a+'"><\/script>')}catch(e){m.error(e)}}return{run:t}}var r=e("../../../../common/utilities"),o=e("../../utilities/domManipulation/stickyHideMechanism"),a=e("../../utilities/domManipulation/stickyShowMechanism"),s=e("../../utilities/styleElements/addStickyCSS"),l=e("../../utilities/domManipulation/delayedClose"),c=e("../../utilities/domManipulation/triggerCloseButtonCreation"),u=e("../../../../common/utilities/device").isMobileDevice,d=e("../native/nativeCollapseMutationObserver"),p=e("../../../../common/utilities/domManipulation/appendHTML"),m=e("../../utilities/logger"),f=(e("../../utilities/misc/getStickyPosition"),e("../../../../common/resources/messages"));t.exports=n},{"../../../../common/resources/messages":5,"../../../../common/utilities":32,"../../../../common/utilities/device":13,"../../../../common/utilities/domManipulation/appendHTML":14,"../../utilities/domManipulation/delayedClose":187,"../../utilities/domManipulation/stickyHideMechanism":189,"../../utilities/domManipulation/stickyShowMechanism":190,"../../utilities/domManipulation/triggerCloseButtonCreation":191,"../../utilities/logger":192,"../../utilities/misc/getStickyPosition":194,"../../utilities/styleElements/addStickyCSS":197,"../native/nativeCollapseMutationObserver":178}],176:[function(e,t,i){function n(e){function t(t){i(t),o(e,t)}function i(t){var i=e[t].stickyWindow;i.googletag=i.googletag||{cmd:[]},i.googletag.cmd.push(function(){i.googletag.pubads().addEventListener("slotRenderEnded",function(i){var o,a=n(i,t);if(a&&(o=a.contentWindow.document.querySelector('script[src*="//ads.projectagoraservices.com/?id="]')),a&&o&&p(o,t,a),!0===i.isEmpty)s(e,t);else if(!o){var l=i.size[0],c=i.size[1];f(c,l,t),d||r(e,t)}})})}function n(t,i){var n=t.slot.getAdUnitPath();return e[i].stickyDocument.querySelector('iframe[id*="'+n+'"]')}function p(t,i,n){var r=t.src,o=r.indexOf("id=")+3,a=r.substring(o);e[i].gamAdtagMessageHandler=m.bind(this,a,i,n),n.contentWindow.addEventListener("message",e[i].gamAdtagMessageHandler)}function m(t,i,n,o){var a=e[i].stickyWindow;try{var l=JSON.parse(o.data),c=e[i].stickyIframe.id,u=l.hasOwnProperty("id")&&l.id.indexOf(t)>-1;if(c&&u)if(a.removeEventListener("message",e[i].gamAdtagMessageHandler),l.hasOwnProperty("adTagHB")&&!0===l.adTagHB){var p=n.contentWindow.document,m=p.querySelector('iframe[id*="postbid_if_"]').height,g=p.querySelector('iframe[id*="postbid_if_"]').width;m&&g&&(f(m,g,i),d||r(e,i))}else s(e,i)}catch(e){}}function f(t,i,n){l(e,n),u(e,n),a(e,n),c(e[n].stickyIframe,i,t)}return{run:t}}var r=e("../../utilities/domManipulation/delayedClose"),o=e("../../utilities/domManipulation/addAdCodeOnIframe"),a=e("../../utilities/domManipulation/stickyShowMechanism"),s=e("../../utilities/domManipulation/stickyHideMechanism"),l=e("../../utilities/styleElements/addStickyCSS"),c=e("../../../../common/utilities/styleElements/setIframeDimensions"),u=e("../../utilities/domManipulation/triggerCloseButtonCreation"),d=(e("../../utilities/logger"),e("../../utilities/misc/getStickyPosition"),e("../../../../common/utilities/device").isMobileDevice);t.exports=n},{"../../../../common/utilities/device":13,"../../../../common/utilities/styleElements/setIframeDimensions":39,"../../utilities/domManipulation/addAdCodeOnIframe":183,"../../utilities/domManipulation/delayedClose":187,"../../utilities/domManipulation/stickyHideMechanism":189,"../../utilities/domManipulation/stickyShowMechanism":190,"../../utilities/domManipulation/triggerCloseButtonCreation":191,"../../utilities/logger":192,"../../utilities/misc/getStickyPosition":194,"../../utilities/styleElements/addStickyCSS":197}],177:[function(e,t,i){"use strict";function n(e){function t(t){r(e,t)&&(i(t),a(e,t).run())}function i(t){try{var i=e[t],n=i.stickyDocument.head;s(n,'<script type="text/javascript">'+o+"<\/script>")}catch(e){}}return{run:t}}var r=e("../../utilities/domManipulation/addAdCodeOnIframe"),o=e("../../../../common/utilities").iframeResizerContentWindowCode,a=e("./nativeCollapseMutationObserver"),s=e("../../../../common/utilities/domManipulation/appendHTML");e("../../utilities/logger");t.exports=n},{"../../../../common/utilities":32,"../../../../common/utilities/domManipulation/appendHTML":14,"../../utilities/domManipulation/addAdCodeOnIframe":183,"../../utilities/logger":192,"./nativeCollapseMutationObserver":178}],178:[function(e,t,i){"use strict";function n(e,t){function i(){n(function(e){f(e,g,h)})}function n(i){function n(){try{var s=e[t].stickyDocument,l=s.querySelector('[id^="taboola-"]')||s.querySelector("[id^='postbid_if_']").contentWindow.document.querySelector('[id^="taboola-"]')}catch(e){}l?i(l):Date.now()-a>=r||setTimeout(n,o)}var r=1e4,o=100,a=Date.now();n()}function g(i){"AdTag"!==e[t].type&&v(i),y()}function h(){o(e,t)}function v(i){var n=e[t].code,r=e[t].stickyIframe,o=null;try{var a=/cdn\.taboola\.com\/libtrc\/(.*)\/loader\.js/,s=n.match(a)[1],l=/\d{3}x\d{3}|\d{3}x\d{2}/;o=s.match(l)[0]}catch(e){}if(null===o)return void function(){u({log:!1,checkOrigin:!1,heightCalculationMethod:"taggedElement",sizeWidth:!0,warningTimeout:1e4},r),i.setAttribute("data-iframe-height","")}();var c=parseInt(o.split("x")[0]),d=parseInt(o.split("x")[1]);r.width=c,r.height=d,i.style.width=c+"px",i.style.height=d+"px"}function y(){a(e,t),s(e,t),d(e,t),r(e,t),c||l(e,t)}p.addPositionLabel(m(t));return{run:i}}var r=e("../../../utilities/domManipulation/stickyShowMechanism"),o=e("../../../utilities/domManipulation/stickyHideMechanism"),a=e("../../../utilities/styleElements/addNativeCSS"),s=e("../../../utilities/styleElements/addStickyCSS"),l=e("../../../utilities/domManipulation/delayedClose"),c=e("../../../../../common/utilities/device").isMobileDevice,u=e("../../../../../common/libraries/iframeResizer"),d=e("../../../utilities/domManipulation/triggerCloseButtonCreation"),p=e("../../../utilities/logger"),m=e("../../../utilities/misc/getStickyPosition"),f=e("./utlities/observeTaboolaServedStatus");t.exports=n},{"../../../../../common/libraries/iframeResizer":3,"../../../../../common/utilities/device":13,"../../../utilities/domManipulation/delayedClose":187,"../../../utilities/domManipulation/stickyHideMechanism":189,"../../../utilities/domManipulation/stickyShowMechanism":190,"../../../utilities/domManipulation/triggerCloseButtonCreation":191,"../../../utilities/logger":192,"../../../utilities/misc/getStickyPosition":194,"../../../utilities/styleElements/addNativeCSS":196,"../../../utilities/styleElements/addStickyCSS":197,"./utlities/observeTaboolaServedStatus":179}],179:[function(e,t,i){function n(e,t,i){function n(n){var o=null,a={observeId:!1,trcContainerDisplay:!0,trcWrapperDisplay:!0};n.forEach(function(t){null===o&&("observeid"===t.attributeName&&(a.observeId=!0),t.target.className.includes("trc_rbox_container")&&"none"===e.getElementsByClassName("trc_rbox_container")[0].style.display&&(a.trcContainerDisplay=!1),t.target.id.includes("trc_wrapper_")&&"none"===e.querySelector("[id^=trc_wrapper_]").style.display&&(a.trcWrapperDisplay=!1))}),null===o&&(!1===a.trcContainerDisplay&&!1===a.trcWrapperDisplay&&!0!==a.observeId&&(o=!1,r.disconnect(),i(e)),(!0===a.observeId||!0===a.trcContainer&&!0===a.trcWrapper)&&(o=!0,r.disconnect(),t(e)))}var r=new MutationObserver(n);r.observe(e,{attributes:!0,childList:!1,attributeFilter:["observeid","id","style"],subtree:!0})}t.exports=n},{}],180:[function(e,t,i){"use strict";function n(e){return e.filter(function(e){return e.hasOwnProperty("targeting")&&e.targeting.hasOwnProperty("adblock")&&!1===e.targeting.adblock||e.hasOwnProperty("targeting")&&!e.targeting.hasOwnProperty("adblock")||!e.hasOwnProperty("targeting")})}t.exports=n},{}],181:[function(e,t,i){(function(i){(function(){"use strict";function n(){return new Promise(function(e){function t(){i.ProjectAgora.ab?e(!0):Date.now()>n+200?e(!1):window.setTimeout(t,50)}var n=Date.now();t()})}e("../logger");t.exports=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../logger":192}],182:[function(e,t,i){"use strict";function n(e){return e.filter(function(e){return e.hasOwnProperty("targeting")&&e.targeting.hasOwnProperty("adblock")&&!0===e.targeting.adblock})}t.exports=n},{}],183:[function(e,t,i){"use strict";function n(e,t){try{var i=e[t].code,n=e[t].stickyDocument;return r(n,i),!0}catch(e){o.addPositionLabel(a(t)).error(s.bqqm)}return!1}var r=e("../../../../common/utilities/domManipulation/appendHTML"),o=e("../logger"),a=e("../misc/getStickyPosition"),s=e("../../../../common/resources/messages");t.exports=n},{"../../../../common/resources/messages":5,"../../../../common/utilities/domManipulation/appendHTML":14,"../logger":192,"../misc/getStickyPosition":194}],184:[function(e,t,i){"use strict";function n(e,t){try{var i,n=document.body,u=r(e,t,n);return"top_center"===e[t].position?(i=o(e,t,u),a(e,t,u)):(a(e,t,u),i=o(e,t,u)),requestAnimationFrame(function(){i.appendChild(e[t].stickyIframe)}),!0}catch(e){return s.addPositionLabel(l(t)).error(c.csta,e),!1}}function r(e,t,i){var n=document.createElement("div"),r=e[t].position;return n.setAttribute("id","pa_sticky_ad_box_"+r),n.setAttribute("style","display: none;flex-direction: column;width: fit-content;"),i.appendChild(n),n}function o(e,t,i){var n=document.createElement("div"),r=e[t].position;return n.setAttribute("id","pa_sticky_ad_main_container_"+r),n.setAttribute("style","background-color: white;display: flex;justify-content: center;align-items: center;"),i.appendChild(n),n}function a(e,t,i){var n=document.createElement("div"),r="margin:0 auto 0 0;",o=e[t].position;"middle_right"!==o&&"bottom_right"!==o||(r="margin:0 0 0 auto;"),n.setAttribute("id","pa_sticky_ad_close_btn_"+o),n.setAttribute("style","display: flex;height: 25px;width: 30px;z-index: 1;"+r),i.appendChild(n)}var s=e("../logger"),l=e("../misc/getStickyPosition"),c=e("../../../../common/resources/messages");t.exports=n},{"../../../../common/resources/messages":5,"../logger":192,"../misc/getStickyPosition":194}],185:[function(e,t,i){"use strict";function n(e,t){r(e,t)}var r=e("./stickyHideMechanism");e("../logger"),e("../misc/getStickyPosition");t.exports=n},{"../logger":192,"../misc/getStickyPosition":194,"./stickyHideMechanism":189}],186:[function(e,t,i){function n(e,t){var i=e[t].stickyDocument,n=e[t].position,d="firefox"===a,p=document.getElementById("pa_sticky_ad_close_btn_"+n),m=i.createElement("span"),f=d?"font-size:"+l+"px;":"font-size:"+s+"px;",g=d?"font-size:"+u+"px;":"font-size:"+c+"px;",h=o?g:f;m.innerHTML="&times;",m.setAttribute("id","closeBtn");var v,y,b="",w="",A="";["bottom_right","middle_right"].indexOf(n)<0&&(b="border-width: 0px 0px 0px 1px;",w="border-style: solid;",A="border-left-color: #eddddd;"),"top_center"===n?(v="border-radius: 0% 0% 50% 0% / 0% 0% 50% 0%;",y="box-shadow: 2px 4px 10px -3px #0000005e;"):"middle_right"===n||"bottom_right"===n?(v="border-radius: 50% 0% 0% 0% / 50% 0% 0% 0%;",y="box-shadow: 0px -3px 10px -3px #0000005e;"):(v="border-radius: 0% 50% 0% 0% / 0% 50% 0% 0%;",y="box-shadow: 4px -3px 10px -3px #0000005e;"),m.setAttribute("style","background: #ffffff; color: black; height: 25px!important; width: 30px!important; text-align: center; cursor: pointer; font-weight: bold;"+h+b+w+v+A),p.style.cssText+=y+b+w+v+A,p.appendChild(m),m.addEventListener("click",r.bind(this,e,t))}var r=e("./collapseSticky"),o=e("../../../../common/utilities/device").isMobileDevice,a=e("../../../../common/utilities/device").whichBrowser,s=21,l=24,c=21,u=22;t.exports=n},{"../../../../common/utilities/device":13,"./collapseSticky":185}],187:[function(e,t,i){"use strict";function n(e,t){var i=e[t].elapse_time||18e4,n=setTimeout(function(){clearTimeout(n),r(e,t)},i)}var r=e("./collapseSticky");e("../logger"),e("../misc/getStickyPosition");t.exports=n},{"../logger":192,"../misc/getStickyPosition":194,"./collapseSticky":185}],188:[function(e,t,i){"use strict";function n(e,t){var i,n=null;try{i=r(e[t].position),n=i.id,e[t].stickyIframe=i}catch(e){}return n}function r(e){return o({id:"pa_sticky_ad_container_"+e,name:"pa_sticky_ad_container",position:e,frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0",style:"display:none;"})}var o=e("../../../../common/utilities/domManipulation/createGenericIframe");e("../logger");t.exports=n},{"../../../../common/utilities/domManipulation/createGenericIframe":17,"../logger":192}],189:[function(e,t,i){"use strict";function n(e,t){var i=e[t].stickyIframe;"top_center"!==e[t].position?i.parentElement.previousElementSibling.style.display="none":i.parentElement.nextElementSibling.style.display="none",i.style.display="none",i.parentElement.style.display="none",i.parentElement.parentElement.style.display="none"}e("../logger"),e("../misc/getStickyPosition");t.exports=n},{"../logger":192,"../misc/getStickyPosition":194}],190:[function(e,t,i){"use strict";function n(e,t){var i,n=e[t].stickyIframe;"top_center"!==e[t].position?(i=n.parentElement.previousElementSibling,"flex"!==i.style.display&&(i.style.display="flex")):(i=n.parentElement.nextElementSibling,"flex"!==i.style.display&&(i.style.display="flex")),"none"===n.style.display&&(n.style.display="block"),"flex"!==n.parentElement.style.display&&(n.parentElement.style.display="flex"),"flex"!==n.parentElement.parentElement.style.display&&(n.parentElement.parentElement.style.display="flex")}e("../logger"),e("../misc/getStickyPosition");t.exports=n},{"../logger":192,"../misc/getStickyPosition":194}],191:[function(e,t,i){"use strict";function n(e,t){var i=r(),n=e[t].delay_closeBtn||2e3;if(0===(n=i.onAfterSettingCloseButtonDelay(n)))o(e,t);else var a=setTimeout(function(){clearTimeout(a),o(e,t)},n)}var r=e("../../../../patches/hooks/sticky/utilities/triggerCloseButtonCreation"),o=e("./createCloseButton");t.exports=n},{"../../../../patches/hooks/sticky/utilities/triggerCloseButtonCreation":234,"./createCloseButton":186}],192:[function(e,t,i){var n=e("../../../common/utilities/logger"),r=new n({moduleName:"Sticky"});r.addPositionLabel=function(e){var t=new n({moduleName:"Sticky"});return t.addLabel({text:e}),t},t.exports=r},{"../../../common/utilities/logger":34}],193:[function(e,t,i){"use strict";function n(e){var t=null,i=r(e);return i&&(t=o(i)),t}function r(e){var t=[];return e.forEach(function(e){var i={},n=e.product;for(var r in n){var o={};o[r]=n[r],!0===n[r].enabled&&Object.assign(i,o)}0===Object.keys(i).length&&t.push(e),e.product=i}),t.forEach(function(t){e.indexOf(t)>-1&&e.splice(e.indexOf(t),1)}),e}var o=e("../../../../core/applier/utilities/getMaxPriorityRule");e("../logger");t.exports=n},{"../../../../core/applier/utilities/getMaxPriorityRule":46,"../logger":192}],194:[function(e,t,i){function n(e){return e.replace("pa_sticky_ad_container_","")}t.exports=n},{}],195:[function(e,t,i){"use strict";function n(e){var t=[],i={},n=e.product,d=c;for(var p in n){if(-1===l.indexOf(n[p].type))return o.error(a.iadr),!1;if(!n[p].code)return!1;if(s&&(d=u,n[p].hasOwnProperty("elapse_time")))return o.error(a.lhft),!1;if(-1===d.indexOf(n[p].position))return o.error(a.jnpg),!1;t.push(n[p].position),r(t)?i["pa_sticky_ad_container_"+n[p].position]=n[p]:0!==t.length&&t.pop()}return i}function r(e){var t=e.filter(function(t,i){return e.indexOf(t)==i});return e.length===t.length}var o=e("../logger"),a=e("../../../../common/resources/messages"),s=e("../../../../common/utilities/device").isMobileDevice,l=["AdTag","GAM","NativeDisplay"],c=["bottom_left","bottom_right","bottom_center","middle_left","middle_right"],u=["top_center","bottom_center"];t.exports=n},{"../../../../common/resources/messages":5,"../../../../common/utilities/device":13,"../logger":192}],196:[function(e,t,i){"use strict";function n(e,t){var i,n=e[t].stickyIframe,r=e[t].stickyDocument,o=r.querySelector("[id^='postbid_if_']");i=o||(r.querySelector('[id^="taboola-"]')?r.querySelector('[id^="taboola-"]'):n),i.style.backgroundColor="white"}t.exports=n},{}],197:[function(e,t,i){"use strict";function n(e,t){var i,n,a="",s="",l="",c="",u=["bottom_left","bottom_right","bottom_center"],d=e[t];if(Number.isInteger(d.stickyMarginTop)&&0!==d.stickyMarginTop&&"top_center"===d.position?(l="margin-top:"+d.stickyMarginTop+"px;",c="box-shadow: 12px -12px 15px -13px #0000005e, -12px -12px 15px -13px #0000005e;"):Number.isInteger(d.stickyMarginBottom)&&0!==d.stickyMarginBottom&&-1!==u.indexOf(d.position)?(l="margin-bottom:"+d.stickyMarginBottom+"px;",c="box-shadow: -12px 12px 15px -13px #0000005e, 12px 12px 15px -13px #0000005e;"):o?r.addStylesheet("#pa_sticky_ad_main_container_"+d.position+"{ box-shadow: 0px 0px 10px 1px #0000005e; }"):r.addStylesheet("#pa_sticky_ad_main_container_"+d.position+"{ box-shadow: -2px 10px 23px #0000005e;}"),i="position:fixed;z-index:9999999;"+c,o){var p="width:"+window.innerWidth+"px!important;";switch(d.position){case"top_center":s="top:0;right:50%;left:50%;transform:translate(-50%,0%);"+p+l+"}";break;case"bottom_center":s="bottom:0;right:50%;left:50%;transform:translate(-50%,0%);"+p+l+"}"}}else switch(i+="animation-name:margin_"+d.position+";animation-duration:2s;animation-fill-mode:forwards;",d.position){case"bottom_center":s="right:50%;left:50%;transform:translate(-50%,0%);"+l+"}",a="@keyframes margin_bottom_center {from{bottom:-100%} to{bottom:0%;};";break;case"bottom_right":s="bottom:0;"+l+"}",a="@keyframes margin_bottom_right {from{right:-100%} to{right:0};";break;case"bottom_left":s="bottom:0;"+l+"}",a="@keyframes margin_bottom_left {from{left:-100%} to{left:0};";break;case"middle_left":s="bottom:50%;transform:translate(0%,50%);}",a="@keyframes margin_middle_left {from{left:-100%} to{left:0};";break;case"middle_right":s="bottom:50%;transform:translate(0%,50%);}",a="@keyframes margin_middle_right {from{right:-100%} to{right:0};"}n=".pa_sticky_"+d.position+"_css {"+i+s+"}",a&&r.addStylesheet(a),r.addStylesheet(n),d.stickyIframe.parentElement.parentElement.classList.add("pa_sticky_"+d.position+"_css")}var r=e("../../../../common/utilities"),o=e("../../../../common/utilities/device").isMobileDevice;t.exports=n},{"../../../../common/utilities":32,"../../../../common/utilities/device":13}],198:[function(e,t,i){function n(e){window.top.addEventListener("hashchange",function(){if("#google_vignette"===decodeURIComponent(window.top.document.location.hash)){var t="gpt_unit_"+e+"_0",i=document.getElementById(t);if(!i)return;var n=i.childNodes[0];if(!n)return;var o=n.childNodes[0];if(!o)return;var a=o.contentDocument;if(!a)return;var s=a.querySelector("#ad_iframe");s&&"1px"===s.style.width&&"1px"===s.style.height&&(s.style.width="",s.style.height=""),r(s,a)}})}function r(e,t){var i=function(i){i.forEach(function(i){if("height"==i.attributeName&&"1px"==i.oldValue){if(s.device.whichMobileDevice){var r=t.querySelector("#creative");if(!r)return;var o=getComputedStyle(r),a=parseInt(o.marginTop),l=a-parseInt(e.height)/2+30;r.style.marginTop=l+"px",e.contentDocument.body.style.margin="auto"}n.disconnect()}})},n=new MutationObserver(i);n.observe(e,{attributes:!0,childList:!0,attributeOldValue:!0})}var o,a,s=e("../../common/utilities"),l=e("./services/sspFactory"),c=e("./utilities/logger"),u=e("../../common/resources/messages"),d={adserverRequestSent:!1,amazon:!1,prebid:!1},p=function(e){var t=e.VignetteAds;if(!window.ProjectAgora.ab)if(g())m().then(setTimeout(function(){f();var i=v(t),r=y(t);b(r).then(function(){if(i){var o=x(e);if(o){var s=k(t),l=T(t),c=E(t),u=C(t),d=S(t),p=I(s,r,l,c);if(0===p.mediaTypes.banner.sizes.length)return void G();M(t)&&(a=!0,P(r,l,c,d,o)),R(p,u,d,o),n(r)}}else G()})},6e3)).catch(function(e){c.error(u.vhki,e)});else if(K(t)){var i=Y(t),r=J(i);r||m().then(function(){}).catch(function(e){c.error(u.vhki,e)})}},m=function(){return new Promise(function(e){var t=document.createElement("div");t.setAttribute("id","pa-ftb"),t.setAttribute("data-vignette-loaded","true"),t.setAttribute("style","display: none;"),document.documentElement?(document.documentElement.appendChild(t),e()):document.addEventListener("DOMContentLoaded",function(){document.documentElement.appendChild(t),e()})})},f=function(){document.querySelector("#pa-ftb").remove()},g=function(){var e=window.localStorage.getItem("__lsv__");if(e){return h(e)>60}return!0},h=function(e){var t=parseInt(e.slice(1,-1),10),i=(new Date).getTime(),n=i-t,r=parseInt(Math.floor(n/1e3),10);return parseInt(Math.floor(r/60),10)},v=function(e){return!!e.adTagId.placement_conf.bidders.length},y=function(e){return e.adTagId.placement_conf.slotName},b=function(e){return new Promise(function(t){s.loadScript(document,"https://securepubads.g.doubleclick.net/tag/js/gpt.js","script","pa-gpt",w.bind(this,e,t))})},w=function(e,t){return window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],A(e),t()},A=function(e){window.googletag.cmd.push(function(){o=window.googletag.defineOutOfPageSlot(e,window.googletag.enums.OutOfPageFormat.INTERSTITIAL),o&&(o.setTargeting("pa_type",1),o.addService(window.googletag.pubads())),window.googletag.pubads().enableSingleRequest(),window.googletag.enableServices()})},x=function(e){if(e.sco&&e.sco.paSellerId)return e.sco.paSellerId},k=function(e){return e.adTagId.placement_conf.bidders},T=function(e){return e.adTagId.placement_size},E=function(e){return e.adTagId.placement_promo_sizes},C=function(e){return e.adTagId.placement_conf.prebid_timeout},S=function(e){return e.adTagId.placement_conf.failsafe_timeout},I=function(e,t,i,n){var r=_(e);return{code:t,mediaTypes:{banner:{sizes:L(i,n)}},bids:r}},_=function(e){var t=[];return e.forEach(function(e){var i=l.createSSP(e.type,JSON.parse(e.params));i&&t.push(i)}),t},L=function(e,t){var i="";i=t?e+","+t:e;var n=i.split(","),r=n.map(function(e){return e.split("x")}),o=r.map(function(e){return e.map(function(e){return parseInt(e)})}),a=screen.width,s=screen.height;if(a<1600||s<800){return o.filter(function(e){return e[0]<=970})}return o},M=function(e){return e.adTagId.placement_conf.enable_amazon},P=function(e,t,i,n,r){window.apstag?O(e,t,i,n,r):s.loadScript(document,"//c.amazon-adsystem.com/aax2/apstag.js","script","pa-ama",O.bind(this,e,t,i,n,r))},O=function(e,t,i,n){window.apstag.init({pubID:"3b730642-c756-433f-b056-268cc2bab05f",adServer:"googletag"}),N(e,t,i,n)},N=function(e,t,i,n){var r=L(t,i);window.apstag.fetchBids({slots:[{slotID:"gpt_unit_"+e+"_0",slotName:e,sizes:r}],timeout:n},function(e){window.googletag.cmd.push(function(){window.apstag.setDisplayBids(),d.amazon=!0,W()})})},R=function(e,t,i,n){setTimeout(function(){W()},i),s.loadScript(document,"https://cdn.pabidding.io/pb/paSolutionsPrebid.js","script","pa-vign",B.bind(this,e,t,i,n))},B=function(e,t,i,n){window.paSolutionsPbjs=window.paSolutionsPbjs||{},window.paSolutionsPbjs.que=window.paSolutionsPbjs.que||[];var r=[];if(r.push(F("pabid_bidder","bidderCode")),r.push(F("pabid_adid","adId")),r.push(F("pabid_pb","pbDg")),r.push(F("hb_size","size")),r.push(F("hb_source","source")),r.push(F("hb_format","mediaType")),r.push(V("pabidding","V1WZinVgCQ")),window.paSolutionsPbjs.bidderSettings={standard:{adserverTargeting:r,bidCpmAdjustment:z()},adform:{bidCpmAdjustment:U()}},D()){var o={gdpr:{consentManagementApi:"iab",timeout:1e4,defaultGdprScope:!0}};window.paSolutionsPbjs.setConfig({consentManagement:o})}window.paSolutionsPbjs.setConfig({currency:{adServerCurrency:"EUR",granularityMultiplier:1},schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"projectagora.com",sid:n,hp:1}]}},userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"},image:{bidders:"*",filter:"include"}}}}),j(e,t,i)},D=function(){return!!(window.ProjectAgora.consent&&window.ProjectAgora.consent.consentManagement&&window.ProjectAgora.consent.gdpr&&window.ProjectAgora.consent.gdpr.applies)},F=function(e,t){return{key:e,val:function(e){return e[t]}}},V=function(e,t){return{key:e,val:t}},z=function(){return function(e,t){return e}},U=function(){return function(e,t){return.9*e}},j=function(e,t){window.paSolutionsPbjs.que.push(function(){window.paSolutionsPbjs.addAdUnits(e),window.paSolutionsPbjs.requestBids({bidsBackHandler:H,timeout:t})})},H=function(e){window.paSolutionsPbjs.initAdserverSet=!0,window.googletag.cmd.push(function(){window.paSolutionsPbjs.setTargetingForGPTAsync&&window.paSolutionsPbjs.setTargetingForGPTAsync(),d.prebid=!0,W()})},W=function(){if(!0!==d.adserverRequestSent)return a?void(d.amazon&&d.prebid&&q()):void q()},q=function(){d.adserverRequestSent=!0,window.googletag.cmd.push(function(){window.paRefresh?window.paRefresh([o]):window.googletag.pubads().refresh([o])})},G=function(){window.googletag&&window.googletag.cmd.push(function(){window.googletag.pubads().isInitialLoadDisabled()?window.paRefresh?window.paRefresh([o]):window.googletag.pubads().refresh([o]):window.googletag.display(o)})},K=function(e){return e.adTagId.placement_conf.enable_taboola},J=function(e){var t=window.localStorage.getItem("__lsv__"),i=h(t);return i>e&&i<60-e},Y=function(e){var t=e.adTagId.placement_conf.taboola_delay;return t||5};t.exports={run:p}},{"../../common/resources/messages":5,"../../common/utilities":32,"./services/sspFactory":199,"./utilities/logger":220}],199:[function(e,t,i){var n=e("./ssps/appnexus"),r=e("./ssps/adform"),o=e("./ssps/criteo"),a=e("./ssps/emx_digital"),s=e("./ssps/ix"),l=e("./ssps/connectad"),c=e("./ssps/pubmatic"),u=e("./ssps/smart"),d=e("./ssps/rubicon"),p=e("./ssps/sovrn"),m=e("./ssps/openx"),f=e("./ssps/triplelift"),g=e("./ssps/onetag"),h=e("./ssps/nobid"),v=e("./ssps/eplanning"),y=e("./ssps/rtbhouse"),b=e("./ssps/vidoomy"),w=e("./ssps/medianet"),A=e("./ssps/sharethrough"),x=e("./ssps/smaato"),k={appnexus:n,adform:r,criteo:o,emx_digital:a,ix:s,connectad:l,pubmatic:c,smart:u,rubicon:d,sovrn:p,openx:m,triplelift:f,onetag:g,nobid:h,eplanning:v,rtbhouse:y,vidoomy:b,medianet:w,sharethrough:A,smaato:x},T=function(e,t){return!!k.hasOwnProperty(e)&&k[e].getConfig(e,t)};t.exports={createSSP:T}},{"./ssps/adform":200,"./ssps/appnexus":201,"./ssps/connectad":202,"./ssps/criteo":203,"./ssps/emx_digital":204,"./ssps/eplanning":205,"./ssps/ix":206,"./ssps/medianet":207,"./ssps/nobid":208,"./ssps/onetag":209,"./ssps/openx":210,"./ssps/pubmatic":211,"./ssps/rtbhouse":212,"./ssps/rubicon":213,"./ssps/sharethrough":214,"./ssps/smaato":215,"./ssps/smart":216,"./ssps/sovrn":217,"./ssps/triplelift":218,"./ssps/vidoomy":219}],200:[function(e,t,i){var n=function(e,t){return t.adxDomain||(t.adxDomain="adx.adform.net"),t.mid=parseInt(t.mid),{bidder:"adf",params:t}};t.exports={getConfig:n}},{}],201:[function(e,t,i){var n=function(e,t){return t.reserve&&delete t.reserve,t.placementId=parseInt(t.placementId),{bidder:e,params:t}};t.exports={getConfig:n}},{}],202:[function(e,t,i){var n=function(e,t){return t.bidfloor&&delete t.bidfloor,t.networkId=parseInt(t.networkId),t.siteId=parseInt(t.siteId),{bidder:e,params:t}};t.exports={getConfig:n}},{}],203:[function(e,t,i){var n=function(e,t){return t.zoneId=parseInt(t.zoneId),t.publisherSubId=t.publisherSubId.toString(),{bidder:e,params:t}};t.exports={getConfig:n}},{}],204:[function(e,t,i){var n=function(e,t){return t.bidfloor&&delete t.bidfloor,{bidder:e,params:t}};t.exports={getConfig:n}},{}],205:[function(e,t,i){var n=function(e,t){return t.sn=t.sn.toString(),{bidder:e,params:t}};t.exports={getConfig:n}},{}],206:[function(e,t,i){var n=function(e,t){var i=t.size.split("x"),n=i.map(function(e){return parseInt(e)});return t.size=n,{bidder:e,params:t}};t.exports={getConfig:n}},{}],207:[function(e,t,i){var n=function(e,t){return{bidder:e,params:t}};t.exports={getConfig:n}},{}],208:[function(e,t,i){var n=function(e,t){return t.placementId=parseInt(t.placementId),t.siteId=parseInt(t.siteId),{bidder:e,params:t}};t.exports={getConfig:n}},{}],209:[function(e,t,i){var n=function(e,t){return{bidder:e,params:{ext:{placement_name:t.placement_name.toString()},pubId:"68827c0f1833c68"}}};t.exports={getConfig:n}},{}],210:[function(e,t,i){var n=function(e,t){return t.customFloor&&delete t.customFloor,t.delDomain="projectagora-d.openx.net",{bidder:e,params:t}};t.exports={getConfig:n}},{}],211:[function(e,t,i){var n=function(e,t){return t.kadpageurl&&delete t.kadpageurl,t.kadfloor&&delete t.kadfloor,t.publisherId="156400",{bidder:e,params:t}};t.exports={getConfig:n}},{}],212:[function(e,t,i){arguments[4][207][0].apply(i,arguments)},{dup:207}],213:[function(e,t,i){var n=function(e,t){return delete t.referrer,t.sizes&&delete t.sizes,t.floor&&delete t.floor,t.accountId=parseInt(t.accountId),t.siteId=parseInt(t.siteId),t.zoneId=parseInt(t.zoneId),{bidder:e,params:t}};t.exports={getConfig:n}},{}],214:[function(e,t,i){arguments[4][207][0].apply(i,arguments)},{dup:207}],215:[function(e,t,i){arguments[4][207][0].apply(i,arguments)},{dup:207}],216:[function(e,t,i){var n=function(e,t){var i="http://prg.smartadserver.com";return t.hasOwnProperty("isSecure")&&t.isSecure&&(i="https://prg.smartadserver.com"),t.bidfloor&&delete t.bidfloor,delete t.isSecure,t.formatId=parseInt(t.formatId),t.pageId=parseInt(t.pageId),t.siteId=parseInt(t.siteId),t.domain=i,{bidder:e,params:t}};t.exports={getConfig:n}},{}],217:[function(e,t,i){arguments[4][204][0].apply(i,arguments)},{dup:204}],218:[function(e,t,i){var n=function(e,t){return t.floor&&delete t.floor,{bidder:e,params:t}};t.exports={getConfig:n}},{}],219:[function(e,t,i){arguments[4][207][0].apply(i,arguments)},{dup:207}],220:[function(e,t,i){arguments[4][104][0].apply(i,arguments)},{"../../../common/utilities/logger":34,dup:104}],221:[function(e,t,i){"use strict";function n(){function e(e,i){return!!t(i)||e}function t(e){var t=["eluniversal.com.co","mawdoo3.com"],i=window.location.hostname;return!!t.find(function(e){return i.indexOf(e)>-1})&&(e&&e.hasOwnProperty("eventStatus")&&null===e.eventStatus?(r.warn(o.lbrt),!0):(r.warn(o.zazw),!1))}return{onAfterSuccessfulResponse:e}}var r=e("../../../core/gdpr/utilities/logger"),o=e("../../../common/resources/messages");t.exports=n},{"../../../common/resources/messages":5,"../../../core/gdpr/utilities/logger":78}],222:[function(e,t,i){"use strict";function n(){function e(e){-1===location.hostname.indexOf("sport24.gr")&&function(e){r.getParents(e).forEach(function(e){var t=getComputedStyle(e).overflow;-1==t.indexOf("auto")&&-1==t.indexOf("hidden")&&-1==t.indexOf("scroll")||(e.style="overflow: visible!important")})}(e.videoad)}return{onAfterPlaceholderAdded:e}}var r=e("../../../../../common/utilities");e("../../../../../modules/magic/utilities/logger");t.exports=n},{"../../../../../common/utilities":32,"../../../../../modules/magic/utilities/logger":161}],223:[function(e,t,i){"use strict";function n(e,t,i,n){function c(){-1!==location.hostname.indexOf("spotmedia.ro")&&a("[id^='pa_1x1_psbk_'] > [id^='postbid_if_'] {width:unset!important; margin:auto!important;}")}
function p(){var n=!1;if("www.bovary.gr"===e.siteName&&e.isDirect&&window.dataLayer&&"Fashion"===window.dataLayer[0].pageMainCategory)throw new Error(u.bvue);var r;if("www.filgoal.com"===e.siteName&&null!==(r=function(t){var i="div."+t;return e.doc.querySelector(i)}("scrbbl-embed"))){if(t.run(),void 0!==e.videoad)try{e.containerName.insertBefore(e.videoad,r.nextElementSibling),e.domVideoAd=e.doc.getElementById(e.videoAdId),h()}catch(e){throw new Error(u.pbsh)}n=!0}else if("www.meteorologos.gr"===e.siteName){var o,a;if(t.run(),!(o=document.querySelector("#component > div.component-bot > div.forcast-days")))throw new Error(u.dsym);if(!(a=o.previousElementSibling))throw new Error(u.gjhs);e.elemToAppend=a,i.run(e.elemToAppend),h(),n=!0}return n}function f(){if(-1!==window.location.hostname.indexOf("sport24.gr")){if(void 0===e.containerName||null===e.containerName)throw new Error(u.mxkc);var t=r.getMedia(e.containerName,e.countElementTypes,e.siteName);if(!(l(e)<=t.totalTextElements&&t.totalTextElements>=m))throw new Error(u.sdyi)}}function g(){var t=o.patches(d);if(t)for(var i=e.indexOfValids;s(e.elemToAppend,t);){if(!((i+=1)<e.valids.length)){e.elemToAppend=null;break}e.elemToAppend=e.all[e.valids[i].index]}"www.projectagora.com"===e.siteName&&-1!==window.location.pathname.indexOf("/magic/vertigo/vertigo_preview4.html")&&(e.elemToAppend=e.all[e.valids[e.indexOfValids].index]),"www.ant1iwo.com"===e.siteName&&(e.elemToAppend=e.all[e.valids[3].index])}var h=n.bindEvents;return{onBeforeInitialization:c,onBeforeApplyingPositioning:p,onBeforeApplyingCustomPositioning:f,onBeforeAppendingVideoAd:g}}var r=e("../../../modules/magic/utilities/modules/articleAvailability"),o=e("../../../common/resources"),a=e("../../../modules/magic/utilities").addcss,s=e("../../utilities/magicPositionPatch"),l=e("../../../modules/magic/utilities/functions/getParagraphLimit"),c=e("../../../core/targeting/utilities/getSiteConfig"),u=e("../../../common/resources/messages"),d=c(),p=e("../../../common/utilities/device").isMobileDevice,m=p?1:2;t.exports=n},{"../../../common/resources":4,"../../../common/resources/messages":5,"../../../common/utilities/device":13,"../../../core/targeting/utilities/getSiteConfig":94,"../../../modules/magic/utilities":160,"../../../modules/magic/utilities/functions/getParagraphLimit":158,"../../../modules/magic/utilities/modules/articleAvailability":162,"../../utilities/magicPositionPatch":237}],224:[function(e,t,i){"use strict";function n(){function e(){if(-1!==window.location.hostname.indexOf("sport24.gr"))return document.querySelectorAll('[id^="pa__pos_"]')}return{onBeforePickingAutoAdElements:e}}t.exports=n},{}],225:[function(e,t,i){"use strict";function n(e){function t(t){return!(!r||-1===e.siteName.indexOf("iefimerida.gr"))||t}return{onBeforeExcludingVertigo:t}}var r=e("../../../../../../common/utilities/device").isMobileDevice;t.exports=n},{"../../../../../../common/utilities/device":13}],226:[function(e,t,i){"use strict";function n(e){function t(){a&&r(e.videoad)}function i(){a&&r(e.videoad,!0)}function n(){"www.tayyar.org"===window.location.host&&(c=document.getElementById(e.inArticleLightIframeId),l=c.style.cssText,o(e,l,c))}function s(){"www.tayyar.org"===window.location.host&&o(e,l,c)}var l,c;return{onBeforeFirstInitialization:t,onBeforeDisplayingSocialCards:i,onAfterFirstInitialization:n,onAfterResize:s}}var r=e("../../../../utilities/bziPatch"),o=e("../../../../utilities/tayyarPatch"),a=e("../../../../utilities/isBziSite");t.exports=n},{"../../../../utilities/bziPatch":235,"../../../../utilities/isBziSite":236,"../../../../utilities/tayyarPatch":238}],227:[function(e,t,i){"use strict";function n(e){function t(e){o&&r(e,!0)}function i(e,t){-1!==window.location.hostname.indexOf("athensvoice.gr")&&(e.contentWindow.document.getElementById("videoContainer").style.cssText+="position:fixed; bottom:0;",function(e,t){var i=document.getElementById("videoad");new ResizeObserver(function(n){n.forEach(function(){t(e,i.getBoundingClientRect().width)})}).observe(i)}(t,a))}function n(e,t){if(window.location.hostname.includes("libertatea.ro"))try{e=function(e){var t=getComputedStyle(e),i=e.clientWidth,n=e.clientHeight;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),i-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),{height:n,width:i}}(t.parentElement).width,e>800&&(e=800),t.style.maxHeight="450px";var i=document.querySelector("#videoad > iframe#frmPAVast");i.style.maxWidth="800px",i.style.maxHeight="450px";var n=document.querySelector("#videoad > iframe#paVastIframe").contentWindow.document.getElementById("VpaidVideo");n.style.maxWidth="800px",n.style.maxHeight="450px"}catch(e){}return e}var a=e.resizeVpaid;return{onAfterAdStarted:t,onBeforeFirstExpand:i,onAfterVideoPlayerWidthCalculated:n}}var r=e("../../../../../../utilities/bziPatch"),o=e("../../../../../../utilities/isBziSite");e("../../../../../../../modules/magic/utilities/logger");t.exports=n},{"../../../../../../../modules/magic/utilities/logger":161,"../../../../../../utilities/bziPatch":235,"../../../../../../utilities/isBziSite":236}],228:[function(e,t,i){"use strict";function n(){function e(e,t){return"www.romaniatv.net"===e.siteName||t}return{onBeforeCheckToAcceptNode:e}}t.exports=n},{}],229:[function(e,t,i){"use strict";function n(e){function t(t){return-1!==e.siteName.indexOf("tajuki")||t}return{onAfterContainerValidityCheck:t}}t.exports=n},{}],230:[function(e,t,i){"use strict";function n(e){function t(t,i,n){function a(e){return e&&r.matchStringInArray(Array.prototype.slice.call(e.classList),o.STRAWBERRY_EXCLUDE_WORD)}function s(e){return e&&e.classList.contains(o.SKIP_CLASS_ELEMENTS_FOR_INARTICLE[m])}function l(e){var t=e.getElementsByTagName("SCRIPT"),i=t.length;if(t&&i>0){t=[].slice.call(t);for(var n=0;n<i;n++)if(t[n].src&&-1!==t[n].src.indexOf("//ads.projectagoraservices.com/?id="))return!0}return!1}if(-1!==e.siteName.indexOf("promotions.hu")&&(t.previousElementSibling&&l(t.previousElementSibling)||t.nextElementSibling&&l(t.nextElementSibling)))return n[i].valid=!1,void(n[i].fromPatch=!0);if(r.matchStringInArray(o.SITES_WITH_STRAWBERRYADS,e.siteName)){var c=n[i].index-1,u=e.all[c],d=n[i].index+1,p=e.all[d];if(a(t.previousElementSibling)||a(t.nextElementSibling)||a(u)||a(p))return n[i].valid=!1,void(n[i].fromPatch=!0);for(var m=0,f=o.SKIP_CLASS_ELEMENTS_FOR_INARTICLE.length;m<f;m++)if(s(t.previousElementSibling)||s(t.nextElementSibling)||s(u)||s(p))return n[i].valid=!1,void(n[i].fromPatch=!0)}if(-1!==e.siteName.indexOf("newsar.ro")){var g=r.getParents(t);if(function(e,t){if(!e)return!1;if(0===e.length)return!1;for(var i=!1,n=e.length,r=0;r<n;r++)if(e[r].id&&e[r].id===t){i=!0;break}return i}(g,"respond"))return n[i].valid=!1,void(n[i].fromPatch=!0)}}return{onAfterCheckingElementValidity:t}}var r=e("../../../../../common/utilities"),o=e("../../../../../common/resources");t.exports=n},{"../../../../../common/resources":4,"../../../../../common/utilities":32}],231:[function(e,t,i){"use strict";function n(e){function t(){-1===location.hostname.indexOf("www.okaz.com.sa")||o||(e.magicScrollTarget=document.querySelector(".modal-inner")||e.doc),function(){return"www.pagenews.gr"===document.location.hostname||"dev.pagenews.gr"===document.location.hostname}()&&o&&null===e.containerName&&(e.containerName=r(e.doc,e.selected_format.selectorType,"#top > div.skinshrink > mcms-media > main > div > div > div > div:nth-child(2) > article-view > div > div > div.row.widget.bg-black > div > div.col-xlg-8.col-lg-8.col-md-8.col-sm-12.col-xs-12.main > div > div:nth-child(2)"))}return{onAfterConfigurationCache:t}}var r=e("../../../../../modules/magic/utilities/functions/getMainContentWrapper"),o=e("../../../../../common/utilities/device").isMobileDevice;t.exports=n},{"../../../../../common/utilities/device":13,"../../../../../modules/magic/utilities/functions/getMainContentWrapper":157}],232:[function(e,t,i){"use strict";function n(){function e(){if(-1!==window.location.hostname.indexOf("sport24.gr"))return"0px 0px 300px 0px"}return{onBeforeSettingObserverRootMargin:e}}t.exports=n},{}],233:[function(e,t,i){"use strict";function n(){function e(){return function(){var e=document.location.hostname;return e.indexOf("portfolio.hu")>-1||e.indexOf("infostart.hu")>-1||e.indexOf("agrarszektor.hu")>-1||e.indexOf("penzcentrum.hu")>-1}()?";margin-bottom:20px":""}return{onAfterStylingVideoAd:e}}t.exports=n},{}],234:[function(e,t,i){"use strict";function n(){function e(e){return function(){var e=["www.culturenow.gr","blogs.gossip-tv.gr/nassos","blogs.gossip-tv.gr/fwtostefano","www.leoforos.gr","www.newsbomb.com.cy","www.ratpack.gr","www.funtime.gr","www.gossip-tv.gr","www.astrology.gr","www.queen.gr","www.onmed.gr","www.onsports.gr","www.mothersblog.gr","plus.queen.gr","teen.queen.gr","www.newsbomb.gr","www.iellada.gr","www.dokari.gr","www.cnn.gr","akispetretzikis.com"],t=document.location.hostname;return t&&e.indexOf(t)>-1}()?0:e}return{onAfterSettingCloseButtonDelay:e}}t.exports=n},{}],235:[function(e,t,i){"use strict";function n(e,t){function i(){var t;r++;for(var i=e.getElementsByTagName("iframe"),s=0;s<i.length;s++)if((i[s].id.indexOf("polar")>-1||"AgoraHead"===i[s].id||"frmPAVast"===i[s].id)&&i[s].style.height){t=i[s].style.height;var l=i[s].style;l.setProperty("height",t,"important"),l.maxHeight="none",l.maxWidth="none",o=!0}n&&(r>10||o)&&clearInterval(a)}var n=!!t,r=0,o=!1;if(e)if(n)var a=window.setInterval(i,1e3);else i()}t.exports=n},{}],236:[function(e,t,i){"use strict";var n=window.location.host.indexOf("bzi.ro")>-1||"www.bzc.ro"===window.location.host||"www.skai.gr"===window.location.host&&"/mobile/article"===window.location.pathname||"www.turnulsfatului.ro"===window.location.host;t.exports=n},{}],237:[function(e,t,i){"use strict";function n(e,t){if(t.checkNodeType)return e.tagName.toLowerCase()===t.checkNodeType||3!==e.previousSibling.nodeType&&e.previousSibling.tagName.toLowerCase()===t.checkNodeType;if(t.skipElemText&&-1!==e.innerText.indexOf(t.skipElemText))return!0;var i,n,l,c,u,d,p,m;if(Array.isArray(t.t)&&Array.isArray(t.n)&&t.t.length===t.n.length){i=[];for(var f=0;f<t.n.length;f++)i.push(s(t.t[f],t.n[f]))}else i=s(t.t,t.n);if(i&&Array.isArray(i)){for(var g,h,v=[],y=0;y<i.length;y++)i[y]&&(g={selectedAd:i[y],start:o(i[y]),end:o(i[y])+(r(i[y])>(t.heightTH?t.heightTH[y]:0)?r(i[y]):t.heightTH?t.heightTH[y]:0)},v.push(g));for(var b=0;b<v.length;b++)a(e)<=v[b].end&&a(e)>=v[b].start&&(h=v[b]);return m=a(e)+e.clientHeight,!!h&&(!(m<o(h.selectedAd))&&h.end>m)}return i?(l=getComputedStyle(i),c=parseInt(l.getPropertyValue("margin-top"),10),u=parseInt(l.getPropertyValue("margin-bottom"),10),d=parseInt(l.getPropertyValue("border-top"),10),p=parseInt(l.getPropertyValue("border-bottom"),10),t.heightTH&&2===t.heightTH.length&&i.clientHeight<t.heightTH[0]&&(i.clientHeight=t.heightTH[1]),n=a(i)+(t.heightTH?300:0)+i.clientHeight+(isNaN(c)?0:c)+(isNaN(u)?0:u)+(isNaN(d)?0:d)+(isNaN(p)?0:p),!((m=a(e)+e.clientHeight)<a(i))&&n>m):void 0}function r(e){e="string"==typeof e?document.querySelector(e):e;var t=window.getComputedStyle(e),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom);return Math.ceil(e.offsetHeight+i)}function o(e){e="string"==typeof e?document.querySelector(e):e;var t=window.getComputedStyle(e),i=parseFloat(t.marginTop);return Math.ceil(a(e)-i)}function a(e){var t=window.getComputedStyle(e),i=t.display,n=t.position,r=t.visibility,o=t.maxHeight.replace("px","").replace("%",""),a=0;return"none"!==i&&"0"!==o?e.offsetTop:(e.style.position="absolute",e.style.visibility="hidden",e.style.display="block",a=e.offsetTop,e.style.display=i,e.style.position=n,e.style.visibility=r,a)}function s(e,t){var i;switch(e){case"id":i=l.getElementById(t);break;case"class":i=l.getElementsByClassName(t)[0];break;case"tag":i=l.getElementsByTagName(t)[0];break;case"querySelector":i=l.querySelector(t);break;default:i=void 0}return i}var l=document;t.exports=n},{}],238:[function(e,t,i){"use strict";function n(e,t){var i,n=document.getElementById(e.inArticleLightIframeId);i=window.innerHeight>window.innerWidth?"portrait":"landscape";var o=window.innerWidth>0?window.innerWidth:screen.width,a="left: "+o/2.5+"px!important;";n.style.cssText=a;var s=t+a;n.style.cssText=n&&r&&"portrait"===i?s:t}var r=e("../../common/utilities/device").isMobileDevice;t.exports=n},{"../../common/utilities/device":13}]},{},[97]);